/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable } from '@angular/core';
import { map } from 'rxjs/operators';
import { EndpointsConstants } from '@cemex-core/constants-v2/dist';
import { HttpCemex } from './http.service';
var LegalEntity = /** @class */ (function () {
    function LegalEntity(http, endpoints) {
        this.http = http;
        this.endpoints = endpoints;
    }
    /**
     * @return {?}
     */
    LegalEntity.prototype.getLegalEntity = /**
     * @return {?}
     */
    function () {
        return this.http
            .get(this.getUrl('legalentity'))
            .pipe(map((/**
         * @param {?} response
         * @return {?}
         */
        function (response) {
            /** @type {?} */
            var aux = response.json();
            return aux;
        })))
            .toPromise()
            .then((/**
         * @param {?} data
         * @return {?}
         */
        function (data) { return data; }))
            .catch((/**
         * @param {?} error
         * @return {?}
         */
        function (error) { return error; }));
    };
    /**
     * @return {?}
     */
    LegalEntity.prototype.getAllLegalEntityCustomers = /**
     * @return {?}
     */
    function () {
        return this.http
            .get(this.getUrl('legalentitycustomers'))
            .pipe(map((/**
         * @param {?} response
         * @return {?}
         */
        function (response) {
            /** @type {?} */
            var aux = response.json();
            /** @type {?} */
            var snapshot = aux.responseLegalEntity.customer;
            return snapshot;
        })))
            .toPromise()
            .then((/**
         * @param {?} data
         * @return {?}
         */
        function (data) { return data; }))
            .catch((/**
         * @param {?} error
         * @return {?}
         */
        function (error) { return error; }));
    };
    /**
     * @param {?} customerCode
     * @return {?}
     */
    LegalEntity.prototype.getLegalEntityByCustomer = /**
     * @param {?} customerCode
     * @return {?}
     */
    function (customerCode) {
        return this.http
            .get(this.getUrl('legalentity?customerCode=' + customerCode))
            .pipe(map((/**
         * @param {?} response
         * @return {?}
         */
        function (response) {
            /** @type {?} */
            var aux = response.json();
            /** @type {?} */
            var snapshot = aux.responseLegalEntity.company;
            return snapshot;
        })))
            .toPromise()
            .then((/**
         * @param {?} data
         * @return {?}
         */
        function (data) { return data; }))
            .catch((/**
         * @param {?} error
         * @return {?}
         */
        function (error) { return error; }));
    };
    /**
     * @param {?} companyCode
     * @return {?}
     */
    LegalEntity.prototype.getLegalEntityByCompany = /**
     * @param {?} companyCode
     * @return {?}
     */
    function (companyCode) {
        return this.http
            .get(this.getUrl('legalentity?companyCode=' + companyCode))
            .pipe(map((/**
         * @param {?} response
         * @return {?}
         */
        function (response) {
            /** @type {?} */
            var aux = response.json();
            /** @type {?} */
            var snapshot = aux.responseLegalEntity.customer;
            return snapshot;
        })))
            .toPromise()
            .then((/**
         * @param {?} data
         * @return {?}
         */
        function (data) { return data; }))
            .catch((/**
         * @param {?} error
         * @return {?}
         */
        function (error) { return error; }));
    };
    /**
     * @param {?} customerCode
     * @param {?} companyCode
     * @return {?}
     */
    LegalEntity.prototype.getLegalEntityJobsites = /**
     * @param {?} customerCode
     * @param {?} companyCode
     * @return {?}
     */
    function (customerCode, companyCode) {
        /** @type {?} */
        var api = 'legalentityjobsites?companyCode=' +
            companyCode +
            '&customerCode=' +
            customerCode;
        return this.http
            .get(this.getUrl(api))
            .pipe(map((/**
         * @param {?} response
         * @return {?}
         */
        function (response) {
            /** @type {?} */
            var aux = response.json();
            /** @type {?} */
            var snapshot = aux.responseLegalEntity.jobSite;
            return snapshot;
        })))
            .toPromise()
            .then((/**
         * @param {?} data
         * @return {?}
         */
        function (data) { return data; }))
            .catch((/**
         * @param {?} error
         * @return {?}
         */
        function (error) { return error; }));
    };
    /**
     * @param {?} api
     * @return {?}
     */
    LegalEntity.prototype.getUrl = /**
     * @param {?} api
     * @return {?}
     */
    function (api) {
        /** @type {?} */
        var url = this.http.generateEndpoint(this.endpoints.V1 + this.endpoints.armCapability + api);
        return url;
    };
    LegalEntity.decorators = [
        { type: Injectable }
    ];
    /** @nocollapse */
    LegalEntity.ctorParameters = function () { return [
        { type: HttpCemex },
        { type: EndpointsConstants }
    ]; };
    return LegalEntity;
}());
export { LegalEntity };
if (false) {
    /**
     * @type {?}
     * @protected
     */
    LegalEntity.prototype.http;
    /**
     * @type {?}
     * @private
     */
    LegalEntity.prototype.endpoints;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGVnYWxFbnRpdHkuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BjZW1leC1jb3JlL2FuZ3VsYXItc2VydmljZXMtdjcvIiwic291cmNlcyI6WyJsaWIvbGVnYWxFbnRpdHkuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUUzQyxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFckMsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFRbkUsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRTNDO0lBRUUscUJBQ1ksSUFBZSxFQUNqQixTQUE2QjtRQUQzQixTQUFJLEdBQUosSUFBSSxDQUFXO1FBQ2pCLGNBQVMsR0FBVCxTQUFTLENBQW9CO0lBQ3BDLENBQUM7Ozs7SUFFRyxvQ0FBYzs7O0lBQXJCO1FBQ0UsT0FBTyxJQUFJLENBQUMsSUFBSTthQUNiLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDO2FBQy9CLElBQUksQ0FDSCxHQUFHOzs7O1FBQUMsVUFBQSxRQUFROztnQkFDSixHQUFHLEdBQW1CLFFBQVEsQ0FBQyxJQUFJLEVBQUU7WUFDM0MsT0FBTyxHQUFHLENBQUM7UUFDYixDQUFDLEVBQUMsQ0FDSDthQUNBLFNBQVMsRUFBRTthQUNYLElBQUk7Ozs7UUFBQyxVQUFBLElBQUksSUFBSSxPQUFBLElBQUksRUFBSixDQUFJLEVBQUM7YUFDbEIsS0FBSzs7OztRQUFDLFVBQUEsS0FBSyxJQUFJLE9BQUEsS0FBSyxFQUFMLENBQUssRUFBQyxDQUFDO0lBQzNCLENBQUM7Ozs7SUFFTSxnREFBMEI7OztJQUFqQztRQUNFLE9BQU8sSUFBSSxDQUFDLElBQUk7YUFDYixHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO2FB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LFNBQVMsQ0FBQyxhQUFhLEdBQUcsR0FBRyxDQUN2RDtRQUNELE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQzs7Z0JBOUZGLFVBQVU7Ozs7Z0JBRkYsU0FBUztnQkFSVCxrQkFBa0I7O0lBeUczQixrQkFBQztDQUFBLEFBL0ZELElBK0ZDO1NBOUZZLFdBQVc7Ozs7OztJQUVwQiwyQkFBeUI7Ozs7O0lBQ3pCLGdDQUFxQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5pbXBvcnQgeyBFbmRwb2ludHNDb25zdGFudHMgfSBmcm9tICdAY2VtZXgtY29yZS9jb25zdGFudHMtdjIvZGlzdCc7XG5pbXBvcnQge1xuICBDb21wYW55LFxuICBDdXN0b21lcixcbiAgSm9ic2l0ZSxcbiAgTGVnYWxFbnRpdHlEVE9cbn0gZnJvbSAnQGNlbWV4LWNvcmUvdHlwZXMtdjIvZGlzdCc7XG5cbmltcG9ydCB7IEh0dHBDZW1leCB9IGZyb20gJy4vaHR0cC5zZXJ2aWNlJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIExlZ2FsRW50aXR5IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJvdGVjdGVkIGh0dHA6IEh0dHBDZW1leCxcbiAgICBwcml2YXRlIGVuZHBvaW50czogRW5kcG9pbnRzQ29uc3RhbnRzXG4gICkge31cblxuICBwdWJsaWMgZ2V0TGVnYWxFbnRpdHkoKTogUHJvbWlzZTxMZWdhbEVudGl0eURUTz4ge1xuICAgIHJldHVybiB0aGlzLmh0dHBcbiAgICAgIC5nZXQodGhpcy5nZXRVcmwoJ2xlZ2FsZW50aXR5JykpXG4gICAgICAucGlwZShcbiAgICAgICAgbWFwKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICBjb25zdCBhdXg6IExlZ2FsRW50aXR5RFRPID0gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIHJldHVybiBhdXg7XG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICAudG9Qcm9taXNlKClcbiAgICAgIC50aGVuKGRhdGEgPT4gZGF0YSlcbiAgICAgIC5jYXRjaChlcnJvciA9PiBlcnJvcik7XG4gIH1cblxuICBwdWJsaWMgZ2V0QWxsTGVnYWxFbnRpdHlDdXN0b21lcnMoKTogUHJvbWlzZTxDdXN0b21lcltdPiB7XG4gICAgcmV0dXJuIHRoaXMuaHR0cFxuICAgICAgLmdldCh0aGlzLmdldFVybCgnbGVnYWxlbnRpdHljdXN0b21lcnMnKSlcbiAgICAgIC5waXBlKFxuICAgICAgICBtYXAocmVzcG9uc2UgPT4ge1xuICAgICAgICAgIGNvbnN0IGF1eDogTGVnYWxFbnRpdHlEVE8gPSByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhdXgucmVzcG9uc2VMZWdhbEVudGl0eS5jdXN0b21lcjtcbiAgICAgICAgICByZXR1cm4gc25hcHNob3Q7XG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICAudG9Qcm9taXNlKClcbiAgICAgIC50aGVuKGRhdGEgPT4gZGF0YSlcbiAgICAgIC5jYXRjaChlcnJvciA9PiBlcnJvcik7XG4gIH1cblxuICBwdWJsaWMgZ2V0TGVnYWxFbnRpdHlCeUN1c3RvbWVyKGN1c3RvbWVyQ29kZTogYW55KTogUHJvbWlzZTxDb21wYW55W10+IHtcbiAgICByZXR1cm4gdGhpcy5odHRwXG4gICAgICAuZ2V0KHRoaXMuZ2V0VXJsKCdsZWdhbGVudGl0eT9jdXN0b21lckNvZGU9JyArIGN1c3RvbWVyQ29kZSkpXG4gICAgICAucGlwZShcbiAgICAgICAgbWFwKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICBjb25zdCBhdXg6IExlZ2FsRW50aXR5RFRPID0gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXV4LnJlc3BvbnNlTGVnYWxFbnRpdHkuY29tcGFueTtcbiAgICAgICAgICByZXR1cm4gc25hcHNob3Q7XG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICAudG9Qcm9taXNlKClcbiAgICAgIC50aGVuKGRhdGEgPT4gZGF0YSlcbiAgICAgIC5jYXRjaChlcnJvciA9PiBlcnJvcik7XG4gIH1cblxuICBwdWJsaWMgZ2V0TGVnYWxFbnRpdHlCeUNvbXBhbnkoY29tcGFueUNvZGU6IGFueSk6IFByb21pc2U8Q3VzdG9tZXJbXT4ge1xuICAgIHJldHVybiB0aGlzLmh0dHBcbiAgICAgIC5nZXQodGhpcy5nZXRVcmwoJ2xlZ2FsZW50aXR5P2NvbXBhbnlDb2RlPScgKyBjb21wYW55Q29kZSkpXG4gICAgICAucGlwZShcbiAgICAgICAgbWFwKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICBjb25zdCBhdXg6IExlZ2FsRW50aXR5RFRPID0gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXV4LnJlc3BvbnNlTGVnYWxFbnRpdHkuY3VzdG9tZXI7XG4gICAgICAgICAgcmV0dXJuIHNuYXBzaG90O1xuICAgICAgICB9KVxuICAgICAgKVxuICAgICAgLnRvUHJvbWlzZSgpXG4gICAgICAudGhlbihkYXRhID0+IGRhdGEpXG4gICAgICAuY2F0Y2goZXJyb3IgPT4gZXJyb3IpO1xuICB9XG5cbiAgcHVibGljIGdldExlZ2FsRW50aXR5Sm9ic2l0ZXMoXG4gICAgY3VzdG9tZXJDb2RlOiBhbnksXG4gICAgY29tcGFueUNvZGU6IGFueVxuICApOiBQcm9taXNlPEpvYnNpdGVbXT4ge1xuICAgIGNvbnN0IGFwaSA9XG4gICAgICAnbGVnYWxlbnRpdHlqb2JzaXRlcz9jb21wYW55Q29kZT0nICtcbiAgICAgIGNvbXBhbnlDb2RlICtcbiAgICAgICcmY3VzdG9tZXJDb2RlPScgK1xuICAgICAgY3VzdG9tZXJDb2RlO1xuICAgIHJldHVybiB0aGlzLmh0dHBcbiAgICAgIC5nZXQodGhpcy5nZXRVcmwoYXBpKSlcbiAgICAgIC5waXBlKFxuICAgICAgICBtYXAocmVzcG9uc2UgPT4ge1xuICAgICAgICAgIGNvbnN0IGF1eDogTGVnYWxFbnRpdHlEVE8gPSByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhdXgucmVzcG9uc2VMZWdhbEVudGl0eS5qb2JTaXRlO1xuICAgICAgICAgIHJldHVybiBzbmFwc2hvdDtcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICAgIC50b1Byb21pc2UoKVxuICAgICAgLnRoZW4oZGF0YSA9PiBkYXRhKVxuICAgICAgLmNhdGNoKGVycm9yID0+IGVycm9yKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRVcmwoYXBpOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHVybCA9IHRoaXMuaHR0cC5nZW5lcmF0ZUVuZHBvaW50KFxuICAgICAgdGhpcy5lbmRwb2ludHMuVjEgKyB0aGlzLmVuZHBvaW50cy5hcm1DYXBhYmlsaXR5ICsgYXBpXG4gICAgKTtcbiAgICByZXR1cm4gdXJsO1xuICB9XG59XG4iXX0=