{"version":3,"file":"cemex-core-angular-services-v7.js.map","sources":["ng://@cemex-core/angular-services-v7/lib/project.settings.ts","ng://@cemex-core/angular-services-v7/lib/http.service.ts","ng://@cemex-core/angular-services-v7/lib/session.service.ts","ng://@cemex-core/angular-services-v7/lib/legalEntity.service.ts","ng://@cemex-core/angular-services-v7/lib/financialDocuments.service.ts","ng://@cemex-core/angular-services-v7/lib/auth-guard.service.ts","ng://@cemex-core/angular-services-v7/lib/translation.service.ts","ng://@cemex-core/angular-services-v7/lib/logger.service.ts","ng://@cemex-core/angular-services-v7/lib/featureToggle.service.ts","ng://@cemex-core/angular-services-v7/lib/country-config.service.ts","ng://@cemex-core/angular-services-v7/lib/validators/email.validators.ts","ng://@cemex-core/angular-services-v7/lib/validators/number.validators.ts","ng://@cemex-core/angular-services-v7/lib/invoices-payments/cashSales.service.ts","ng://@cemex-core/angular-services-v7/lib/analytics/countly.service.ts","ng://@cemex-core/angular-services-v7/lib/analytics/analytics.factory.ts","ng://@cemex-core/angular-services-v7/lib/push-notifications/push-notifications.constants.ts","ng://@cemex-core/angular-services-v7/lib/push-notifications/push-notifications.service.ts","ng://@cemex-core/angular-services-v7/lib/core-common.providers.ts","ng://@cemex-core/angular-services-v7/lib/core-common.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\ndeclare var global: any;\n\n@Injectable()\nexport class ProjectSettings {\n  private _appCode: string;\n  private _clientId: string;\n  private _apiBasePath: string;\n  private _apiOrg: string;\n  private _apiEnv: string;\n\n  constructor() {\n    const APP_KEYS = {\n      API_ENV_KEY: 'API_ENV',\n      API_HOST_KEY: 'API_HOST',\n      API_ORG_KEY: 'API_ORG',\n      APP_CODE_KEY: 'APP_CODE',\n      CLIENT_ID_KEY: 'CLIENT_ID'\n    };\n\n    this._appCode = (global as any)[APP_KEYS.APP_CODE_KEY];\n    this._clientId = (global as any)[APP_KEYS.CLIENT_ID_KEY];\n    this._apiBasePath = (global as any)[APP_KEYS.API_HOST_KEY];\n    this._apiOrg = (global as any)[APP_KEYS.API_ORG_KEY];\n    this._apiEnv = (global as any)[APP_KEYS.API_ENV_KEY];\n\n    if (this._apiBasePath === undefined) {\n      console.warn('environment variable \\'API_HOST\\' is missing !!');\n    }\n  }\n\n  // ============================================================================================\n  // Getters\n  // ============================================================================================\n\n  public get appCode(): string {\n    return this._appCode;\n  }\n\n  public get clientId(): string {\n    return this._clientId;\n  }\n\n  public get apiBasePath(): string {\n    return this._apiBasePath;\n  }\n\n  public get apiOrg(): string {\n    return this._apiOrg;\n  }\n\n  public get apiEnv(): string {\n    return this._apiEnv;\n  }\n\n  public generateEndpoint(apiEndpoint: string): string {\n    const url = `${this._apiBasePath}${this._apiOrg}${\n      this._apiEnv\n    }${apiEndpoint}`;\n    return url;\n  }\n\n  public getBaseOrgEnvPath(): string {\n    return this._apiBasePath + this._apiOrg + this._apiEnv;\n  }\n\n  public setAppKeys(newKeys): void {\n    this._appCode = newKeys.APP_CODE;\n    this._clientId = newKeys.CLIENT_ID;\n\n    if (this._apiBasePath === undefined) {\n      console.warn('environment variable \\'API_HOST\\' is missing !!');\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {\n  Headers,\n  Http,\n  Request,\n  RequestOptions,\n  RequestOptionsArgs\n} from '@angular/http';\n\nimport { Observable } from 'rxjs';\n\nimport { ProjectSettings } from './project.settings';\n\ndeclare var global: any;\n\n@Injectable()\nexport class HttpCemex {\n  private _validSettings = false;\n\n  constructor(protected http: Http, private projectSettings: ProjectSettings) {\n    this._validSettings = this.validateProjectSettings();\n  }\n\n  public generateEndpoint(apiEndpoint: string): string {\n    return this.projectSettings.generateEndpoint(apiEndpoint);\n  }\n\n  get clientId(): string {\n    return this.projectSettings.clientId;\n  }\n\n  get appCode(): string {\n    return this.projectSettings.appCode;\n  }\n\n  public request(url: string | Request, options?: RequestOptionsArgs) {\n    const loptions: RequestOptionsArgs = this.createAuthorizationHeader(\n      options\n    );\n    return this.http.request(url, loptions);\n  }\n\n  public get(\n    url: string,\n    options?: RequestOptionsArgs,\n    overrideHeader?: boolean\n  ) {\n    const loptions: RequestOptionsArgs = this.createAuthorizationHeader(\n      options,\n      overrideHeader\n    );\n    return this.http.get(url, loptions);\n  }\n\n  public post(\n    url: string,\n    body: any,\n    options?: RequestOptionsArgs,\n    overrideHeader?: boolean\n  ): any {\n    if (!this._validSettings) {\n      const message =\n        'Set missing environment variables of API_HOST, API_ORG, API_ENV, APP_CODE, CLIENT_ID';\n      return Observable.throw(new Error(message));\n    }\n\n    const loptions: RequestOptionsArgs = this.createAuthorizationHeader(\n      options,\n      overrideHeader\n    );\n    return this.http.post(url, body, loptions);\n  }\n\n  public put(\n    url: string,\n    body: any,\n    options?: RequestOptionsArgs,\n    overrideHeader?: boolean\n  ) {\n    const loptions: RequestOptionsArgs = this.createAuthorizationHeader(\n      options,\n      overrideHeader\n    );\n    return this.http.put(url, body, loptions);\n  }\n\n  public patch(\n    url: string,\n    body: any,\n    options?: RequestOptionsArgs,\n    overrideHeader?: boolean\n  ) {\n    const loptions: RequestOptionsArgs = this.createAuthorizationHeader(\n      options,\n      overrideHeader\n    );\n    return this.http.patch(url, body, loptions);\n  }\n\n  public delete(\n    url: string,\n    options?: RequestOptionsArgs,\n    overrideHeader?: boolean\n  ) {\n    const loptions: RequestOptionsArgs = this.createAuthorizationHeader(\n      options,\n      overrideHeader\n    );\n    return this.http.delete(url, loptions);\n  }\n\n  public head(\n    url: string,\n    options?: RequestOptionsArgs,\n    overrideHeader?: boolean\n  ) {\n    const loptions: RequestOptionsArgs = this.createAuthorizationHeader(\n      options,\n      overrideHeader\n    );\n    return this.http.head(url, loptions);\n  }\n\n  public isRunningOnBrowser(): boolean {\n    return (global as any) !== null && (global as any) !== undefined;\n  }\n\n  public encrypt(str) {\n    return window.btoa(unescape(encodeURIComponent(str)));\n  }\n\n  public decrypt(str) {\n    return str ? decodeURIComponent(escape(window.atob(str))) : str;\n  }\n\n  public setProjectSettingsNewKeys(newKeys): void {\n    this.projectSettings.setAppKeys(newKeys);\n  }\n\n  protected createAuthorizationHeader(\n    options: RequestOptionsArgs,\n    overrideHeader?: boolean\n  ): RequestOptionsArgs {\n    const containsHeader =\n      options && options.headers && options.headers.keys().length > 0;\n    const result: RequestOptionsArgs = options\n      ? Object.assign({}, options)\n      : new RequestOptions();\n    const headers = new Headers();\n    const language = this.isRunningOnBrowser()\n      ? (window as any).localStorage.getItem('language') || 'en'\n      : 'en';\n\n    headers.append('Accept', 'application/json');\n    headers.append('X-IBM-Client-Id', this.projectSettings.clientId);\n    headers.append('App-Code', this.projectSettings.appCode);\n    headers.append('Accept-Language', language);\n    const accessToken = sessionStorage.getItem('access_token');\n    const isContainsToken = accessToken && accessToken !== undefined;\n    if (isContainsToken) {\n      headers.append('Authorization', 'Bearer ' + accessToken);\n    }\n\n    const jwtApp = sessionStorage.getItem('jwt');\n    if (this.isRunningOnBrowser() && jwtApp && jwtApp !== undefined) {\n      headers.append('jwt', jwtApp);\n    }\n\n    // overwrite existing headers or add new headers\n    const headerKeys = containsHeader ? options.headers.keys() : [];\n    for (const keyHeader of headerKeys) {\n      headers.set(keyHeader, options.headers.get(keyHeader));\n    }\n\n    result.headers = headers;\n\n    if (overrideHeader && containsHeader) {\n      result.headers = options.headers;\n    }\n\n    return result;\n  }\n\n  private validateProjectSettings(): boolean {\n    const settings = this.projectSettings;\n    return (\n      settings.apiBasePath !== undefined &&\n      settings.apiEnv !== undefined &&\n      settings.apiOrg !== undefined &&\n      settings.appCode !== undefined &&\n      settings.clientId !== undefined\n    );\n  }\n}\n","import { Inject, Injectable, Optional } from '@angular/core';\nimport { Headers, RequestOptions, Response } from '@angular/http';\n\nimport { BehaviorSubject, Observable, throwError } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\n\nimport { SessionServiceConstants } from '@cemex-core/constants-v2/dist';\nimport { Broadcaster } from '@cemex-core/events-v7';\nimport {\n  IApplicationMenu,\n  ICustomer,\n  ILegalEntity,\n  IUserProfile\n} from '@cemex-core/types-v2/dist/index.interface';\n\nimport { HttpCemex } from './http.service';\nimport { Profile } from './models/profile';\nimport { Customer } from './models/customer';\nimport { User } from './models/user';\nimport { Role } from './models/role';\nimport { Application } from './models/application';\n\n@Injectable()\nexport class SessionService {\n  public static LOGIN_SUCCESS_EVENT = 'LOGIN_SUCCESS_EVENT';\n  public static LOGIN_FAIL_EVENT = 'LOGIN_FAIL_EVENT';\n  public static LOGIN_LOGOUT_EVENT = 'LOGIN_LOGOUT_EVENT';\n  public static AUTH_TOKEN_VERSION = 'auth_token_version';\n\n  private siteDomain = 'SITE_DOMAIN';\n  private _siteDomain = window[this.siteDomain] || '';\n  private _endpoint: string;\n  private _menuApplication = new BehaviorSubject<IApplicationMenu[]>([]);\n  private _currentLegalEntity = new BehaviorSubject<ILegalEntity>(null);\n  private _userProfile: IUserProfile = null;\n  private _beforeLogout: Observable<any> = null;\n\n  constructor(\n    protected http: HttpCemex,\n    protected eventBroadcaster: Broadcaster,\n    @Inject(SessionService.AUTH_TOKEN_VERSION)\n    @Optional()\n    private authTokenVersion: string\n  ) {\n    if (authTokenVersion) {\n      switch (authTokenVersion.toLocaleLowerCase()) {\n        case 'v6':\n          this._endpoint = SessionServiceConstants.LOGIN_TOKEN_V6;\n          break;\n        default:\n          this._endpoint = SessionServiceConstants.LOGIN_TOKEN_DEFAULT;\n      }\n    } else {\n      this._endpoint = SessionServiceConstants.LOGIN_TOKEN_DEFAULT;\n    }\n    if (\n      localStorage.getItem('language') === undefined ||\n      (localStorage.getItem('language') === null &&\n        (sessionStorage.getItem('language') !== undefined && sessionStorage.getItem('language') !== null))\n    ) {\n      localStorage.setItem('language', sessionStorage.getItem('language'));\n    }\n  }\n\n  public get menuApplicationItems(): Observable<IApplicationMenu[]> {\n    if (this._menuApplication.getValue().length === 0) {\n      this.reloadAppMenuItems();\n    }\n    return this._menuApplication.asObservable();\n  }\n\n  public setLegalEntity(value: ILegalEntity) {\n    sessionStorage.setItem('user_legal_entity', JSON.stringify(value));\n    this.eventBroadcaster.broadcast(Broadcaster.DCM_LEGAL_ENTITY_CHANGE, JSON.stringify(value));\n    this._currentLegalEntity.next(value);\n  }\n\n  public get currentLegalEntity(): Observable<ILegalEntity> {\n    return this._currentLegalEntity.asObservable();\n  }\n\n  public get isLoggedIn(): boolean {\n    const accessToken = sessionStorage.getItem('access_token');\n    const jwtToken = sessionStorage.getItem('jwt');\n    return (\n      accessToken !== null &&\n      accessToken !== undefined &&\n      accessToken !== '' &&\n      jwtToken != null &&\n      jwtToken !== undefined &&\n      jwtToken !== ''\n    );\n  }\n\n  public logout(): Observable<{\n    success: boolean;\n    message: string;\n  }> {\n    return new Observable(observer => {\n      if (this._beforeLogout) {\n        this._beforeLogout.subscribe(\n          result => {\n            this.logoutApp();\n            observer.next({\n              message: 'success',\n              success: true\n            });\n          },\n          error => {\n            observer.next({\n              message: error,\n              success: false\n            });\n          }\n        );\n      } else {\n        this.logoutApp();\n        observer.next({\n          message: 'success',\n          success: true\n        });\n      }\n\n      return observer;\n    });\n  }\n\n  public login(\n    user: string,\n    password: string,\n    generateCookie?: boolean,\n    appName?: string,\n    validateTempPassword?: boolean\n  ): Promise<any> {\n    this.clean();\n    const options = new RequestOptions({\n      headers: new Headers({\n        'Content-Type': 'application/x-www-form-urlencoded',\n        accept: 'text/plain, */*'\n      })\n    });\n\n    const endpoint = this.http.generateEndpoint(this._endpoint);\n    const urlPost = this.generateUrlString(user, password, appName);\n    return this.http\n      .post(endpoint, urlPost, options)\n      .toPromise()\n      .then(async response => {\n        const data = response.json();\n\n        const userId =\n          this.authTokenVersion === 'v6'\n            ? data.userId\n              ? data.userId\n              : data.profile.userId\n            : data.profile.userId;\n        this.processDataFromLogin(data, generateCookie);\n\n        this.eventBroadcaster.broadcast(SessionService.LOGIN_SUCCESS_EVENT);\n\n        if (\n          validateTempPassword &&\n          data.profile &&\n          data.profile.hasTemporaryPassword\n        ) {\n          return Promise.resolve(data);\n        }\n      })\n      .catch(error => {\n        console.error(error);\n        this.eventBroadcaster.broadcast(SessionService.LOGIN_FAIL_EVENT);\n        return Promise.reject(error);\n      });\n  }\n\n  public get userRegion(): string {\n    return sessionStorage.getItem('region') || 'US';\n  }\n\n  public get userCountry(): string {\n    return sessionStorage.getItem('country') || '';\n  }\n\n  public get userProfile(): IUserProfile {\n    if (!this._userProfile) {\n      this.setUserProfile();\n    }\n\n    return this._userProfile;\n  }\n\n  public getLegalEntities(\n    fetch?: number,\n    page?: number,\n    legalEntityCode?: string,\n  ): Observable<ILegalEntity[]> {\n    let endpoint = this.http.generateEndpoint(SessionServiceConstants.USER_LEGAL_ENTITIES);\n    endpoint = this.addQueryParams(endpoint, fetch, page, legalEntityCode);\n\n    return this.http.get(endpoint).pipe(\n      map((response: Response) => {\n        let responseMap = [];\n        const tmpJson = response.json();\n        if (tmpJson) {\n          responseMap = response.json();\n        }\n        return responseMap;\n      }),\n      catchError(e => Observable.throw(this.handleError(e)))\n    );\n  }\n\n  public setBeforeLogout(method: Observable<any>): void {\n    this._beforeLogout = method;\n  }\n\n  public getBeforeLogout(): Observable<any> {\n    return this._beforeLogout;\n  }\n\n  public reloadAppMenuItems(): void {\n    this.getDCMApplications().subscribe(result => {\n      this._menuApplication.next(result);\n    });\n  }\n\n  public createCookie(name: string, value: string, days?: number) {\n    let expires = '';\n    if (days) {\n      const date = new Date();\n      date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n      expires = date.toUTCString();\n    } else {\n      days = 0;\n    }\n\n    const cookie = `${name}=${value};expires=${expires};domain=${this._siteDomain};path=/`;\n    document.cookie = cookie;\n  }\n\n  public readCookie(name: string): string {\n    const ca = document.cookie.split(';');\n    const caLen: number = ca.length;\n    const cookieName = `${name}=`;\n    let c: string;\n    for (let i = 0; i < caLen; i += 1) {\n      c = ca[i].replace(/^\\s+/g, '');\n      if (c.indexOf(cookieName) === 0) {\n        return c.substring(cookieName.length, c.length);\n      }\n    }\n    return null;\n  }\n\n  public clearCookie(name) {\n    this.createCookie(name, '', -1);\n  }\n\n  public setUserProfile(): void {\n    const strProfile: string = sessionStorage.getItem('user_profile');\n    const tmpProfile: IUserProfile = this.convertJsonTo<IUserProfile>(strProfile);\n    if (tmpProfile) {\n      const strCustomer: string = sessionStorage.getItem('user_customer');\n      const userCustomer = this.convertJsonTo<ICustomer>(strCustomer);\n      if (userCustomer) {\n        tmpProfile.customer = userCustomer;\n      } else {\n        console.warn('Exception at parsing User Customer from sessionStore');\n      }\n\n      this._userProfile = tmpProfile;\n    } else {\n      console.warn('Exception at parsing User Profile from sessionStore');\n    }\n  }\n\n  public clean(): void {\n    this.clearCookie('CemexGoRegion');\n    this.clearCookie('up_session');\n    sessionStorage.removeItem('access_token');\n    sessionStorage.removeItem('refresh_token');\n    sessionStorage.removeItem('expires_in');\n    sessionStorage.removeItem('jwt');\n    sessionStorage.removeItem('region');\n    sessionStorage.removeItem('user_profile');\n    sessionStorage.removeItem('user_customer');\n    sessionStorage.removeItem('user_legal_entity');\n    sessionStorage.removeItem('user_applications');\n    // patch-fix for react\n    sessionStorage.removeItem('auth_token');\n    sessionStorage.removeItem('userInfo');\n    sessionStorage.removeItem('country');\n    sessionStorage.removeItem('token_data');\n    sessionStorage.removeItem('applications');\n    sessionStorage.removeItem('role');\n    sessionStorage.removeItem('username');\n\n    // new verssion API ( v6 )\n    sessionStorage.removeItem('userAuthV6');\n    sessionStorage.removeItem('userInfoV6');\n    sessionStorage.removeItem('userProfileV6');\n    sessionStorage.removeItem('userCustomerV6');\n    sessionStorage.removeItem('userApplicationsV6');\n    sessionStorage.removeItem('userRolesV6');\n  }\n\n  public generateUrlString(\n    user: string,\n    password: string,\n    appName?: string\n  ): string {\n    const include = '&include=userinfo,profile,applications,roles,customers,oldVersion';\n    let url =\n      'grant_type=password&scope=security&username=' +\n      user +\n      '&password=' +\n      encodeURIComponent(password) +\n      '&client_id=' +\n      this.http.clientId;\n\n    if (appName) { url = url + '&app_name=' + appName; }\n    if (this.authTokenVersion) {\n      if (this.authTokenVersion.toLowerCase() === 'v6') {\n        url = `${url}&userinformation=false${include}`;\n      }\n    }\n    return url;\n  }\n\n  public processDataFromLogin(data: any, generateCookie?: boolean): void {\n    // session cookie\n    if (generateCookie) {\n      const sessionCookie = {\n        auth: data.oauth2.access_token,\n        expires_in: data.oauth2.expires_in,\n        jwt: data.jwt,\n        refresh_token: data.oauth2.refresh_token,\n        region: data.oauth2.region,\n      };\n      this.createCookie('up_session', JSON.stringify(sessionCookie), null);\n    }\n\n    this.createCookie('CemexGoRegion', data.oauth2.region, null);\n\n    sessionStorage.setItem('access_token', data.oauth2.access_token);\n    sessionStorage.setItem('refresh_token', data.oauth2.refresh_token);\n    sessionStorage.setItem('expires_in', data.oauth2.expires_in);\n    sessionStorage.setItem('jwt', data.jwt);\n    sessionStorage.setItem('auth_token', data.oauth2.access_token);\n    sessionStorage.setItem('user_profile', JSON.stringify(data.profile));\n    sessionStorage.setItem('user_customer', JSON.stringify(data.customer));\n    sessionStorage.setItem('user_applications', JSON.stringify(data.applications));\n\n    // react\n    sessionStorage.setItem('userInfo', JSON.stringify(data));\n    sessionStorage.setItem('country', data.country);\n    sessionStorage.setItem('token_data', JSON.stringify(data));\n    sessionStorage.setItem('applications', JSON.stringify(data.applications));\n\n    sessionStorage.setItem('region', data.oauth2.region);\n    sessionStorage.setItem('role', data.role);\n    sessionStorage.setItem('username', data.profile.userAccount);\n\n    this.setUserProfile();\n\n        // call API V6 ( New Model)\n        const accessToKen = {\n          oauth2: data.oauth2,\n          // tslint:disable-next-line:object-literal-sort-keys\n          jwt: data.jwt,\n          userId: data.userId ? data.userId : data.profile.userId,\n        };\n        const encryptData = this.encrypt(JSON.stringify(accessToKen));\n        sessionStorage.setItem('userAuthV6', encryptData);\n\n        if (data._users) {\n          const firstUser = data._users[0];\n          const user: User = {\n            accountType: firstUser.accountType,\n            countryCode: firstUser.country.countryCode,\n            customerId: (firstUser.customer) ? firstUser.customer.customerId : 0,\n            firstName: firstUser.firstName,\n            fullName: firstUser.fullName,\n            lastName: firstUser.lastName,\n            phoneNumber: firstUser.phoneNumber,\n            userAccount: firstUser.userAccount,\n            userId: firstUser.userId,\n            userSelectedId: firstUser.userSelectedId,\n            userStatus: firstUser.userStatus,\n            userType: firstUser.userType,\n          };\n          const encryptUser = this.encrypt(JSON.stringify(user));\n          sessionStorage.setItem('userInfoV6', encryptUser);\n        }\n\n        if (data._profile) {\n          const dataProfile = data._profile;\n          const profile: Profile = {\n            allowEmailUpdates: dataProfile.allowEmailUpdates,\n            allowInformationShare: dataProfile.allowInformationShare,\n            hasTemporaryPassword: dataProfile.hasTemporaryPassword,\n            userEmail: dataProfile.userEmail,\n            userId: dataProfile.userId,\n            userPosition: dataProfile.userPosition,\n            userProfileId: dataProfile.userProfileId,\n          };\n          const encryptProfile = this.encrypt(JSON.stringify(profile));\n          sessionStorage.setItem('userProfileV6', encryptProfile);\n        }\n\n        if (data._customers) {\n          const dataCustomer = data._customers;\n          const customer: Customer = {\n            countryCode: dataCustomer.country.countryCode,\n            customerCode: dataCustomer.customerCode,\n            customerCodeLZR: dataCustomer.customerCodeLZR,\n            customerDesc: dataCustomer.customerDesc,\n            customerDesc2: dataCustomer.customerDesc2,\n            customerId: dataCustomer.customerId,\n            email: dataCustomer.email,\n            faxNumber: dataCustomer.faxNumber,\n            phoneNumber: dataCustomer.phoneNumber,\n            regionId: dataCustomer.region.regionId,\n            vAT: dataCustomer.vAT,\n          };\n          const encryptcustomer = this.encrypt(JSON.stringify(customer));\n          sessionStorage.setItem('userCustomerV6', encryptcustomer);\n        }\n\n        if (data._applications) {\n          const apps: Application[] = data._applications.map((app) => {\n            return {\n              applicationCode: app.applicationCode,\n              applicationId: app.applicationId,\n              applicationType: app.applicationType,\n              isVisible: app.isVisible,\n            };\n          });\n          const encryptApplications = this.encrypt(JSON.stringify(apps));\n          sessionStorage.setItem('userApplicationsV6', encryptApplications);\n        }\n\n        if (data._roles) {\n          const roles: Role[] = data._roles.map((role) => {\n            return {\n              applicationId: role.application.applicationId,\n              isInternal: role.isInternal,\n              isOptional: role.isOptional,\n              isVisible: role.isVisible,\n              roleCode: role.roleCode,\n              roleId: role.roleId,\n              roleType: role.roleType,\n            };\n          });\n          const encryptRoles = this.encrypt(JSON.stringify(roles));\n          sessionStorage.setItem('userRolesV6', encryptRoles);\n        }\n  }\n\n  public getDCMApplications(): Observable<IApplicationMenu[]> {\n    const endpoint = this.http.generateEndpoint(SessionServiceConstants.USER_APPLICATION_MENU);\n    return this.http.get(endpoint).pipe(\n      map((response: Response) => {\n        const tmpJson = response.json();\n        if (!tmpJson || tmpJson === undefined) {\n          console.warn('Configuration of menu application is empty!!');\n          return [];\n        }\n        const responseMap: IApplicationMenu[] = response.json() as IApplicationMenu[];\n        return responseMap;\n      }),\n      catchError((e: any) => Observable.throw(this.handleError(e)))\n    );\n  }\n\n  public convertJsonTo<T>(obj: string): T {\n    try {\n      const tmpJson = JSON.parse(obj);\n      return tmpJson as T;\n    } catch (e) {\n      console.warn('Exception at parsing object from sessionStore:', e);\n    }\n\n    return null;\n  }\n\n  public get customer(): ICustomer {\n    let result: ICustomer;\n    const str: string = sessionStorage.getItem('user_customer');\n    if (str) {\n      try {\n        const profile = JSON.parse(str);\n        result = profile as ICustomer;\n      } catch (e) {\n        console.warn(\n          'Exception at parsing user_customer from sessionStore:',\n          e\n        );\n        return null;\n      }\n    } else {\n      console.warn('There is no user customer at session storage');\n    }\n\n    return result;\n  }\n\n  public handleError(error: Response | any): any {\n    // In a real world app, we might use a remote logging infrastructure\n    let errMsg: string;\n    if (error instanceof Response) {\n      const body = error.json() || '';\n      errMsg = `${error.status} - ${error.statusText || ''}`;\n    } else {\n      errMsg = error.message ? error.message : error.toString();\n    }\n    console.error(error);\n    return throwError(error);\n  }\n\n  public addQueryParams(endpoint: string, fetch?: number, page?: number, legalEntityCode?: string) {\n    const validPagination: boolean = Number.isInteger(fetch) && Number.isInteger(page);\n\n    endpoint += validPagination ? '?fetch=' + fetch + '&page=' + page : '';\n    endpoint +=\n      legalEntityCode && validPagination\n        ? '&legalEntityCode=' + legalEntityCode\n        : legalEntityCode && !validPagination\n          ? '?legalEntityCode=' + legalEntityCode\n          : '';\n\n    return endpoint;\n  }\n\n  public logoutApp(): void {\n    this.clean();\n    this.eventBroadcaster.broadcast(Broadcaster.DCM_APP_LOGOUT);\n  }\n\n  public get userAuth() {\n    return JSON.parse(this.decrypt(sessionStorage.getItem('userAuthV6')));\n  }\n\n  public get userInfo() {\n    return JSON.parse(this.decrypt(sessionStorage.getItem('userInfoV6')));\n  }\n\n  public get userProfileV6() {\n    return JSON.parse(this.decrypt(sessionStorage.getItem('userProfileV6')));\n  }\n\n  public get userCustomer() {\n    return JSON.parse(this.decrypt(sessionStorage.getItem('userCustomerV6')));\n  }\n\n  public get userApplications() {\n    return JSON.parse(this.decrypt(sessionStorage.getItem('userApplicationsV6')));\n  }\n\n  public get userRoles() {\n    return JSON.parse(this.decrypt(sessionStorage.getItem('userRolesV6')));\n  }\n\n  public encrypt(str) {\n    return window.btoa(unescape(encodeURIComponent(str)));\n  }\n\n  public decrypt(str) {\n    return str ? decodeURIComponent(escape(window.atob(str))) : str;\n  }\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { map } from 'rxjs/operators';\n\nimport { EndpointsConstants } from '@cemex-core/constants-v2/dist';\nimport {\n  Company,\n  Customer,\n  Jobsite,\n  LegalEntityDTO\n} from '@cemex-core/types-v2/dist';\n\nimport { HttpCemex } from './http.service';\n\n@Injectable()\nexport class LegalEntity {\n  constructor(\n    protected http: HttpCemex,\n    private endpoints: EndpointsConstants\n  ) {}\n\n  public getLegalEntity(): Promise<LegalEntityDTO> {\n    return this.http\n      .get(this.getUrl('legalentity'))\n      .pipe(\n        map(response => {\n          const aux: LegalEntityDTO = response.json();\n          return aux;\n        })\n      )\n      .toPromise()\n      .then(data => data)\n      .catch(error => error);\n  }\n\n  public getAllLegalEntityCustomers(): Promise<Customer[]> {\n    return this.http\n      .get(this.getUrl('legalentitycustomers'))\n      .pipe(\n        map(response => {\n          const aux: LegalEntityDTO = response.json();\n          const snapshot = aux.responseLegalEntity.customer;\n          return snapshot;\n        })\n      )\n      .toPromise()\n      .then(data => data)\n      .catch(error => error);\n  }\n\n  public getLegalEntityByCustomer(customerCode: any): Promise<Company[]> {\n    return this.http\n      .get(this.getUrl('legalentity?customerCode=' + customerCode))\n      .pipe(\n        map(response => {\n          const aux: LegalEntityDTO = response.json();\n          const snapshot = aux.responseLegalEntity.company;\n          return snapshot;\n        })\n      )\n      .toPromise()\n      .then(data => data)\n      .catch(error => error);\n  }\n\n  public getLegalEntityByCompany(companyCode: any): Promise<Customer[]> {\n    return this.http\n      .get(this.getUrl('legalentity?companyCode=' + companyCode))\n      .pipe(\n        map(response => {\n          const aux: LegalEntityDTO = response.json();\n          const snapshot = aux.responseLegalEntity.customer;\n          return snapshot;\n        })\n      )\n      .toPromise()\n      .then(data => data)\n      .catch(error => error);\n  }\n\n  public getLegalEntityJobsites(\n    customerCode: any,\n    companyCode: any\n  ): Promise<Jobsite[]> {\n    const api =\n      'legalentityjobsites?companyCode=' +\n      companyCode +\n      '&customerCode=' +\n      customerCode;\n    return this.http\n      .get(this.getUrl(api))\n      .pipe(\n        map(response => {\n          const aux: LegalEntityDTO = response.json();\n          const snapshot = aux.responseLegalEntity.jobSite;\n          return snapshot;\n        })\n      )\n      .toPromise()\n      .then(data => data)\n      .catch(error => error);\n  }\n\n  public getUrl(api: string): string {\n    const url = this.http.generateEndpoint(\n      this.endpoints.V1 + this.endpoints.armCapability + api\n    );\n    return url;\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { map } from 'rxjs/operators';\n\nimport { EndpointsConstants } from '@cemex-core/constants-v2/dist';\nimport {\n  Company,\n  Customer,\n  Jobsite,\n  LegalEntityDTO\n} from '@cemex-core/types-v2/dist';\n\nimport { HttpCemex } from './http.service';\n\n@Injectable()\nexport class FinancialDocuments {\n  constructor(private http: HttpCemex, private endpoints: EndpointsConstants) {}\n\n  public getLegalEntity(): Promise<LegalEntityDTO> {\n    return this.http\n      .get(this.getUrl('legalentity'))\n      .pipe(\n        map(response => {\n          const aux: LegalEntityDTO = response.json();\n          return aux;\n        })\n      )\n      .toPromise()\n      .then(data => data)\n      .catch(error => error);\n  }\n\n  public getAllLegalEntityCustomers(): Promise<Customer[]> {\n    return this.http\n      .get(this.getUrl('legalentitycustomers'))\n      .pipe(\n        map(response => {\n          const aux: LegalEntityDTO = response.json();\n          const snapshot = aux.responseLegalEntity.customer;\n          return snapshot;\n        })\n      )\n      .toPromise()\n      .then(data => data)\n      .catch(error => error);\n  }\n\n  public getLegalEntityByCustomer(customerCode: any): Promise<Company[]> {\n    return this.http\n      .get(this.getUrl('legalentity?customerCode=' + customerCode))\n      .pipe(\n        map(response => {\n          const aux: LegalEntityDTO = response.json();\n          const snapshot = aux.responseLegalEntity.company;\n          return snapshot;\n        })\n      )\n      .toPromise()\n      .then(data => data)\n      .catch(error => error);\n  }\n\n  public getLegalEntityByCompany(companyCode: any): Promise<Customer[]> {\n    return this.http\n      .get(this.getUrl('legalentity?companyCode=' + companyCode))\n      .pipe(\n        map(response => {\n          const aux: LegalEntityDTO = response.json();\n          const snapshot = aux.responseLegalEntity.customer;\n          return snapshot;\n        })\n      )\n      .toPromise()\n      .then(data => data)\n      .catch(error => error);\n  }\n\n  public getLegalEntityJobsites(\n    customerCode: any,\n    companyCode: any\n  ): Promise<Jobsite[]> {\n    const api =\n      'legalentityjobsites?companyCode=' +\n      companyCode +\n      '&customerCode=' +\n      customerCode;\n    return this.http\n      .get(this.getUrl(api))\n      .pipe(\n        map(response => {\n          const aux: LegalEntityDTO = response.json();\n          const snapshot = aux.responseLegalEntity.jobSite;\n          return snapshot;\n        })\n      )\n      .toPromise()\n      .then(data => data)\n      .catch(error => error);\n  }\n\n  private getUrl(api: string): string {\n    const url = this.http.generateEndpoint(\n      this.endpoints.V1 + this.endpoints.armCapability + api\n    );\n    return url;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, Router } from '@angular/router';\n\nimport { SessionService } from './session.service';\n\n@Injectable()\nexport class AuthGuard implements CanActivate {\n  constructor(private router: Router, private sessionService: SessionService) {}\n\n  public canActivate(): boolean {\n    if (this.sessionService.isLoggedIn) {\n      return true;\n    } else {\n      this.router.navigate(['/login']);\n      return false;\n    }\n  }\n}\n","import { Inject, Injectable, Optional } from '@angular/core';\nimport { Http } from '@angular/http';\n\nimport { Subject } from 'rxjs';\n\nimport { Broadcaster } from '@cemex-core/events-v7';\n\ndeclare var global: any;\n\n@Injectable()\nexport class TranslationService {\n  public static translation: Map<string, string> = new Map<string, string>();\n  public static language = '';\n  // Must be set on path constants\n\n  public static PRODUCT_PATH = 'PRODUCT_PATH';\n  public static USE_TRANSLATION_SERVER = 'USE_TRANSLATION_SERVER';\n  public static TRANSLATION_BASE_URL = 'TRANSLATION_BASE_URL';\n\n  public labels: any;\n  public _useTranslationServer = false;\n\n  public productPath = '';\n  public _localeData: Subject<any> = new Subject<any>();\n\n  /**\n   * st comes from static-translation\n   */\n  public static st(textID: string): string {\n    const textValue = this.translation.get(textID);\n    if (!textValue || textValue === undefined) {\n      return 'NOT:' + textID;\n    }\n    return textValue;\n  }\n\n  /**\n   * gets all translations\n   */\n  public static all(): Map<string, string> {\n    const result = this.translation;\n    return result;\n  }\n\n  constructor(\n    public eventBroadcaster: Broadcaster,\n    public http: Http,\n    @Inject(TranslationService.PRODUCT_PATH)\n    @Optional()\n    public _productPath: string,\n    @Inject(TranslationService.USE_TRANSLATION_SERVER)\n    @Optional()\n    public useTranslationServer: boolean,\n    @Inject(TranslationService.TRANSLATION_BASE_URL)\n    @Optional()\n    public _translationUrl: string\n  ) {\n    this.productPath = _productPath || '/';\n    this._useTranslationServer = useTranslationServer || false;\n\n    if (this._translationUrl === null) {\n      this._translationUrl = '/translate/translate';\n    }\n\n    if (this.isRunningOnBrowser()) {\n      const comingFromReact =\n        (global as any).sessionStorage.getItem('language') || 'en_US';\n      let langLocalStorage = (global as any).localStorage.getItem('language');\n      if (comingFromReact.indexOf('es') !== -1 && !this._useTranslationServer) {\n        langLocalStorage = 'es';\n        (global as any).localStorage.setItem('language', 'es');\n      } else if (\n        comingFromReact.indexOf('en') !== -1 &&\n        !this._useTranslationServer\n      ) {\n        langLocalStorage = 'en';\n        (global as any).localStorage.setItem('language', 'en');\n      } else {\n        langLocalStorage = comingFromReact;\n        (global as any).localStorage.setItem('language', langLocalStorage);\n      }\n      let localLang: string;\n      if (this._useTranslationServer) {\n        this.lang(langLocalStorage ? langLocalStorage : 'en_US');\n        localLang = langLocalStorage ? langLocalStorage : 'en_US';\n      } else {\n        this.lang(langLocalStorage ? langLocalStorage : 'en');\n        localLang = langLocalStorage ? langLocalStorage : 'en';\n      }\n\n      // add this next line to correct react projects\n\n      if (localLang === 'en') {\n        localLang = localLang + '_US';\n      } else if (localLang === 'es') {\n        localLang = localLang + '_MX';\n      }\n      (global as any).sessionStorage.setItem('language', localLang);\n    } else {\n      if (this._useTranslationServer) {\n        this.lang('en_US');\n      } else {\n        this.lang('en');\n      }\n    }\n  }\n\n  public get localeData() {\n    return this._localeData.asObservable();\n  }\n\n  public isRunningOnBrowser(): boolean {\n    return (global as any) !== null && (global as any) !== undefined;\n  }\n\n  public onChange(value: any): void {\n    this.labels = value;\n    this._localeData.next(value);\n  }\n\n  /**\n   * this method is left here for backwards compatibility\n   */\n  public lang(lang: string): void {\n    if (lang === TranslationService.language) {\n      return;\n    }\n    TranslationService.language = lang;\n    // add this next line to correct react projects, need to correct this\n    let localLang: string = TranslationService.language;\n    if (localLang === 'en') {\n      localLang = localLang + '_US';\n    } else if (localLang === 'es') {\n      localLang = localLang + '_MX';\n    }\n    if (this.isRunningOnBrowser()) {\n      sessionStorage.setItem('language', localLang);\n    }\n    // if the language is only 2 letters it might be a legacy application\n    if (!this._useTranslationServer) {\n      this.http\n        .get(this.productPath + 'vendor/locale-' + lang + '.json')\n        .toPromise()\n        .then(response => this.populateTranslation(response.json()))\n        .catch(this.handleError);\n    } else {\n      // if the translation name is bigger than 2 letters, request to external server\n      this.http\n        .get(this._translationUrl + this.productPath + localLang)\n        .toPromise()\n        .then(response => this.populateTranslation(response.json()))\n        .catch(this.handleError);\n    }\n  }\n\n  public isoLang(lang: string): void {\n    // must contain either one of these symbols\n    if (lang.indexOf('-') !== -1 || lang.indexOf('_') !== -1) {\n      TranslationService.language = lang;\n      (global as any).sessionStorage.setItem('language', lang);\n    }\n  }\n\n  public file(url: string): void {\n    this.http\n      .get(url)\n      .toPromise()\n      .then(response => this.populateTranslation(response.json()))\n      .catch(this.handleError);\n  }\n\n  /**\n   * pt comes from public-translation\n   */\n  public pt(textID: string): string {\n    const textValue = TranslationService.translation.get(textID);\n    if (!textValue || textValue === undefined) {\n      return 'NOT:' + textID;\n    }\n\n    return textValue;\n  }\n\n  public getLabel(textId: string): string {\n    const textValue = TranslationService.translation.get(textId);\n    if (!textValue) {\n      return undefined;\n    }\n    return textValue;\n  }\n\n  public getlang(): string {\n    return TranslationService.language;\n  }\n\n  public getCountryCode(): string {\n    return TranslationService.language.split('_')[1];\n  }\n\n  public populateTranslation(result) {\n    for (const item of Object.keys(result)) {\n      TranslationService.translation.set(item, result[item]);\n    }\n    this.eventBroadcaster.broadcast(\n      Broadcaster.DCM_LANGUAGE_FETCHED,\n      TranslationService.language\n    );\n    this.onChange(result);\n  }\n\n  public handleError(error: any): Promise<any> {\n    return Promise.reject(error.message || error);\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class Logger {\n  public static log(value: any): void {\n    console.log(value);\n  }\n  public static error(value: any): void {\n    console.error(value);\n  }\n  public static warn(value: any): void {\n    console.warn(value);\n  }\n  public static logf(value: any): void {\n    console.log(value);\n  }\n}\n","import { Inject, Injectable, Optional } from '@angular/core';\nimport { Http } from '@angular/http';\n\nimport { Broadcaster } from '@cemex-core/events-v7';\n\n@Injectable()\nexport class FeatureToggleService {\n  public static featureList: Map<string, IFeatureItem> = new Map<\n    string,\n    IFeatureItem\n  >();\n  public static language = '';\n  // Must be set on path constants\n\n  public static PRODUCT_PATH = 'PRODUCT_PATH';\n  public static ENVIRONMENT = 'PRODUCT_PATH';\n  public static USE_LOCAL_MANIFEST = 'USE_LOCAL_MANIFEST';\n\n  public productPath = '';\n  public productEnvironment = '';\n\n  /**\n   * gets all features\n   */\n  public static all(): Map<string, IFeatureItem> {\n    const result = this.featureList;\n    return result;\n  }\n\n  constructor(\n    public eventBroadcaster: Broadcaster,\n    public http: Http,\n    @Inject(FeatureToggleService.PRODUCT_PATH)\n    @Optional()\n    public _productPath: string,\n    @Inject(FeatureToggleService.ENVIRONMENT)\n    @Optional()\n    public _productEnvironment: string,\n    @Inject(FeatureToggleService.USE_LOCAL_MANIFEST)\n    @Optional()\n    public localManifest: boolean\n  ) {\n    this.productPath = _productPath || '/';\n    this.productEnvironment = _productEnvironment || 'development';\n    this.getFeatureList(this.localManifest || false);\n  }\n  /**\n   * this method returns either true or false if the list of the features\n   * requested is enabled in this environment and for this user\n   */\n  public feature(\n    featureId: string | string[],\n    releaseVersion?: string,\n    featureVersion?: string,\n    hostName?: string\n  ): boolean {\n    if (typeof featureId === 'string') {\n      return this.coreValidator(\n        featureId,\n        releaseVersion,\n        featureVersion,\n        hostName\n      );\n    } else {\n      featureId.forEach(singleFeature => {\n        if (\n          !this.coreValidator(\n            singleFeature,\n            releaseVersion,\n            featureVersion,\n            hostName\n          )\n        ) {\n          return false;\n        }\n      });\n    }\n    return true;\n  }\n\n  /**\n   * this method returns all list of features\n   */\n  public getAll(): Map<string, IFeatureItem> {\n    return FeatureToggleService.featureList;\n  }\n  /**\n   * this method allows to load the feature list from the file\n   */\n  public getFeatureList(loadFromLocalList: boolean): void {\n    // if the loadfromlocallist is true, then load the local-feature.json file\n    if (loadFromLocalList) {\n      this.http\n        .get(this.productPath + 'vendor/local-feature.json')\n        .toPromise()\n        .then(response => this.populateFeatures(response.json()))\n        .catch(this.handleError);\n    } else {\n      // if the API is ready then switch is this one\n      this.http\n        .get('/feature/api' + this.productPath)\n        .toPromise()\n        .then(response => this.populateFeatures(response.json()))\n        .catch(this.handleError);\n    }\n  }\n\n  public coreValidator(\n    featureId: string,\n    releaseVersion?: string,\n    featureVersion?: string,\n    hostName?: string\n  ): boolean {\n    // todo smaller refactor\n    const localFind: IFeatureItem = FeatureToggleService.featureList.get(\n      featureId\n    );\n    if (localFind === undefined) {\n      return false;\n    }\n    // if it is found then verify against the country\n    if (localFind.country !== null && localFind.country !== undefined) {\n      // we can take the country from the session storage\n      if (\n        window.sessionStorage.getItem('country').indexOf(localFind.country) ===\n        -1\n      ) {\n        return false;\n      }\n    }\n    if (localFind.role !== null && localFind.role !== undefined) {\n      let isRoleAssigned = false;\n      const appsAvailable = JSON.parse(\n        window.sessionStorage.getItem('applications')\n      );\n      appsAvailable.forEach((app: IApplication) => {\n        app.roles.forEach(role => {\n          if ((role as IRole).roleCode === localFind.role) {\n            isRoleAssigned = true;\n          }\n        });\n      });\n      if (!isRoleAssigned) {\n        return false;\n      }\n    }\n    if (localFind.role_match !== null && localFind.role_match !== undefined) {\n      let rolesAssigned = 0;\n      const appsAvailable = JSON.parse(\n        window.sessionStorage.getItem('applications')\n      );\n      appsAvailable.forEach((app: IApplication) => {\n        app.roles.forEach(role => {\n          if (localFind.role_match.indexOf((role as IRole).roleCode) !== -1) {\n            rolesAssigned = rolesAssigned + 1;\n          }\n        });\n      });\n      if (rolesAssigned !== localFind.role_match.split(',').length) {\n        return false;\n      }\n    }\n    if (localFind.role_any !== null && localFind.role_any !== undefined) {\n      let rolesAssigned = 0;\n      const appsAvailable = JSON.parse(\n        window.sessionStorage.getItem('applications')\n      );\n      appsAvailable.forEach((app: IApplication) => {\n        app.roles.forEach(role => {\n          if (localFind.role_any.indexOf((role as IRole).roleCode) !== -1) {\n            rolesAssigned = rolesAssigned + 1;\n          }\n        });\n      });\n      if (rolesAssigned === 0) {\n        return false;\n      }\n    }\n    if (localFind.environment !== null && localFind.environment !== undefined) {\n      // verify the injection of the environment\n      if (localFind.environment !== this.productEnvironment) {\n        return false;\n      }\n    }\n    if (\n      localFind.release_version !== null &&\n      localFind.release_version !== undefined\n    ) {\n      // verify the injection of the environment\n      if (localFind.release_version !== releaseVersion) {\n        return false;\n      }\n    }\n    if (\n      localFind.feature_version !== null &&\n      localFind.feature_version !== undefined\n    ) {\n      // verify the injection of the environment\n      if (localFind.feature_version !== featureVersion) {\n        return false;\n      }\n    }\n    if (localFind.host_name !== null && localFind.host_name !== undefined) {\n      // verify the injection of the environment\n      if (localFind.host_name !== hostName) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  public handleError(error: any): Promise<any> {\n    return Promise.reject(error.message || error);\n  }\n\n  public populateFeatures(result) {\n    for (const item of Object.keys(result)) {\n      FeatureToggleService.featureList.set(\n        (result[item] as IFeatureItem).feature,\n        result[item]\n      );\n    }\n    // this.eventBroadcaster.broadcast(Broadcaster.DCM_LANGUAGE_FETCHED, TranslationService.language);\n    // this.onChange(result);\n  }\n}\n\nexport interface IFeatureItem {\n  feature: string;\n  option: string | number;\n  environment: string;\n  role: string;\n  country: string;\n  release_version: string;\n  feature_version: string;\n  host_name: string;\n  role_match: string;\n  role_any: string;\n}\nexport interface IApplication {\n  applicationCode: string;\n  applicationId: number;\n  roles: IRole[];\n}\n\nexport interface IRole {\n  roleCode: string;\n  roleId: number;\n}\n","import { Injectable } from '@angular/core';\nimport { Response } from '@angular/http';\n\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\n\nimport { ICountryConfig } from '@cemex-core/types-v2';\n\nimport { HttpCemex } from './http.service';\nimport { ProjectSettings } from './project.settings';\nimport { SessionService } from './session.service';\n\n@Injectable()\nexport class CountryConfigService {\n  private _countryConfig = new BehaviorSubject<ICountryConfig>(null);\n  private _countryConfigApiPath = '/v5/secm/console/countryconfig';\n\n  constructor(\n    private http: HttpCemex,\n    private projectEnv: ProjectSettings,\n    private sessionService: SessionService\n  ) {\n    if (!this._countryConfig.getValue()) {\n      this.getCountryConfiguration().subscribe((data: ICountryConfig) => {\n        this._countryConfig.next(data);\n      });\n    }\n  }\n\n  public get countryConfig(): Observable<ICountryConfig> {\n    return this._countryConfig.asObservable();\n  }\n\n  public getCountryConfiguration(): Observable<ICountryConfig> {\n    const userCountry = this.sessionService.userCountry || 'US';\n    const url = `${this.projectEnv.getBaseOrgEnvPath()}${\n      this._countryConfigApiPath\n    }?countryCode=${userCountry}`;\n    return this.http.get(url).pipe(\n      map((res: Response) => res.json()),\n      catchError(this.handleError)\n    );\n  }\n\n  private handleError(error: Response | any) {\n    // In a real world app, we might use a remote logging infrastructure\n    let errMsg: string;\n    if (error instanceof Response) {\n      const body: any = error.json() || '';\n      const err = body.error || JSON.stringify(body);\n      errMsg = `${error.status} - ${error.statusText || ''}`;\n    } else {\n      errMsg = error.message ? error.message : error.toString();\n    }\n    console.error(error);\n    return Observable.throw(error);\n  }\n}\n","export class EmailValidators {\n  public static pattern(c): any {\n    const regex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; // tslint:disable-line\n    if (regex.test(c.value)) {\n      return null;\n    } else {\n      return {\n        patternInvalid: true\n      };\n    }\n  }\n}\n","export class NumberValidators {\n  public static isNumeric(c): any {\n    if (!isNaN(parseFloat(c.value)) && isFinite(c.value)) {\n      return null;\n    } else {\n      return {\n        notNumeric: true\n      };\n    }\n  }\n\n  public static onlyTwoDecimals(c): any {\n    const regexp = /^\\d+(\\.\\d{1,2})?$/;\n    if (regexp.test(c.value)) {\n      return null;\n    } else {\n      return {\n        patternInvalid: true\n      };\n    }\n  }\n\n  public static greaterThanZero(c): any {\n    if (parseFloat(c.value) > 0) {\n      return null;\n    } else {\n      return {\n        lessThanZero: true\n      };\n    }\n  }\n\n  public static isPositive(c): any {\n    if (parseFloat(c.value) >= 0) {\n      return null;\n    } else {\n      return {\n        isNegative: true\n      };\n    }\n  }\n\n  public static lessThan(max: number) {\n    const maxNumber = max;\n    return (control): { [key: string]: any } => {\n      const num = +control.value;\n      if (isNaN(num) || num > maxNumber) {\n        return {\n          isGreater: true\n        };\n      }\n      return null;\n    };\n  }\n\n  public static greaterThan(min: number) {\n    const minNumber = min;\n    return (control): { [key: string]: any } => {\n      const num = +control.value;\n      if (isNaN(num) || num < minNumber) {\n        return {\n          isLess: true\n        };\n      }\n      return null;\n    };\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { map } from 'rxjs/operators';\n\nimport { EndpointsConstants } from '@cemex-core/constants-v2/dist';\nimport { CashDocument } from '@cemex-core/types-v2/dist/invoices-payments';\n\nimport { HttpCemex } from '../http.service';\n\n@Injectable()\nexport class CashSalesService {\n  private apiCashDocuments: string;\n\n  constructor(private http: HttpCemex, private endpoints: EndpointsConstants) {\n    // TODO: MOVE TO PATH CONSTANTS\n    this.apiCashDocuments = 'cashdocuments';\n  }\n\n  public getCreditDocs(\n    companyCode: string,\n    customerCode: string,\n    jobSiteCode: string\n  ): Promise<CashDocument[]> {\n    const apiQuery = `companyCode=${companyCode}&customerCode=${customerCode}&jobSiteCode=${jobSiteCode}`;\n    const endpoint = `${this.apiCashDocuments}?${apiQuery}`;\n    return this.http\n      .get(this.getUrl(endpoint))\n      .pipe(\n        map(response => {\n          const aux: CashDocument[] = response.json();\n          return this.handleCashDocumentsData(aux);\n        })\n      )\n      .toPromise()\n      .then(data => data)\n      .catch(error => error);\n  }\n\n  private handleCashDocumentsData(aux: CashDocument[]): CashDocument[] {\n    aux.forEach((document, i) => {\n      document.index = i;\n      document.flagInvalidAmnt = false;\n      document.errMsg = '';\n      document.toCommit = 0;\n      // document.createDate = '2017-01-01T00:00:00';\n      if (document.createDate) {\n        const d1 = document.createDate.split('T')[0].split('-');\n        const d2 = document.createDate.split('T')[1];\n        document.createDate = d1[2] + '-' + d1[1] + '-' + d1[0] + 'T' + d2;\n        // document.createDate = this.getDateObject(document.createDate).toString();\n      }\n      document.amount = !document.amount ? 0 : document.amount;\n      document.reconciledAmount = !document.reconciledAmount\n        ? 0\n        : document.reconciledAmount;\n      document.commitedAmount = !document.commitedAmount\n        ? 0\n        : document.commitedAmount;\n    });\n    return aux;\n  }\n\n  private getUrl(api: string): string {\n    const url = this.http.generateEndpoint(\n      this.endpoints.V1 + this.endpoints.peCapability + api\n    );\n    return url;\n  }\n}\n","import { IAnalyticsService } from './ianalytics.interface';\n\nexport class CountlyService implements IAnalyticsService {\n  public defaultTrackings: any = [\n    ['track_pageview'],\n    ['track_clicks'],\n    ['track_errors'],\n    ['track_links'],\n    ['track_forms'],\n    ['collect_from_forms'] /*['track_sessions'] */\n  ];\n  // tslint:disable-next-line:variable-name\n  public Countly: any;\n  constructor() {\n    this.Countly = (window as any).Countly;\n  }\n\n  public init() {\n    this.addTracking('track_sessions');\n    this.Countly.init();\n  }\n\n  public debug(flag: boolean) {\n    this.Countly.debug = flag;\n  }\n\n  public startService(url: string, appKey: string): void {\n    if (this.Countly !== undefined) {\n      this.Countly.url = url;\n      this.Countly.app_key = appKey;\n      this.Countly.q = this.defaultTrackings;\n    }\n  }\n\n  public addTracking(key: string, value?: any) {\n    if (!value) {\n      this.Countly.q.push([key]);\n    } else {\n      this.Countly.q.push([key, value]);\n    }\n  }\n\n  public addTrackingPage(key: string): void {\n    this.Countly.q.push(['track_pageview', key]);\n  }\n\n  public changeId(countryCode: string, newId: string) {\n    this.Countly.q.push(['change_id', countryCode + newId]);\n  }\n\n  public identifyUser(userfields: any) {\n    this.Countly.q.push(['user_details', userfields]);\n  }\n\n  public endSession() {\n    this.Countly.q.push(['end_session']);\n  }\n\n  public removeTracking(trackingjson: any) {\n    this.Countly.q.forEach(element => {\n      if (element.indexOf(trackingjson) !== -1) {\n        element[0] = 'canceled';\n      }\n    });\n  }\n}\n","import { CountlyService } from './countly.service';\nimport {\n  IAnalyticsConfiguration,\n  IAnalyticsService\n} from './ianalytics.interface';\n\nexport class AnalyticsFactory {\n  // tslint:disable-next-line:variable-name\n  public static Type = { Countly: 1, Clevertap: 2, Other: 0 };\n  public createService(\n    analitycServiceType,\n    configuration: IAnalyticsConfiguration\n  ): IAnalyticsService {\n    switch (analitycServiceType) {\n      case AnalyticsFactory.Type.Countly:\n        const service = new CountlyService();\n        service.startService(configuration.url, configuration.key);\n        return service;\n      case AnalyticsFactory.Type.Clevertap:\n        return null;\n      case AnalyticsFactory.Type.Other:\n        return null;\n      default:\n        return null;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\n@Injectable()\nexport class PushNotificationsConstants {\n  private appCode: string;\n  private apiClientId: string;\n  private appLanguage: string;\n  private urlServiceWorker: string;\n  private deviceApi: string;\n  private apiBasePath: string;\n  private apiHost: string;\n  private apiOrg: string;\n  private apiEnv: string;\n  private authToken: string;\n  private jwt: string;\n  private sourcePush: string;\n  private vapidPublicKey: string;\n\n  constructor() {\n    // tslint:disable-next-line:no-string-literal\n    this.appCode = window['APP_CODE']; // 'Foreman_App'\n    // tslint:disable-next-line:no-string-literal\n    this.apiClientId = window['CLIENT_ID']; // 'f624df7f-9b35-41c0-8a41-4854b86c84f1';\n    // tslint:disable-next-line:no-string-literal\n    this.apiHost = window['API_HOST']; // 'https://uscldcnxapmd01.azure-api.net/';\n    // tslint:disable-next-line:no-string-literal\n    this.appLanguage = window['LANGUAGE']; // 'es-MX';\n    this.authToken = 'Bearer ' + sessionStorage.getItem('auth_token');\n    this.jwt = sessionStorage.getItem('jwt');\n    this.urlServiceWorker = 'service-worker/push_sw.js';\n    this.deviceApi = this.apiHost + 'v5/cm/notifications/devices';\n    this.sourcePush = 'postMessageSW';\n    this.vapidPublicKey = '';\n  }\n\n  public getAppCode(): string {\n    return this.appCode;\n  }\n\n  public getClientId(): string {\n    return this.apiClientId;\n  }\n\n  public getApiBasePath(): string {\n    return this.apiBasePath;\n  }\n\n  public getAppLanguage(): string {\n    return this.appLanguage;\n  }\n\n  public getAuthToken(): string {\n    return this.authToken;\n  }\n\n  public getJwt(): string {\n    return this.jwt;\n  }\n\n  public getUrlSW(): string {\n    return this.urlServiceWorker;\n  }\n\n  public getDevicesPath(): string {\n    return this.deviceApi;\n  }\n\n  public getSourcePush(): string {\n    return this.sourcePush;\n  }\n\n  public getVapidPublicKey(): string {\n    return this.vapidPublicKey;\n  }\n\n  public setVapidPublicKey(pVapidPublicKey) {\n    this.vapidPublicKey = pVapidPublicKey;\n  }\n\n  public setUrlSW(urlSW) {\n    this.urlServiceWorker = urlSW;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { PushNotificationsConstants } from './push-notifications.constants';\n\n@Injectable()\nexport class PushNotificationService {\n  private _devUUID = '';\n  private _devId = '';\n  private _platform = '';\n  private _token = '';\n  private _methodCallBack: any;\n  private _vapidPublicKey: string;\n\n  constructor(private constants: PushNotificationsConstants) {\n    // this.initialize();\n  }\n\n  public initialize(methodCallBack: any): void {\n    this._methodCallBack = methodCallBack;\n    this._vapidPublicKey = this.constants.getVapidPublicKey();\n    if (this.validateSw()) {\n      // tslint:disable-next-line:only-arrow-functions\n      const swReg = this.registerSw().catch(function(error) {\n        console.log('Push Service Worker registration has failed: ' + error);\n      });\n      // tslint:disable-next-line:only-arrow-functions\n      this.subscriptionSw(swReg).catch(function(error) {\n        console.log('Push Service Worker subscription has failed: ' + error);\n      });\n    }\n  }\n\n  public validateSw(): boolean {\n    let isValid = false;\n    if ('serviceWorker' in navigator && 'PushManager' in window) {\n      isValid = true;\n      console.log('Service Workers is supported');\n    }\n    return isValid;\n  }\n\n  private registerSw() {\n    // tslint:disable-next-line:only-arrow-functions\n    return navigator.serviceWorker\n      .register(this.constants.getUrlSW())\n      .then(function(swReg) {\n        if (swReg.installing) {\n          console.log('Service worker installing');\n        } else if (swReg.waiting) {\n          console.log('Service worker installed');\n        } else if (swReg.active) {\n          console.log('Service worker active');\n        }\n        if (!swReg.showNotification) {\n          console.log('Notifications aren\\'t supported on service workers.');\n        }\n        return swReg;\n      });\n  }\n\n  private subscriptionSw(registration) {\n    const mSetSubscription = this.setSubscription;\n    const global = this;\n    // tslint:disable-next-line:only-arrow-functions\n    return registration.then(function(swReg) {\n      swReg.pushManager\n        .getSubscription()\n        // tslint:disable-next-line:only-arrow-functions\n        .then(function(subscriptionInit) {\n          if (subscriptionInit) {\n            return mSetSubscription(subscriptionInit, global);\n          } else {\n            const options = {\n              // tslint:disable-next-line:max-line-length\n              applicationServerKey: !global._vapidPublicKey\n                ? null\n                : global.urlB64ToUint8Array(global._vapidPublicKey),\n              userVisibleOnly: true\n            };\n            return (\n              swReg.pushManager\n                .subscribe(options)\n                // tslint:disable-next-line:only-arrow-functions\n                .then(function(subscription) {\n                  console.log(subscription);\n                  return mSetSubscription(subscription, global);\n                  // tslint:disable-next-line:only-arrow-functions\n                })\n                .catch(function(error) {\n                  console.log('Unable to subscribe to push.', error);\n                })\n            );\n          }\n        });\n    });\n  }\n\n  private setSubscription(subscription, global) {\n    global.generateTokenForRegisterDevice(subscription);\n    global.registerBroadcastListener();\n  }\n\n  private registerBroadcastListener() {\n    const callBack = this._methodCallBack;\n    const sPush = this.constants.getSourcePush();\n    navigator.serviceWorker.addEventListener('message', function handler(\n      event\n    ) {\n      const data = event.data;\n      if (data && data.source === sPush) {\n        console.log(event.data);\n        if (callBack) {\n          callBack(data.payload);\n        }\n      }\n    });\n  }\n\n  // tslint:disable-next-line:member-ordering\n  public generateTokenForRegisterDevice(subscription): void {\n    localStorage.setItem('token', JSON.stringify(subscription));\n    if (!localStorage.getItem('deviceUUID')) {\n      this.generateUUID('');\n    } else {\n      this._devUUID = localStorage.getItem('deviceUUID');\n      if (!localStorage.getItem('deviceId')) {\n        this._devId = localStorage.getItem('deviceId');\n      }\n    }\n    this._platform = '';\n    this._devUUID = localStorage.getItem('deviceUUID');\n    this._devId = localStorage.getItem('deviceId');\n\n    const rawKey = subscription.getKey ? subscription.getKey('p256dh') : '';\n    const key = rawKey\n      ? btoa(String.fromCharCode.apply(null, new Uint8Array(rawKey)))\n      : '';\n    const rawAuthSecret = subscription.getKey\n      ? subscription.getKey('auth')\n      : '';\n    const authSecret = rawAuthSecret\n      ? btoa(String.fromCharCode.apply(null, new Uint8Array(rawAuthSecret)))\n      : '';\n\n    const tokenValue = {\n      endpoint: subscription.endpoint,\n      userAuth: authSecret,\n      userPublicKey: key\n    };\n    this._token = JSON.stringify(tokenValue);\n    if (navigator.userAgent.indexOf('Firefox') !== -1) {\n      this._platform = 'F'; // Firefox Browser\n    } else if (navigator.userAgent.indexOf('Chrome') !== -1) {\n      this._platform = 'C'; // Chrome Browser\n    }\n\n    let device = null;\n    if (this.validateInput(this._devId)) {\n      device = {\n        deviceId: this._devId,\n        platform: this._platform,\n        token: this._token,\n        uuid: this._devUUID\n      };\n    } else {\n      device = {\n        platform: this._platform,\n        token: this._token,\n        uuid: this._devUUID\n      };\n    }\n    this.registerDevice(device);\n  }\n\n  // tslint:disable-next-line:member-ordering\n  public registerDevice(device): void {\n    console.log('Device details:', device);\n    const xhr = this.setRequest(this.constants.getDevicesPath(), 'POST', true);\n\n    /*this.http.post(this.constants.getDevicesPath(), device)\n        .then((response) => {\n            console.log('Response register,', response);\n            localStorage.setItem('deviceId', response);\n        });*/\n    // tslint:disable-next-line:only-arrow-functions\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState === 4 && xhr.status === 200) {\n        console.log('Response register,', xhr);\n        localStorage.setItem('deviceId', xhr.responseText);\n      }\n    };\n    xhr.send(JSON.stringify(device));\n  }\n\n  // tslint:disable-next-line:member-ordering\n  public unRegisterDevice(): Promise<any> {\n    const promise = new Promise((resolve, reject) => {\n      this._devId = localStorage.getItem('deviceId');\n      const global = this;\n      // tslint:disable-next-line:only-arrow-functions\n      navigator.serviceWorker.ready\n        .then(function(registration) {\n          registration\n            .unregister()\n            // tslint:disable-next-line:only-arrow-functions\n            .then(function(checkUnregister) {\n              if (!checkUnregister) {\n                console.log('unregister failed');\n                resolve();\n              }\n              global\n                .unsubscribeDevice(global._devId, global)\n                // tslint:disable-next-line:only-arrow-functions\n                .then(function() {\n                  resolve();\n                });\n            });\n        })\n        // tslint:disable-next-line:only-arrow-functions\n        .catch(function(error) {\n          console.log('Registration failed with ' + error);\n          resolve();\n        });\n    });\n    return promise;\n  }\n\n  // tslint:disable-next-line:member-ordering\n  public unsubscribeDevice(deviceID, global): Promise<any> {\n    const promise = new Promise((resolve, reject) => {\n      const deviceId = localStorage.getItem('deviceId');\n      const device = {\n        devices: {\n          deviceId: global._devId,\n          platform: global._platform,\n          token: global._token,\n          uuid: global._devUUID\n        }\n      };\n      if (deviceID) {\n        const xhr = global.setRequest(\n          global.constants.getDevicesPath() + '/' + deviceID,\n          'DELETE',\n          true\n        );\n        // tslint:disable-next-line:only-arrow-functions\n        xhr.onreadystatechange = function() {\n          if (xhr.readyState === 4 && xhr.status === 200) {\n            console.log('The response is ,', xhr);\n            console.log('Successfully unregistered the device');\n            localStorage.setItem('deviceUUID', '');\n            localStorage.setItem('deviceId', '');\n            localStorage.setItem('token', '');\n            resolve();\n          }\n        };\n        xhr.send(JSON.stringify(device));\n      } else {\n        resolve();\n      }\n    });\n    return promise;\n  }\n\n  private setRequest(url, method, asyncP) {\n    let xhr = new XMLHttpRequest();\n    xhr.open(method, url, asyncP);\n    xhr = this.setHeaders(xhr, method);\n    return xhr;\n  }\n\n  private setHeaders(xhr, method) {\n    xhr.setRequestHeader('Accept', 'application/json');\n    xhr.setRequestHeader('x-ibm-client-id', this.constants.getClientId());\n    xhr.setRequestHeader('App-Code', this.constants.getAppCode());\n    xhr.setRequestHeader('Accept-Language', this.constants.getAppLanguage());\n    xhr.setRequestHeader('Authorization', this.constants.getAuthToken());\n    xhr.setRequestHeader('jwt', this.constants.getJwt());\n    xhr.timeout = 3000;\n\n    if (method === 'POST' || method === 'PUT') {\n      xhr.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');\n    }\n\n    return xhr;\n  }\n\n  private generateUUID(token): string {\n    let dateTime = new Date().getTime();\n    if (window.performance && typeof window.performance.now === 'function') {\n      dateTime += performance.now(); // use high-precision timer if available\n    }\n\n    const hostname = window.location.hostname;\n    const arrayData = [];\n    arrayData.push(this.hashCode(dateTime));\n    arrayData.push(this.hashCode(token));\n    arrayData.push(this.hashCode(hostname));\n    arrayData.push(this.hashCode(this._platform));\n\n    const finalString = arrayData\n      .join('')\n      .replace(/[-.]/g, '')\n      .replace(/[,.]/g, '');\n    let uuid = '';\n    for (let i = 0; i < 32; i++) {\n      uuid += finalString.charAt(\n        Math.floor(Math.random() * finalString.length)\n      );\n    }\n    localStorage.setItem('deviceUUID', uuid);\n    this._devUUID = uuid;\n    return this._devUUID;\n  }\n\n  private hashCode(str): number {\n    let hash = 0;\n    let i;\n    let chr;\n    let len;\n    if (str.length === 0) {\n      return hash;\n    }\n    for (i = 0, len = str.length; i < len; i++) {\n      chr = str.charCodeAt(i);\n      // tslint:disable-next-line:no-bitwise\n      hash = (hash << 5) - hash + chr;\n      // tslint:disable-next-line:no-bitwise\n      hash |= 0; // Convert to 32bit integer\n    }\n    return hash;\n  }\n\n  private validateInput(stringValue) {\n    // tslint:disable-next-line:max-line-length\n    return stringValue === undefined ||\n      stringValue == null ||\n      stringValue.length <= 0 ||\n      stringValue === ''\n      ? false\n      : true;\n  }\n\n  private urlB64ToUint8Array(base64String) {\n    const padding = '='.repeat((4 - (base64String.length % 4)) % 4);\n    const base64 = (base64String + padding)\n      .replace(/\\-/g, '+')\n      .replace(/_/g, '/');\n\n    const rawData = window.atob(base64);\n    const outputArray = new Uint8Array(rawData.length);\n\n    for (let i = 0; i < rawData.length; ++i) {\n      outputArray[i] = rawData.charCodeAt(i);\n    }\n    return outputArray;\n  }\n}\n","import { Broadcaster } from '@cemex-core/events-v7';\n\nimport { AuthGuard } from './auth-guard.service';\nimport { HttpCemex } from './http.service';\nimport { ProjectSettings } from './project.settings';\nimport { SessionService } from './session.service';\nimport { TranslationService } from './translation.service';\n\nexport const CORE_COMMON_PROVIDERS = [\n  ProjectSettings,\n  HttpCemex,\n  SessionService,\n  Broadcaster,\n  AuthGuard,\n  TranslationService\n];\n","import { NgModule } from '@angular/core';\nimport { CORE_COMMON_PROVIDERS } from './core-common.providers';\n\n@NgModule({\n  declarations: [],\n  exports: [],\n  imports: [],\n  providers: [CORE_COMMON_PROVIDERS]\n})\nexport class CmxCoreCommonModule {}\n"],"names":[],"mappings":"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"}
