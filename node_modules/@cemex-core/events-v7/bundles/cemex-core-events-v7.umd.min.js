!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs/operators"),require("@angular/router"),require("@angular/core"),require("rxjs")):"function"==typeof define&&define.amd?define("@cemex-core/events-v7",["exports","rxjs/operators","@angular/router","@angular/core","rxjs"],t):t((e["cemex-core"]=e["cemex-core"]||{},e["cemex-core"]["events-v7"]={}),e.rxjs.operators,e.ng.router,e.ng.core,e.rxjs)}(this,function(e,r,t,o,n){"use strict";var u=(c.prototype.broadcast=function(e,t){c._eventBus.next({key:e,data:t})},c.prototype.on=function(t){return c._eventBus.asObservable().pipe(r.filter(function(e){return e.key===t}),r.map(function(e){return e.data}))},c.CHANGE_SCREEN_HOME="change_screen",c.DCM_APP_LOGOUT="dcm_app_logout_event",c.DCM_LANGUAGE_CHANGE="dcm_language_change_event",c.DCM_LANGUAGE_FETCHED="dcm_language_fetched_event",c.DCM_LEGAL_ENTITY_CHANGE="dcm_legal_entity_change_event",c.DCM_LANGUAGE_SELECTION="dcm_language_selection_event",c._eventBus=null,c.decorators=[{type:o.Injectable}],c.ctorParameters=function(){return[]},c);function c(){null!=c._eventBus&&c._eventBus!==undefined||(c._eventBus=new n.Subject)}var s=(i.prototype.setDates=function(e){window.localStorage.setItem("dates",JSON.stringify(e));var t=this.getCurrentValue();0===e.start.diff(t.start,"days")&&0===e.end.diff(t.end,"days")||this.datesSubject.next(e)},i.prototype.getDates=function(){return this.dates$},i.prototype.getCurrentValue=function(){return this.datesSubject.getValue()},i.decorators=[{type:o.Injectable}],i);function i(){this.datesSubject=new n.BehaviorSubject({start:this.moment(),end:this.moment()}),this.dates$=this.datesSubject.asObservable()}var a=(l.prototype.selectOrder=function(e){this.orderSelectedSubject.getValue()!==e&&this.orderSelectedSubject.next(e)},l.prototype.getOrderSelected=function(){return this.order$},l.prototype.currentOrderSelected=function(){return this.orderSelectedSubject.getValue()},l.decorators=[{type:o.Injectable}],l.ctorParameters=function(){return[]},l);function l(){this.orderSelectedSubject=new n.BehaviorSubject(null),this.order$=this.orderSelectedSubject.asObservable()}var d=(b.prototype.selectJobsite=function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1),this.jobsiteSubject.getValue()!==e&&(r||this.jobsiteSubject.next(e)),e&&t&&this.router.navigate(["app/jobsite",e.jobsiteId])},b.prototype.selectCustomer=function(e,t){void 0===t&&(t=!0),this.customerSubject.getValue()!==e&&this.customerSubject.next(e),t&&(this.selectJobsite(null),this.router.navigate(["app/client-detail"]))},b.prototype.setCustomers=function(e){this.customersSubject.next(e)},b.prototype.getJobsiteSelected=function(){return this.jobsite$},b.prototype.getCustomerSelected=function(){return this.customer$},b.prototype.selectCustomerByCode=function(e,t){var r,o;void 0===t&&(t=!1);try{for(var n=function s(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}(this.customersSubject.getValue()),u=n.next();!u.done;u=n.next()){var c=u.value;c.customerCode===e&&this.selectCustomer(c,t)}}catch(i){r={error:i}}finally{try{u&&!u.done&&(o=n["return"])&&o.call(n)}finally{if(r)throw r.error}}},b.prototype.currentCustomer=function(){return this.customerSubject.getValue()},b.prototype.currentJobsite=function(){return this.jobsiteSubject.getValue()},b.decorators=[{type:o.Injectable}],b.ctorParameters=function(){return[{type:t.Router}]},b);function b(e){this.router=e,this.jobsiteSubject=new n.BehaviorSubject(null),this.customerSubject=new n.BehaviorSubject(null),this.customersSubject=new n.BehaviorSubject(null),this.jobsite$=this.jobsiteSubject.asObservable(),this.customer$=this.customerSubject.asObservable()}var p=(f.prototype.selectTruck=function(e){this.truckValue()!==e&&this.selectedTruckSubject.next(e)},f.prototype.selectedTruck=function(){return this.selectedTruckSubject.asObservable()},f.prototype.truckValue=function(){return this.selectedTruckSubject.getValue()},f.decorators=[{type:o.Injectable}],f.ctorParameters=function(){return[]},f);function f(){this.selectedTruckSubject=new n.BehaviorSubject(null)}e.Broadcaster=u,e.CalendarEvents=s,e.OrderEvents=a,e.SidebarEvents=d,e.TruckEvents=p,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=cemex-core-events-v7.umd.min.js.map