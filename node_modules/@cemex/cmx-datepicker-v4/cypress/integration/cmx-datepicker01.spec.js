describe('Range selection',function(){
    it('starts the application', function(){
        cy.clearCookies();
        cy.clearLocalStorage();
        cy.window().then((win) => {
            win.sessionStorage.clear();
        });
        cy.visit('http://localhost:8000//');
    });

    it('Check init range in datepicker', function(){
        cy.get('.cmx-active-start > .cmx-datepicker__day').should('have.class', 'active').contains('1');
        cy.get('#datepickerRange > .cmx-datepicker > .cmx-datepicker__body > .cmx-datepicker__days-grid > tbody > :nth-child(1) > :nth-child(4) > .cmx-datepicker__day').not('Have.class', 'active').contains('2');
        cy.get('.cmx-active-end > .cmx-datepicker__day').should('have.class', 'active').contains('5');
    });

    it('Set range from May 10 to may 20th', function(){
        cy.get('#datepickerRange > .cmx-datepicker > .cmx-datepicker__body > .cmx-datepicker__days-grid > tbody > :nth-child(2) > :nth-child(5) > .cmx-datepicker__day').contains('10').not('have.class', 'active').click({ force: true });
        cy.get('#datepickerRange > .cmx-datepicker > .cmx-datepicker__body > .cmx-datepicker__days-grid > tbody > :nth-child(4) > :nth-child(1) > .cmx-datepicker__day').contains('20').not('have.class', 'active').click({ force: true });
        cy.get('#datepickerSingle > .cmx-datepicker > .cmx-datepicker__footer > .cmx-datepicker__cta > .cmx-apply-button').contains('Aplicar').click();
    });
});
