describe('Angular Library Starter APP', function () {
    it('starts the application', function () {
        cy.clearCookies();
        cy.clearLocalStorage();
        cy.window().then((win) => {
            win.sessionStorage.clear();
        });
        cy.visit('http://localhost:8000/');
    });
    it('Interaction step 0', function () {
        cy.get('body > my-app > cmx-dropdown:nth-child(3) > div > div > span ').contains('this is title');
        cy.get('body > my-app > cmx-dropdown:nth-child(3) > div > div > span ').click({
            force: true
        });
    });
    it('Interaction step 1', function () {
        cy.get('[disabletick="true"] > .dropdown-item').children().should('have.length', 1)
        cy.get('[disabletick="true"] > .dropdown-item').should('have.class', 'dropdown-item');
        cy.get('[disabletick="true"] > .dropdown-item').click({
            force: true
        });
    });
    it('Interaction step 2', function () {
        cy.get(':nth-child(3) > .dropdown-item').contains('Third option');
        cy.get(':nth-child(3) > .dropdown-item').should('have.class', 'dropdown-item');
        cy.get(':nth-child(3) > .dropdown-item').click({
            force: true
        });
    });
    it('Interaction step 3', function () {
        cy.get(':nth-child(3) > .dropdown-item').contains('Third option');
        cy.get(':nth-child(3) > .dropdown-item').should('have.class', 'dropdown-item');
        cy.get(':nth-child(3) > .dropdown-item').should('have.class', 'active');
        cy.get(':nth-child(3) > .dropdown-item').click({
            force: true
        });
    });
    it('Interaction step 4', function () {
        cy.get('[disabletick="true"] > .dropdown-item > cmx-checkbox > input[type="checkbox"]').check({
            force: true
        });
    });
    it('Interaction step 5', function () {
        cy.get('[disabletick="true"] > .dropdown-item > cmx-checkbox > input[type="checkbox"]').check({
            force: true
        });
    });
    it('Interaction step 6', function () {
        cy.get('.cmx-dropdown__mask').should('have.class', 'cmx-dropdown__mask');
        cy.get('.cmx-dropdown__mask').click({
            force: true
        });
    });
    it('Interaction step 7', function () {
        cy.get('body > my-app > div:nth-child(23) > cmx-dropdown > div > div ').children().should('have.length', 2)
        cy.get('body > my-app > div:nth-child(23) > cmx-dropdown > div > div ').should('have.class', 'cmx-dropdown__placeholder');
        cy.get('body > my-app > div:nth-child(23) > cmx-dropdown > div > div ').click({
            force: true
        });
    });
    it('Interaction step 8', function () {
        cy.get(':nth-child(3) > .dropdown-item').contains('Third option');
        cy.get(':nth-child(3) > .dropdown-item').should('have.class', 'dropdown-item');
        cy.get(':nth-child(3) > .dropdown-item').click({
            force: true
        });
    });
    it('Interaction step 9', function () {
        cy.get(':nth-child(3) > .dropdown-item').contains('Third option');
        cy.get(':nth-child(3) > .dropdown-item').should('have.class', 'dropdown-item');
        cy.get(':nth-child(3) > .dropdown-item').should('have.class', 'active');
        cy.get(':nth-child(3) > .dropdown-item').click({
            force: true
        });
    });
    it('Interaction step 10', function () {
        cy.get('[disabletick="true"] > .dropdown-item > cmx-checkbox > input[type="checkbox"]').check({
            force: true
        });
    });
    it('Interaction step 11', function () {
        cy.get('[disabletick="true"] > .dropdown-item > cmx-checkbox > input[type="checkbox"]').check({
            force: true
        });
    });
    it('Interaction step 12', function () {
        cy.get('.cmx-dropdown__mask').should('have.class', 'cmx-dropdown__mask');
        cy.get('.cmx-dropdown__mask').click({
            force: true
        });
    });
    it('Interaction step 13', function () {
        cy.get('body > my-app > cmx-dropdown:nth-child(3) > div > div > span ').contains('this is title');
        cy.get('body > my-app > cmx-dropdown:nth-child(3) > div > div > span ').click({ force: true });
    });
    it('Interaction step 14', function () {
        cy.get('.cmx-dropdown__mask').click({ force: true });
    });
    it('Interaction step 15', function () {
        cy.get('body > my-app > table > tbody > tr:nth-child(2) > td:nth-child(2) > input ').click({ force: true });
    });
    it('Interaction step 16', function () {
        cy.get('body > my-app > table > tbody > tr:nth-child(2) > td:nth-child(2) > input ').clear({ force: true });
        cy.get('body > my-app > table > tbody > tr:nth-child(2) > td:nth-child(2) > input ').type('this is title', { force: true });
    });
    it('Interaction step 17', function () {
        cy.get('body > my-app > table > tbody > tr:nth-child(2) > td:nth-child(2) > input ').clear({ force: true });
        cy.get('body > my-app > table > tbody > tr:nth-child(2) > td:nth-child(2) > input ').type('this is title add', { force: true });
    });
    it('Interaction step 18', function () {
        cy.get('body ').children().should('have.length', 6)
        cy.get('body ').click({
            force: true
        });
    });
    it('Interaction step 19', function () {
        cy.get('body > my-app > cmx-dropdown:nth-child(3) > div > div > span ').contains('this is title add');
        cy.get('body > my-app > cmx-dropdown:nth-child(3) > div > div > span ').click({ force: true });
    });
    it('Interaction step 20', function () {
        cy.get('.cmx-dropdown__mask').click();
    });
    it('Interaction step 21', function () {
        cy.get('body > my-app > table > tbody > tr:nth-child(3) > td:nth-child(2) > input ').check({ force: true });
    });
    it('Interaction step 22', function () {
        cy.get('body > my-app > table > tbody > tr:nth-child(3) > td:nth-child(2) > input ').check();
    });
    it('Interaction step 23', function () {
        cy.get('body > my-app > cmx-dropdown:nth-child(3) > div > div > span ').contains('this is title add');
        cy.get('body > my-app > cmx-dropdown:nth-child(3) > div > div > span ').click({ force: true });
    });
    it('Interaction step 24', function () {
        cy.get('.cmx-dropdown__mask').click();
    });
    it('Interaction step 25', function () {
        cy.get('body ').children().should('have.length', 6)
        cy.get('body ').click({
            force: true
        });
    });
    it('Interaction step 26', function () {
        cy.get('body > my-app > table > tbody > tr:nth-child(3) > td:nth-child(2) > input ').uncheck({ force: true });
    });
    it('Interaction step 27', function () {
        cy.get('body > my-app > table > tbody > tr:nth-child(3) > td:nth-child(2) > input ').uncheck();
    });
    it('Interaction step 28', function () {
        cy.get('body ').children().should('have.length', 6)
        cy.get('body ').click({
            force: true
        });
    });
    it('Interaction step 29', function () {
        cy.get('body > my-app > cmx-dropdown:nth-child(3) > div > div > span ').contains('this is title add');
        cy.get('body > my-app > cmx-dropdown:nth-child(3) > div > div > span ').click({ force: true });
    });
    it('Interaction step 30', function () {
        cy.get('body > my-app > cmx-dropdown:nth-child(3) > div > div:nth-child(2) > div > cmx-dropdown-item:nth-child(1) > div ').contains('First option');
        cy.get('body > my-app > cmx-dropdown:nth-child(3) > div > div:nth-child(2) > div > cmx-dropdown-item:nth-child(1) > div ').click({ force: true });
    });
    it('Interaction step 31', function () {
        cy.get(':nth-child(2) > .dropdown-item ').contains('Second option');
        cy.get(':nth-child(2) > .dropdown-item').click({ force: true });
    });
    it('Interaction step 32', function () {
        cy.get(':nth-child(3) > .dropdown-item').contains('Third option');
        cy.get(':nth-child(3) > .dropdown-item').click({ force: true });
    });
    it('Interaction step 33', function () {
        cy.get('.cmx-dropdown__mask').click({ force: true });
    });
    it('Interaction step 34', function () {
        cy.get('body > my-app > table > tbody > tr:nth-child(4) > td:nth-child(2) > input ').check({ force: true });
    });
    it('Interaction step 35', function () {
        cy.get('body > my-app > table > tbody > tr:nth-child(4) > td:nth-child(2) > input ').check({ force: true });
    });
    it('Interaction step 36', function () {
        cy.get('body > my-app > cmx-dropdown:nth-child(3) > div > div > span ').contains('this is title add');
        cy.get('body > my-app > cmx-dropdown:nth-child(3) > div > div > span ').click({ force: true });
    });
    it('Interaction step 37', function () {
        cy.get('body > my-app > cmx-dropdown:nth-child(3) > div > div:nth-child(2) > div > cmx-dropdown-item:nth-child(1) > div ').contains('First option');
        cy.get('body > my-app > cmx-dropdown:nth-child(3) > div > div:nth-child(2) > div > cmx-dropdown-item:nth-child(1) > div ').click({ force: true });
    });
    it('Interaction step 38', function () {
        cy.get('body ').children().should('have.length', 6)
        cy.get('body ').click({
            force: true
        });
    });
    it('Interaction step 39', function () {
        cy.get('body > my-app > table > tbody > tr:nth-child(4) > td:nth-child(2) > input ').uncheck({ force: true });
    });
    it('Interaction step 40', function () {
        cy.get('body > my-app > table > tbody > tr:nth-child(4) > td:nth-child(2) > input ').uncheck({ force: true });
    });
    it('Interaction step 41', function () {
        cy.get('body > my-app > table > tbody > tr:nth-child(5) > td:nth-child(2) > input ').check({ force: true });
    });
    it('Interaction step 42', function () {
        cy.get('body > my-app > table > tbody > tr:nth-child(5) > td:nth-child(2) > input ').check({ force: true });
    });
    it('Interaction step 43', function () {
        cy.get('body > my-app > cmx-dropdown:nth-child(3) > div > div > span ').contains('this is title add');
        cy.get('body > my-app > cmx-dropdown:nth-child(3) > div > div > span ').click({ force: true });
    });
    it('Interaction step 44', function () {
        cy.get('body > my-app > cmx-dropdown:nth-child(3) > div > div:nth-child(2) > div:nth-child(1) > div > input ').click({ force: true });
    });
    it('Interaction step 45', function () {
        cy.get('body > my-app > cmx-dropdown:nth-child(3) > div > div.cmx-dropdown__items-positioner > div.filtering-box > div > input[type="search"]').clear({ force: true });
        cy.get('body > my-app > cmx-dropdown:nth-child(3) > div > div.cmx-dropdown__items-positioner > div.filtering-box > div > input[type="search"]').type('search', { force: true });
    });
    it('Interaction step 46', function () {
        cy.get('.cmx-dropdown__mask').click({ force: true });
    });
    it('Interaction step 47', function () {
        cy.get('body > my-app > table > tbody > tr:nth-child(7) > td:nth-child(2) > input ').clear({ force: true });
        cy.get('body > my-app > table > tbody > tr:nth-child(7) > td:nth-child(2) > input ').type('7', { force: true });
    });
    it('Interaction step 48', function () {
        cy.get('body > my-app > table > tbody > tr:nth-child(2) > td:nth-child(2) > input ').click({ force: true });
    });
    it('Interaction step 49', function () {
        cy.get('body > my-app > table > tbody > tr:nth-child(2) > td:nth-child(2) > input ').clear({ force: true });
        cy.get('body > my-app > table > tbody > tr:nth-child(2) > td:nth-child(2) > input ').type('this is title add', { force: true });
    });
    it('Interaction step 50', function () {
        cy.get('body > my-app > table > tbody > tr:nth-child(2) > td:nth-child(2) > input ').clear({ force: true });
        cy.get('body > my-app > table > tbody > tr:nth-child(2) > td:nth-child(2) > input ').type('this is title add extra', { force: true });
    });
    it('Interaction step 51', function () {
        cy.get('body ').children().should('have.length', 6)
        cy.get('body ').click({
            force: true
        });
    });
    it('Interaction step 52', function () {
        cy.get('body > my-app > cmx-dropdown:nth-child(3) > div > div > span ').contains('this is...');
        cy.get('body > my-app > cmx-dropdown:nth-child(3) > div > div > span ').click({ force: true });
    });
    it('Interaction step 53', function () {
        cy.get('.cmx-dropdown__mask').click();
    });
    it('Interaction step 54', function () {
        cy.get('body > my-app > table > tbody > tr:nth-child(5) > td:nth-child(2) > input ').uncheck({ force: true });
    });
    it('Interaction step 55', function () {
        cy.get('body > my-app > table > tbody > tr:nth-child(5) > td:nth-child(2) > input ').uncheck({ force: true });
    });
    it('Interaction step 56', function () {
        cy.get('body > my-app > cmx-dropdown:nth-child(8) > div > div > span ').click({
            force: true
        });
    });
    it('Interaction step 57', function () {
        cy.get('body > my-app > cmx-dropdown:nth-child(8) > div > div:nth-child(2) > div > cmx-dropdown-item:nth-child(1) > div ').click({
            force: true
        });
    });
    it('Interaction step 58', function () {
        cy.get('body > my-app > cmx-dropdown:nth-child(8) > div > div > span ').click({
            force: true
        });
        cy.get('body > my-app > cmx-dropdown:nth-child(8) > div > div:nth-child(2) > div > cmx-dropdown-item:nth-child(1) > div ').should("have.class", "active");
        cy.get('body > my-app > cmx-dropdown:nth-child(8) > div > div:nth-child(2) > div > cmx-dropdown-item:nth-child(1) > div ').click({
            force: true
        });
    });

    it('Validate thet search value is maintained', function () {
        // enable search
        cy.get('[data-cy=enable-search]').check();
        // shows the dropdown list
        cy.get('[data-cy=first-cmx-dropdown]').click({ force: true });
        // clear the input value
        cy.get('[data-cy=first-cmx-dropdown] .filter-search > input').clear();    
        // type something
        cy.get('[data-cy=first-cmx-dropdown] .filter-search > input').type('Third');
        // closes the dropdown list
        cy.get('.cmx-dropdown__mask').click({ force: true });
        // shows the dropdown list again
        cy.get('[data-cy=first-cmx-dropdown]').click({ force: true });
        // validate the written text
        cy.get('[data-cy=first-cmx-dropdown] .filter-search > input').should('have.value', 'Third');
        // closes the dropdown list
        cy.get('.cmx-dropdown__mask').click({ force: true });
        // disable search
        cy.get('[data-cy=enable-search]').uncheck();
    });

});
