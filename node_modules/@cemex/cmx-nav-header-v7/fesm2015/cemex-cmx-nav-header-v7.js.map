{"version":3,"file":"cemex-cmx-nav-header-v7.js.map","sources":["ng://@cemex/cmx-nav-header-v7/lib/constants/cmx-nav-header.constant.ts","ng://@cemex/cmx-nav-header-v7/lib/cmx-nav-header.component.ts","ng://@cemex/cmx-nav-header-v7/lib/click-outside.directive.ts","ng://@cemex/cmx-nav-header-v7/lib/cmx-nav-header.module.ts"],"sourcesContent":["export const HEADER_NOTIFICATION_UPDATE = 'cmx-nav-header_notification-update';\r\nexport const HEADER_NOTIFICATION_PUSH = 'cmx-nav-header_notification-push';\r\n","import { DOCUMENT, SafeResourceUrl, DomSanitizer } from '@angular/platform-browser';\r\nimport {\r\n  AfterViewInit,\r\n  Component,\r\n  Directive,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostListener,\r\n  Inject,\r\n  Input,\r\n  OnInit,\r\n  Output,\r\n  ViewChild,\r\n  Renderer,\r\n  Optional,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  OnDestroy,\r\n} from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { CmxDialogComponent } from '@cemex/cmx-dialog-v7';\r\nimport { SessionService, CountryConfigService } from '@cemex-core/angular-services-v7';\r\nimport { TranslationService } from '@cemex-core/angular-localization-v7';\r\nimport { IUserProfile } from '@cemex-core/types-v2/dist/index.interface';\r\nimport { Broadcaster } from '@cemex-core/events-v7';\r\nimport { Observable, Subscription, fromEvent } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, timeout } from 'rxjs/operators';\r\nimport { Headers, Http, RequestOptions, Response } from '@angular/http';\r\nimport {\r\n  ISearchHeaderResult,\r\n  ISearchHeaderService,\r\n  INotificationEntry,\r\n  INotificationService,\r\n  INotificationDict,\r\n} from './interfaces';\r\nimport { ICountryConfig } from '@cemex-core/types-v2/dist';\r\nimport { HEADER_NOTIFICATION_UPDATE, HEADER_NOTIFICATION_PUSH } from './constants';\r\n\r\nexport interface IUserLanguage {\r\n  languageId: string;\r\n  languageISO: string;\r\n  isSelected: boolean;\r\n  displayName: string;\r\n  dummyLang?: boolean;\r\n}\r\n\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'cmx-nav-header',\r\n  styleUrls: ['./../../../../../../../scssv4/cmx-components/cmx-nav-header/v4/cmx-nav-header.component.scss'],\r\n  templateUrl: './cmx-nav-header.component.html',\r\n})\r\nexport class CmxNavHeaderComponent implements AfterViewInit, OnDestroy, OnChanges, OnInit {\r\n  public static USE_TRANSLATION_SERVER = 'USE_TRANSLATION_SERVER';\r\n  public _enableNotifications: boolean;\r\n  public _countryConfig: ICountryConfig;\r\n\r\n  @ViewChild('countrySupportContactModal') public countrySupportContactModal: CmxDialogComponent;\r\n\r\n  @Output()\r\n  public clickMenuButton: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  // tslint:disable:no-output-on-prefix\r\n  @Output()\r\n  public onSelectItemSearchEvent: EventEmitter<ISearchHeaderResult> = new EventEmitter<ISearchHeaderResult>();\r\n\r\n  @Output()\r\n  public onViewAllResultEvent: EventEmitter<ISearchHeaderResult[]> = new EventEmitter<ISearchHeaderResult[]>();\r\n  /**\r\n   * @deprecated Subscribe to Broadcaster's DCM_APP_LOGOUT event instead\r\n   */\r\n  @Output()\r\n  public onLogout: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  @Output()\r\n  public onLanguageChange: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  @Input() public rtl = false;\r\n\r\n  @Input() public useLanguageSelector = false;\r\n\r\n  @Input() public showCountrySupportContact = true;\r\n\r\n  @Input() public useInternalSettings = false;\r\n\r\n  @Input() public closeNotificationsOnCLick = false;\r\n\r\n  @Input() public customPathSettings: string;\r\n\r\n  @Input() public disabledProfile = false;\r\n\r\n  @ViewChild('feedbackDialog')\r\n  public feedbackDialog: CmxDialogComponent;\r\n\r\n  public get _notificationsToShow(): INotificationEntry[] {\r\n    const result: any = this._allNotifications.sort((notif1: INotificationEntry, notif2: INotificationEntry) => {\r\n      if (notif1.typeNotification === notif2.typeNotification) {\r\n        if (notif1.viewed === notif2.viewed) {\r\n          return this.compareNotificationFn(notif1, notif2);\r\n        } else {\r\n          return notif1.viewed ? 1 : -1;\r\n        }\r\n      } else {\r\n        return notif1.typeNotification > notif2.typeNotification ? 1 : -1;\r\n      }\r\n    });\r\n    return result.slice(0, 3);\r\n  }\r\n\r\n  public developerPortalUrl: SafeResourceUrl;\r\n  public _formLangUrl: SafeResourceUrl;\r\n  public logo: string;\r\n  public userCountry: string;\r\n  public emails: any[] = [];\r\n  public phones: any[] = [];\r\n  public _userProfile: IUserProfile;\r\n  public showAppNavigation = false;\r\n  public _userInitials = '';\r\n  public _showUserProfile = false;\r\n  public _showLangList = false;\r\n  public _languages: IUserLanguage[] = [];\r\n  public _showNotifications = false;\r\n  public _allNotifications: INotificationEntry[] = [];\r\n  public _unReadNotification: INotificationEntry[] = [];\r\n  private _openInput = false;\r\n  private _searchValue: string;\r\n  private _currentLang = '';\r\n  private _defaultRoute = '/login';\r\n  private _profileRoute = '/profile';\r\n  private _blueGreenCookieName = 'testingmode';\r\n  private _blueGreenCookieValue = 'all';\r\n  private _activeSearch = false;\r\n  private _openSearchList = false;\r\n  private _subscriptionList: ISearchHeaderService[];\r\n  private _resultSearchList: ISearchHeaderResult[] = [];\r\n  private _openWaiting = false;\r\n  private _noContainsData = false;\r\n  private _currentIndexSearchList = -1;\r\n  private _activeSearchResult: ISearchHeaderResult | undefined;\r\n  private _clickProfileIcon = false;\r\n  private _useTranslationServer = false;\r\n  private _showIconNotification = false;\r\n  private _clickNotificationIcon = false;\r\n  private _allNotificationDict: INotificationDict = {};\r\n  private _allRawNotifications: any[] = [];\r\n  private _notificationSubscription: Subscription;\r\n  private _notificationService: INotificationService;\r\n  private _translationSuscriber: Subscription;\r\n  private _clickAppsIcon = false;\r\n\r\n  get language(): IUserLanguage | any {\r\n    const tmp: IUserLanguage[] = this._languages.filter((lang: any) => lang.isSelected);\r\n    return tmp.length > 0 ? tmp[0] : undefined;\r\n  }\r\n\r\n  @Input()\r\n  set activeSearch(value: boolean) {\r\n    this._activeSearch = value;\r\n  }\r\n\r\n  @Input()\r\n  set searchServiceList(value: ISearchHeaderService[]) {\r\n    this._subscriptionList = value;\r\n  }\r\n\r\n  @Input()\r\n  set notificationService(value: INotificationService) {\r\n    this._notificationService = value;\r\n  }\r\n\r\n  @Output()\r\n  private notificationAction: EventEmitter<INotificationEntry> = new EventEmitter<INotificationEntry>();\r\n\r\n  @ViewChild('searchInput')\r\n  private searchInput: ElementRef;\r\n\r\n  @Output()\r\n  private showAllNotifications: EventEmitter<INotificationEntry[]> = new EventEmitter<INotificationEntry[]>();\r\n\r\n  constructor(\r\n    private sessionService: SessionService,\r\n    public _translation: TranslationService,\r\n    private eventBroadcaster: Broadcaster,\r\n    private countryConfigService: CountryConfigService,\r\n    public renderer: Renderer,\r\n    public http: Http,\r\n    public router: Router,\r\n    private sanitizer: DomSanitizer,\r\n    @Optional() @Inject('RTL') isRTL: boolean,\r\n  ) {\r\n    if (isRTL !== undefined) {\r\n      this.rtl = isRTL;\r\n    }\r\n    this.setUserInfo();\r\n    this.setLanguages();\r\n\r\n    this.setFeedback();\r\n    this.setAppNavigation();\r\n  }\r\n\r\n  public setAppNavigation(): void {\r\n    this.developerPortalUrl = this.sanitizer.bypassSecurityTrustUrl('https://developers.cemexgo.com/');\r\n  }\r\n\r\n  public setFeedback(): void {\r\n    const country = 'country';\r\n    this.userCountry = sessionStorage[country];\r\n    this.logo = this.userCountry === 'IL' ? 'readymix.co.il.white.svg' : 'cemex_mono_white.svg';\r\n    this.logo =\r\n      this._userProfile.customerId === 3025 &&\r\n      this.userCountry === 'MX' &&\r\n      (window.location.hostname.includes('dev2') || window.location.hostname.includes('demo'))\r\n        ? 'neoris-logo.svg'\r\n        : this.logo;\r\n    if (this.userCountry === undefined) {\r\n      return;\r\n    }\r\n    switch (this.userCountry) {\r\n      case 'CO':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-colombia.ideas.aha.io');\r\n        break;\r\n      case 'CR':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n          'https://cxgofeedback-costarica.ideas.aha.io',\r\n        );\r\n        break;\r\n      case 'CZ':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n          'https://cxgofeedback-czechrepublic.ideas.aha.io',\r\n        );\r\n        break;\r\n      case 'EG':\r\n        /* keeping formLangUrl as undefined so is not displayed on DOM.\r\n                  this._formLangUrl =\r\n                        this.sanitizer.bypassSecurityTrustResourceUrl(\"https://cxgofeedback-egypt.ideas.aha.io\"); */\r\n        break;\r\n      case 'SV':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n          'https://cxgofeedback-elsalvador.ideas.aha.io',\r\n        );\r\n        break;\r\n      case 'DE':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-germany.ideas.aha.io');\r\n        break;\r\n      case 'GT':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n          'https://cxgofeedback-guatemala.ideas.aha.io',\r\n        );\r\n        break;\r\n      case 'IL':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-israel.ideas.aha.io');\r\n        break;\r\n      case 'LV':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-latvia.ideas.aha.io');\r\n        break;\r\n      case 'MX':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-mexico.ideas.aha.io');\r\n        break;\r\n      case 'NI':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n          'https://cxgofeedback-nicaragua.ideas.aha.io',\r\n        );\r\n        break;\r\n      case 'PA':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-panama.ideas.aha.io');\r\n        break;\r\n      case 'PE':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-peru.ideas.aha.io');\r\n        break;\r\n      case 'PH':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n          'https://cxgofeedback-philippines.ideas.aha.io',\r\n        );\r\n        break;\r\n      case 'PL':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-poland.ideas.aha.io');\r\n        break;\r\n      case 'PR':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n          'https://cxgofeedback-puertorico.ideas.aha.io',\r\n        );\r\n        break;\r\n      case 'DO':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n          'https://cxgofeedback-republicadominicana.ideas.aha.io',\r\n        );\r\n        break;\r\n      case 'GB':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-uk.ideas.aha.io');\r\n        break;\r\n      case 'US':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-usa.ideas.aha.io');\r\n        break;\r\n      case 'FR':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-france.ideas.aha.io');\r\n        break;\r\n      case 'ES':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-spain.ideas.aha.io');\r\n        break;\r\n      case 'AE':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-uae.ideas.aha.io');\r\n        break;\r\n      default:\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-usa.ideas.aha.io');\r\n        break;\r\n    }\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.eventBroadcaster.on<string>(Broadcaster.DCM_LANGUAGE_CHANGE).subscribe(() => {\r\n      this.setFeedback();\r\n    });\r\n\r\n    if (this.showCountrySupportContact) {\r\n      this.getConfigCountry();\r\n    }\r\n\r\n    this._enableNotifications = this._notificationService && 'serviceWorker' in navigator;\r\n\r\n    if (this._enableNotifications) {\r\n      navigator.serviceWorker.addEventListener('message', (event: any) => {\r\n        const notification: any = event.data;\r\n        // convert raw notification into a INotificationEntry to know its type notification\r\n        const pushedNotification: any = this._notificationService.mapNotification(notification);\r\n        // get list of notifications by type notification\r\n        const _notifications: any = this._allNotificationDict[pushedNotification.typeNotification];\r\n        // add push notification to list of notifications\r\n        this._allNotifications.push(pushedNotification);\r\n        _notifications.push(pushedNotification);\r\n        // notify new push notification to the INotificationService\r\n        this._notificationService.notificationSubscription.next({\r\n          notifications: _notifications,\r\n          typeNotification: pushedNotification.typeNotification,\r\n        });\r\n        // this subscription is used when service worker get a new notification\r\n        this._notificationService.pushedNotification.next({\r\n          notifications: [notification],\r\n          typeNotification: pushedNotification.typeNotification,\r\n        });\r\n\r\n        this._unReadNotification = this._allNotifications.filter((n: INotificationEntry) => !n.viewed);\r\n      });\r\n    }\r\n  }\r\n\r\n  public ngAfterViewInit(): void {\r\n    if (this.searchInput !== undefined) {\r\n      const inputStream: any = fromEvent(this.searchInput.nativeElement, 'keyup').pipe(\r\n        debounceTime(1),\r\n        distinctUntilChanged(),\r\n      );\r\n\r\n      inputStream.subscribe((event: any) => {\r\n        // console.log('print event key:', event);\r\n        const listResultLength: number = this.getListResult().length;\r\n        if (event.code === 'Enter' && event.target.value && event.target.value !== '') {\r\n          this._resultSearchList = [];\r\n          this._openSearchList = true;\r\n          this._openWaiting = true;\r\n          if (this._activeSearchResult) {\r\n            this.onClickResultItem(this._activeSearchResult);\r\n            this._activeSearchResult = undefined;\r\n            return;\r\n          }\r\n\r\n          for (const subscription of this._subscriptionList) {\r\n            const localSub: any = subscription.executeService(event.target.value).subscribe(\r\n              (result: any) => {\r\n                this._resultSearchList = this._resultSearchList.concat(result);\r\n                this._noContainsData = this._resultSearchList.length === 0;\r\n                this._openWaiting = this._noContainsData;\r\n                this._currentIndexSearchList = -1;\r\n                this._activeSearchResult = undefined;\r\n              },\r\n              (error: any) => {\r\n                this._noContainsData = true;\r\n                console.warn(error);\r\n                localSub.unsubscribe();\r\n              },\r\n            );\r\n          }\r\n        } else if (event.code === 'ArrowDown' && this._resultSearchList.length > 0) {\r\n          this._currentIndexSearchList++;\r\n          this._currentIndexSearchList =\r\n            this._currentIndexSearchList >= listResultLength ? 0 : this._currentIndexSearchList;\r\n          this._activeSearchResult = this._resultSearchList[this._currentIndexSearchList];\r\n        } else if (event.code === 'ArrowUp' && this._resultSearchList.length > 0) {\r\n          this._currentIndexSearchList--;\r\n          this._currentIndexSearchList =\r\n            this._currentIndexSearchList < 0 ? listResultLength - 1 : this._currentIndexSearchList;\r\n          this._activeSearchResult = this._resultSearchList[this._currentIndexSearchList];\r\n        } else if (event.code === 'Escape') {\r\n          this._searchValue = '';\r\n          this._openSearchList = false;\r\n          this._resultSearchList = [];\r\n        } else {\r\n          this._activeSearchResult = undefined;\r\n          this._resultSearchList = [];\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.notificationService && changes.notificationService.currentValue) {\r\n      this._notificationSubscription = this._notificationService\r\n        .executeNotificationService()\r\n        .subscribe((notificationsDict: any) => {\r\n          // just comment it should clean _allNotifications in every call\r\n          this._allNotifications = [];\r\n          const tmpKeys: string[] = Object.keys(notificationsDict);\r\n          const notificationKeys: string[] = tmpKeys.sort();\r\n\r\n          for (const notificationType of notificationKeys) {\r\n            this._allNotifications = this._allNotifications.concat(notificationsDict[notificationType]);\r\n            const rawNotifications: any[] = [];\r\n            for (const notification of notificationsDict[notificationType]) {\r\n              rawNotifications.push(notification.notificationData);\r\n            }\r\n\r\n            this._notificationService.notificationSubscription.next({\r\n              notifications: rawNotifications,\r\n              typeNotification: Number(notificationType),\r\n            });\r\n          }\r\n          this._unReadNotification = this._allNotifications.filter(\r\n            (notification: INotificationEntry) => !notification.viewed,\r\n          );\r\n        });\r\n    }\r\n\r\n    this._showIconNotification = this._notificationService !== null;\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    this._translationSuscriber.unsubscribe();\r\n  }\r\n\r\n  public setUserInfo(): void {\r\n    if (this.sessionService.userProfile && this.sessionService.userProfile !== undefined) {\r\n      this._userProfile = this.sessionService.userProfile;\r\n      const firstName: any =\r\n        this._userProfile.firstName === 'undefined' || this._userProfile.firstName.trim() === null\r\n          ? ''\r\n          : this._userProfile.firstName.substring(0, 1);\r\n      const lastName: any =\r\n        typeof this._userProfile.lastName === 'undefined' || this._userProfile.lastName.trim() === null\r\n          ? ''\r\n          : this._userProfile.lastName.substring(0, 1);\r\n      this._userInitials = firstName + lastName;\r\n    }\r\n  }\r\n\r\n  public showProfile(): void {\r\n    this._clickProfileIcon = true;\r\n    this._showUserProfile = !this._showUserProfile;\r\n  }\r\n\r\n  public setLanguages(): void {\r\n    this._translationSuscriber = this._translation.getLanguages().subscribe(\r\n      (languages: any) => {\r\n        // tslint:disable-next-line:no-console\r\n        console.debug('New languages:', languages);\r\n        this._languages = languages;\r\n      },\r\n      (error: any) => {\r\n        console.warn('Error at setting languages:', error);\r\n      },\r\n    );\r\n  }\r\n\r\n  public openCountrySupportContactModal(): void {\r\n    this.countrySupportContactModal.open();\r\n    this._showUserProfile = !this._showUserProfile;\r\n  }\r\n\r\n  public onClickSearch(): void {\r\n    this._openInput = true;\r\n    if (this.searchInput) {\r\n      this.renderer.invokeElementMethod(this.searchInput.nativeElement, 'focus', []);\r\n    }\r\n  }\r\n\r\n  public onClickCancelSearch(): void {\r\n    this._openInput = false;\r\n    this._searchValue = '';\r\n    this._openSearchList = false;\r\n  }\r\n\r\n  public gotoHome(): void {\r\n    window.location.href = '/';\r\n  }\r\n\r\n  public goToSettings(): void {\r\n    const path: string = this.customPathSettings && this.useInternalSettings ? this.customPathSettings : '/settings';\r\n    if (this.useInternalSettings) {\r\n      this._showUserProfile = false;\r\n      this.router.navigate([path]);\r\n    } else {\r\n      window.location.href = path;\r\n    }\r\n  }\r\n\r\n  public createCookie(name: string, value: string, days?: number): void {\r\n    let expires: any = '';\r\n    if (days) {\r\n      const date: Date = new Date();\r\n      date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\r\n      expires = date.toUTCString();\r\n    } else {\r\n      days = 0;\r\n    }\r\n    const domain: string = (window as any).SITE_DOMAIN || '';\r\n    const cookie = `${name}=${value};expires=${expires};domain=${domain || ''};path=/`;\r\n    document.cookie = cookie;\r\n  }\r\n\r\n  public isBlueGreen(): boolean {\r\n    return this.getCookie(this._blueGreenCookieName) === this._blueGreenCookieValue ? true : false;\r\n  }\r\n\r\n  public toggleAppNavigation(): void {\r\n    this._clickAppsIcon = true;\r\n    this.showAppNavigation = !this.showAppNavigation;\r\n  }\r\n\r\n  public clickAppNavigationOutside(event: any): void {\r\n    if (!this._clickAppsIcon) {\r\n      this.showAppNavigation = false;\r\n    }\r\n    this._clickAppsIcon = false;\r\n  }\r\n\r\n  public clickOutside(event: any): void {\r\n    if (!this._clickProfileIcon) {\r\n      this._showUserProfile = false;\r\n    }\r\n    this._clickProfileIcon = false;\r\n  }\r\n\r\n  public showNotifications(): void {\r\n    this._clickNotificationIcon = true;\r\n    if (this._allNotifications.length > 0) {\r\n      this._showNotifications = !this._showNotifications;\r\n    }\r\n  }\r\n\r\n  public clickNotificationOutSide(event: any): void {\r\n    if (!this._clickNotificationIcon) {\r\n      this._showNotifications = false;\r\n    }\r\n\r\n    this._clickNotificationIcon = false;\r\n  }\r\n\r\n  public logout(): void {\r\n    if (this._notificationSubscription) {\r\n      this._notificationSubscription.unsubscribe();\r\n    }\r\n    this.createCookie('up_session', '', -1);\r\n    this.sessionService.logout().subscribe((result: any) => {\r\n      if (!result.success) {\r\n        console.error('An error ocurred before logout:', result.message);\r\n      }\r\n      window.location.href = '/';\r\n    });\r\n  }\r\n\r\n  public goToProfile(): void {\r\n    if (!this.disabledProfile) {\r\n      window.location.href = '/profile';\r\n    }\r\n  }\r\n\r\n  public selectLang(language: IUserLanguage): void {\r\n    // fix for DCM021CX0118-4041\r\n    sessionStorage.setItem('language', language.languageISO);\r\n\r\n    this._translation.setLanguage(language.languageISO);\r\n    this.onLanguageChange.emit();\r\n    this._showUserProfile = false;\r\n    this.eventBroadcaster.broadcast(Broadcaster.DCM_LANGUAGE_CHANGE, language.languageISO);\r\n  }\r\n\r\n  public callNotificationAction(notification: INotificationEntry): void {\r\n    notification.viewed = true;\r\n    this._notificationService\r\n      .updateNotification([notification.notificationData], notification.typeNotification)\r\n      .subscribe();\r\n    if (this.closeNotificationsOnCLick) {\r\n      this._showNotifications = false;\r\n    }\r\n    this.notificationAction.emit(notification);\r\n  }\r\n  public onAllNotification(): void {\r\n    if (this.closeNotificationsOnCLick) {\r\n      this._showNotifications = false;\r\n    }\r\n    this.showAllNotifications.emit(this._allNotifications);\r\n  }\r\n\r\n  public getIconNotification(notification: INotificationEntry): string {\r\n    const result: any =\r\n      notification.notificationIcon === undefined ? 'icon-warning-red' : notification.notificationIcon;\r\n    return !notification.viewed ? result : 'icon-no-fill';\r\n  }\r\n\r\n  private getCookie(name: string): string {\r\n    const match: RegExpMatchArray = document.cookie.match(new RegExp(`(^| )${name}=([^;]+)`)) || [];\r\n    return match[2] ? match[2] : '';\r\n  }\r\n\r\n  private goHome(): void {\r\n    window.location.href = '/';\r\n  }\r\n\r\n  private getListResult(): ISearchHeaderResult[] {\r\n    return this._resultSearchList.length > 2 ? this._resultSearchList.slice(0, 2) : this._resultSearchList;\r\n  }\r\n\r\n  private onClickResultItem(item: ISearchHeaderResult): void {\r\n    this.onSelectItemSearchEvent.emit(item);\r\n    this._openSearchList = false;\r\n  }\r\n\r\n  private onClickViewAll(): void {\r\n    this.onViewAllResultEvent.emit(this._resultSearchList);\r\n    this._openSearchList = false;\r\n  }\r\n\r\n  private getMessageResult(noContainsData: boolean): string {\r\n    return noContainsData ? 'Data not found' : 'Searching Data...';\r\n  }\r\n\r\n  private compareNotificationFn(notif1: INotificationEntry, notif2: INotificationEntry): number {\r\n    if (notif1.notificationDate === notif2.notificationDate) {\r\n      return 0;\r\n    } else if (notif1.notificationDate > notif2.notificationDate) {\r\n      return 1;\r\n    } else {\r\n      return -1;\r\n    }\r\n  }\r\n\r\n  private getConfigCountry(): void {\r\n    this.countryConfigService.countryConfig.subscribe(\r\n      (configCountry: ICountryConfig) => {\r\n        if (configCountry !== null) {\r\n          this._countryConfig = configCountry;\r\n          if (this._countryConfig.email && Boolean(this._countryConfig.email)) {\r\n            const emailsArr: any = this._countryConfig.email.split(',');\r\n            this.emails = emailsArr;\r\n          }\r\n\r\n          if (this._countryConfig.phoneNumber && Boolean(this._countryConfig.phoneNumber)) {\r\n            const phonesArr: any = this._countryConfig.phoneNumber.split(',');\r\n            this.phones = phonesArr;\r\n          }\r\n\r\n          if (!Boolean(this._countryConfig.email) && !Boolean(this._countryConfig.phoneNumber)) {\r\n            this.showCountrySupportContact = false;\r\n          }\r\n        } else {\r\n          console.warn(`Unable to retrieve country information for ${sessionStorage.getItem('country')}`);\r\n        }\r\n      },\r\n      (error: any) => {\r\n        console.error(`Unable to retrieve country information for ${sessionStorage.getItem('country')}`, error);\r\n      },\r\n    );\r\n  }\r\n}\r\n","import { Directive, ElementRef, EventEmitter, HostListener, Output } from '@angular/core';\r\n\r\n// tslint:disable-next-line:directive-selector\r\n@Directive({ selector: '[clickOutside]' })\r\nexport class ClickOutsideDirective {\r\n  @Output()\r\n  public clickOutside: any = new EventEmitter();\r\n\r\n  constructor(private _elementRef: ElementRef) {}\r\n\r\n  @HostListener('document:click', ['$event.target'])\r\n  public onClick(targetElement: any): void {\r\n    const clickedInside: boolean = this._elementRef.nativeElement.contains(targetElement);\r\n    if (!clickedInside) {\r\n      this.clickOutside.emit();\r\n    }\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { CmxNavHeaderComponent } from './cmx-nav-header.component';\r\nimport { ClickOutsideDirective } from './click-outside.directive';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { CmxDialogModule } from '@cemex/cmx-dialog-v7';\r\nimport { CmxButtonModule } from '@cemex/cmx-button-v4';\r\n\r\n@NgModule({\r\n  declarations: [CmxNavHeaderComponent, ClickOutsideDirective],\r\n  exports: [CmxNavHeaderComponent],\r\n  imports: [FlexLayoutModule, FormsModule, ReactiveFormsModule, CommonModule, CmxDialogModule, CmxButtonModule],\r\n})\r\nexport class CmxNavHeaderModule {}\r\n"],"names":[],"mappings":"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"}
