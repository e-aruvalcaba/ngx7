{"version":3,"sources":["node_modules/tslib/tslib.es6.js","ng://@cemex/cmx-nav-header-v7/lib/cmx-nav-header.component.ts","ng://@cemex/cmx-nav-header-v7/lib/click-outside.directive.ts","ng://@cemex/cmx-nav-header-v7/lib/cmx-nav-header.module.ts","ng://@cemex/cmx-nav-header-v7/lib/constants/cmx-nav-header.constant.ts"],"names":["__values","o","m","Symbol","iterator","i","call","next","length","value","done","Object","defineProperty","CmxNavHeaderComponent","prototype","_this","this","_allNotifications","sort","notif1","notif2","typeNotification","viewed","compareNotificationFn","slice","tmp","_languages","filter","lang","isSelected","undefined","_activeSearch","_subscriptionList","_notificationService","setAppNavigation","developerPortalUrl","sanitizer","bypassSecurityTrustUrl","setFeedback","userCountry","sessionStorage","logo","_userProfile","customerId","window","location","hostname","includes","_formLangUrl","bypassSecurityTrustResourceUrl","ngOnInit","eventBroadcaster","on","Broadcaster","DCM_LANGUAGE_CHANGE","subscribe","showCountrySupportContact","getConfigCountry","_enableNotifications","navigator","serviceWorker","addEventListener","event","notification","data","pushedNotification","mapNotification","_notifications","_allNotificationDict","push","notificationSubscription","notifications","_unReadNotification","n","ngAfterViewInit","searchInput","fromEvent","nativeElement","pipe","debounceTime","distinctUntilChanged","listResultLength","getListResult","code","target","_resultSearchList","_openSearchList","_openWaiting","_activeSearchResult","onClickResultItem","subscription","localSub","executeService","result","concat","_noContainsData","_currentIndexSearchList","error","console","warn","unsubscribe","_b","tslib_1.__values","_c","_searchValue","ngOnChanges","changes","notificationService","currentValue","_notificationSubscription","executeNotificationService","notificationsDict","notificationKeys","keys","notificationKeys_1","notificationKeys_1_1","notificationType","rawNotifications","_d","notificationData","Number","_showIconNotification","ngOnDestroy","_translationSuscriber","setUserInfo","sessionService","userProfile","firstName","trim","substring","lastName","_userInitials","showProfile","_clickProfileIcon","_showUserProfile","setLanguages","_translation","getLanguages","languages","debug","openCountrySupportContactModal","countrySupportContactModal","open","onClickSearch","_openInput","renderer","invokeElementMethod","onClickCancelSearch","gotoHome","href","goToSettings","path","customPathSettings","useInternalSettings","router","navigate","createCookie","name","days","expires","date","Date","setTime","getTime","toUTCString","cookie","SITE_DOMAIN","document","isBlueGreen","getCookie","_blueGreenCookieName","_blueGreenCookieValue","toggleAppNavigation","_clickAppsIcon","showAppNavigation","clickAppNavigationOutside","clickOutside","showNotifications","_clickNotificationIcon","_showNotifications","clickNotificationOutSide","logout","success","message","goToProfile","disabledProfile","selectLang","language","setItem","languageISO","setLanguage","onLanguageChange","emit","broadcast","callNotificationAction","updateNotification","closeNotificationsOnCLick","notificationAction","onAllNotification","showAllNotifications","getIconNotification","notificationIcon","match","RegExp","goHome","item","onSelectItemSearchEvent","onClickViewAll","onViewAllResultEvent","getMessageResult","noContainsData","notificationDate","countryConfigService","countryConfig","configCountry","_countryConfig","email","Boolean","emailsArr","split","emails","phoneNumber","phonesArr","phones","getItem","USE_TRANSLATION_SERVER","Component","args","selector","template","SessionService","TranslationService","CountryConfigService","Renderer","Http","Router","DomSanitizer","Optional","type","Inject","ViewChild","Output","Input","http","isRTL","clickMenuButton","EventEmitter","onLogout","rtl","useLanguageSelector","_showLangList","_currentLang","_defaultRoute","_profileRoute","_useTranslationServer","_allRawNotifications","ClickOutsideDirective","onClick","targetElement","_elementRef","contains","Directive","ElementRef","HostListener","CmxNavHeaderModule","NgModule","declarations","exports","imports","FlexLayoutModule","FormsModule","ReactiveFormsModule","CommonModule","CmxDialogModule","CmxButtonModule"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { DOCUMENT, SafeResourceUrl, DomSanitizer } from '@angular/platform-browser';\r\nimport {\r\n  AfterViewInit,\r\n  Component,\r\n  Directive,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostListener,\r\n  Inject,\r\n  Input,\r\n  OnInit,\r\n  Output,\r\n  ViewChild,\r\n  Renderer,\r\n  Optional,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  OnDestroy,\r\n} from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { CmxDialogComponent } from '@cemex/cmx-dialog-v7';\r\nimport { SessionService, CountryConfigService } from '@cemex-core/angular-services-v7';\r\nimport { TranslationService } from '@cemex-core/angular-localization-v7';\r\nimport { IUserProfile } from '@cemex-core/types-v2/dist/index.interface';\r\nimport { Broadcaster } from '@cemex-core/events-v7';\r\nimport { Observable, Subscription, fromEvent } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, timeout } from 'rxjs/operators';\r\nimport { Headers, Http, RequestOptions, Response } from '@angular/http';\r\nimport {\r\n  ISearchHeaderResult,\r\n  ISearchHeaderService,\r\n  INotificationEntry,\r\n  INotificationService,\r\n  INotificationDict,\r\n} from './interfaces';\r\nimport { ICountryConfig } from '@cemex-core/types-v2/dist';\r\nimport { HEADER_NOTIFICATION_UPDATE, HEADER_NOTIFICATION_PUSH } from './constants';\r\n\r\nexport interface IUserLanguage {\r\n  languageId: string;\r\n  languageISO: string;\r\n  isSelected: boolean;\r\n  displayName: string;\r\n  dummyLang?: boolean;\r\n}\r\n\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'cmx-nav-header',\r\n  styleUrls: ['./../../../../../../../scssv4/cmx-components/cmx-nav-header/v4/cmx-nav-header.component.scss'],\r\n  templateUrl: './cmx-nav-header.component.html',\r\n})\r\nexport class CmxNavHeaderComponent implements AfterViewInit, OnDestroy, OnChanges, OnInit {\r\n  public static USE_TRANSLATION_SERVER = 'USE_TRANSLATION_SERVER';\r\n  public _enableNotifications: boolean;\r\n  public _countryConfig: ICountryConfig;\r\n\r\n  @ViewChild('countrySupportContactModal') public countrySupportContactModal: CmxDialogComponent;\r\n\r\n  @Output()\r\n  public clickMenuButton: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  // tslint:disable:no-output-on-prefix\r\n  @Output()\r\n  public onSelectItemSearchEvent: EventEmitter<ISearchHeaderResult> = new EventEmitter<ISearchHeaderResult>();\r\n\r\n  @Output()\r\n  public onViewAllResultEvent: EventEmitter<ISearchHeaderResult[]> = new EventEmitter<ISearchHeaderResult[]>();\r\n  /**\r\n   * @deprecated Subscribe to Broadcaster's DCM_APP_LOGOUT event instead\r\n   */\r\n  @Output()\r\n  public onLogout: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  @Output()\r\n  public onLanguageChange: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  @Input() public rtl = false;\r\n\r\n  @Input() public useLanguageSelector = false;\r\n\r\n  @Input() public showCountrySupportContact = true;\r\n\r\n  @Input() public useInternalSettings = false;\r\n\r\n  @Input() public closeNotificationsOnCLick = false;\r\n\r\n  @Input() public customPathSettings: string;\r\n\r\n  @Input() public disabledProfile = false;\r\n\r\n  @ViewChild('feedbackDialog')\r\n  public feedbackDialog: CmxDialogComponent;\r\n\r\n  public get _notificationsToShow(): INotificationEntry[] {\r\n    const result: any = this._allNotifications.sort((notif1: INotificationEntry, notif2: INotificationEntry) => {\r\n      if (notif1.typeNotification === notif2.typeNotification) {\r\n        if (notif1.viewed === notif2.viewed) {\r\n          return this.compareNotificationFn(notif1, notif2);\r\n        } else {\r\n          return notif1.viewed ? 1 : -1;\r\n        }\r\n      } else {\r\n        return notif1.typeNotification > notif2.typeNotification ? 1 : -1;\r\n      }\r\n    });\r\n    return result.slice(0, 3);\r\n  }\r\n\r\n  public developerPortalUrl: SafeResourceUrl;\r\n  public _formLangUrl: SafeResourceUrl;\r\n  public logo: string;\r\n  public userCountry: string;\r\n  public emails: any[] = [];\r\n  public phones: any[] = [];\r\n  public _userProfile: IUserProfile;\r\n  public showAppNavigation = false;\r\n  public _userInitials = '';\r\n  public _showUserProfile = false;\r\n  public _showLangList = false;\r\n  public _languages: IUserLanguage[] = [];\r\n  public _showNotifications = false;\r\n  public _allNotifications: INotificationEntry[] = [];\r\n  public _unReadNotification: INotificationEntry[] = [];\r\n  private _openInput = false;\r\n  private _searchValue: string;\r\n  private _currentLang = '';\r\n  private _defaultRoute = '/login';\r\n  private _profileRoute = '/profile';\r\n  private _blueGreenCookieName = 'testingmode';\r\n  private _blueGreenCookieValue = 'all';\r\n  private _activeSearch = false;\r\n  private _openSearchList = false;\r\n  private _subscriptionList: ISearchHeaderService[];\r\n  private _resultSearchList: ISearchHeaderResult[] = [];\r\n  private _openWaiting = false;\r\n  private _noContainsData = false;\r\n  private _currentIndexSearchList = -1;\r\n  private _activeSearchResult: ISearchHeaderResult | undefined;\r\n  private _clickProfileIcon = false;\r\n  private _useTranslationServer = false;\r\n  private _showIconNotification = false;\r\n  private _clickNotificationIcon = false;\r\n  private _allNotificationDict: INotificationDict = {};\r\n  private _allRawNotifications: any[] = [];\r\n  private _notificationSubscription: Subscription;\r\n  private _notificationService: INotificationService;\r\n  private _translationSuscriber: Subscription;\r\n  private _clickAppsIcon = false;\r\n\r\n  get language(): IUserLanguage | any {\r\n    const tmp: IUserLanguage[] = this._languages.filter((lang: any) => lang.isSelected);\r\n    return tmp.length > 0 ? tmp[0] : undefined;\r\n  }\r\n\r\n  @Input()\r\n  set activeSearch(value: boolean) {\r\n    this._activeSearch = value;\r\n  }\r\n\r\n  @Input()\r\n  set searchServiceList(value: ISearchHeaderService[]) {\r\n    this._subscriptionList = value;\r\n  }\r\n\r\n  @Input()\r\n  set notificationService(value: INotificationService) {\r\n    this._notificationService = value;\r\n  }\r\n\r\n  @Output()\r\n  private notificationAction: EventEmitter<INotificationEntry> = new EventEmitter<INotificationEntry>();\r\n\r\n  @ViewChild('searchInput')\r\n  private searchInput: ElementRef;\r\n\r\n  @Output()\r\n  private showAllNotifications: EventEmitter<INotificationEntry[]> = new EventEmitter<INotificationEntry[]>();\r\n\r\n  constructor(\r\n    private sessionService: SessionService,\r\n    public _translation: TranslationService,\r\n    private eventBroadcaster: Broadcaster,\r\n    private countryConfigService: CountryConfigService,\r\n    public renderer: Renderer,\r\n    public http: Http,\r\n    public router: Router,\r\n    private sanitizer: DomSanitizer,\r\n    @Optional() @Inject('RTL') isRTL: boolean,\r\n  ) {\r\n    if (isRTL !== undefined) {\r\n      this.rtl = isRTL;\r\n    }\r\n    this.setUserInfo();\r\n    this.setLanguages();\r\n\r\n    this.setFeedback();\r\n    this.setAppNavigation();\r\n  }\r\n\r\n  public setAppNavigation(): void {\r\n    this.developerPortalUrl = this.sanitizer.bypassSecurityTrustUrl('https://developers.cemexgo.com/');\r\n  }\r\n\r\n  public setFeedback(): void {\r\n    const country = 'country';\r\n    this.userCountry = sessionStorage[country];\r\n    this.logo = this.userCountry === 'IL' ? 'readymix.co.il.white.svg' : 'cemex_mono_white.svg';\r\n    this.logo =\r\n      this._userProfile.customerId === 3025 &&\r\n      this.userCountry === 'MX' &&\r\n      (window.location.hostname.includes('dev2') || window.location.hostname.includes('demo'))\r\n        ? 'neoris-logo.svg'\r\n        : this.logo;\r\n    if (this.userCountry === undefined) {\r\n      return;\r\n    }\r\n    switch (this.userCountry) {\r\n      case 'CO':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-colombia.ideas.aha.io');\r\n        break;\r\n      case 'CR':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n          'https://cxgofeedback-costarica.ideas.aha.io',\r\n        );\r\n        break;\r\n      case 'CZ':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n          'https://cxgofeedback-czechrepublic.ideas.aha.io',\r\n        );\r\n        break;\r\n      case 'EG':\r\n        /* keeping formLangUrl as undefined so is not displayed on DOM.\r\n                  this._formLangUrl =\r\n                        this.sanitizer.bypassSecurityTrustResourceUrl(\"https://cxgofeedback-egypt.ideas.aha.io\"); */\r\n        break;\r\n      case 'SV':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n          'https://cxgofeedback-elsalvador.ideas.aha.io',\r\n        );\r\n        break;\r\n      case 'DE':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-germany.ideas.aha.io');\r\n        break;\r\n      case 'GT':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n          'https://cxgofeedback-guatemala.ideas.aha.io',\r\n        );\r\n        break;\r\n      case 'IL':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-israel.ideas.aha.io');\r\n        break;\r\n      case 'LV':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-latvia.ideas.aha.io');\r\n        break;\r\n      case 'MX':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-mexico.ideas.aha.io');\r\n        break;\r\n      case 'NI':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n          'https://cxgofeedback-nicaragua.ideas.aha.io',\r\n        );\r\n        break;\r\n      case 'PA':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-panama.ideas.aha.io');\r\n        break;\r\n      case 'PE':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-peru.ideas.aha.io');\r\n        break;\r\n      case 'PH':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n          'https://cxgofeedback-philippines.ideas.aha.io',\r\n        );\r\n        break;\r\n      case 'PL':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-poland.ideas.aha.io');\r\n        break;\r\n      case 'PR':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n          'https://cxgofeedback-puertorico.ideas.aha.io',\r\n        );\r\n        break;\r\n      case 'DO':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n          'https://cxgofeedback-republicadominicana.ideas.aha.io',\r\n        );\r\n        break;\r\n      case 'GB':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-uk.ideas.aha.io');\r\n        break;\r\n      case 'US':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-usa.ideas.aha.io');\r\n        break;\r\n      case 'FR':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-france.ideas.aha.io');\r\n        break;\r\n      case 'ES':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-spain.ideas.aha.io');\r\n        break;\r\n      case 'AE':\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-uae.ideas.aha.io');\r\n        break;\r\n      default:\r\n        this._formLangUrl = this.sanitizer.bypassSecurityTrustResourceUrl('https://cxgofeedback-usa.ideas.aha.io');\r\n        break;\r\n    }\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.eventBroadcaster.on<string>(Broadcaster.DCM_LANGUAGE_CHANGE).subscribe(() => {\r\n      this.setFeedback();\r\n    });\r\n\r\n    if (this.showCountrySupportContact) {\r\n      this.getConfigCountry();\r\n    }\r\n\r\n    this._enableNotifications = this._notificationService && 'serviceWorker' in navigator;\r\n\r\n    if (this._enableNotifications) {\r\n      navigator.serviceWorker.addEventListener('message', (event: any) => {\r\n        const notification: any = event.data;\r\n        // convert raw notification into a INotificationEntry to know its type notification\r\n        const pushedNotification: any = this._notificationService.mapNotification(notification);\r\n        // get list of notifications by type notification\r\n        const _notifications: any = this._allNotificationDict[pushedNotification.typeNotification];\r\n        // add push notification to list of notifications\r\n        this._allNotifications.push(pushedNotification);\r\n        _notifications.push(pushedNotification);\r\n        // notify new push notification to the INotificationService\r\n        this._notificationService.notificationSubscription.next({\r\n          notifications: _notifications,\r\n          typeNotification: pushedNotification.typeNotification,\r\n        });\r\n        // this subscription is used when service worker get a new notification\r\n        this._notificationService.pushedNotification.next({\r\n          notifications: [notification],\r\n          typeNotification: pushedNotification.typeNotification,\r\n        });\r\n\r\n        this._unReadNotification = this._allNotifications.filter((n: INotificationEntry) => !n.viewed);\r\n      });\r\n    }\r\n  }\r\n\r\n  public ngAfterViewInit(): void {\r\n    if (this.searchInput !== undefined) {\r\n      const inputStream: any = fromEvent(this.searchInput.nativeElement, 'keyup').pipe(\r\n        debounceTime(1),\r\n        distinctUntilChanged(),\r\n      );\r\n\r\n      inputStream.subscribe((event: any) => {\r\n        // console.log('print event key:', event);\r\n        const listResultLength: number = this.getListResult().length;\r\n        if (event.code === 'Enter' && event.target.value && event.target.value !== '') {\r\n          this._resultSearchList = [];\r\n          this._openSearchList = true;\r\n          this._openWaiting = true;\r\n          if (this._activeSearchResult) {\r\n            this.onClickResultItem(this._activeSearchResult);\r\n            this._activeSearchResult = undefined;\r\n            return;\r\n          }\r\n\r\n          for (const subscription of this._subscriptionList) {\r\n            const localSub: any = subscription.executeService(event.target.value).subscribe(\r\n              (result: any) => {\r\n                this._resultSearchList = this._resultSearchList.concat(result);\r\n                this._noContainsData = this._resultSearchList.length === 0;\r\n                this._openWaiting = this._noContainsData;\r\n                this._currentIndexSearchList = -1;\r\n                this._activeSearchResult = undefined;\r\n              },\r\n              (error: any) => {\r\n                this._noContainsData = true;\r\n                console.warn(error);\r\n                localSub.unsubscribe();\r\n              },\r\n            );\r\n          }\r\n        } else if (event.code === 'ArrowDown' && this._resultSearchList.length > 0) {\r\n          this._currentIndexSearchList++;\r\n          this._currentIndexSearchList =\r\n            this._currentIndexSearchList >= listResultLength ? 0 : this._currentIndexSearchList;\r\n          this._activeSearchResult = this._resultSearchList[this._currentIndexSearchList];\r\n        } else if (event.code === 'ArrowUp' && this._resultSearchList.length > 0) {\r\n          this._currentIndexSearchList--;\r\n          this._currentIndexSearchList =\r\n            this._currentIndexSearchList < 0 ? listResultLength - 1 : this._currentIndexSearchList;\r\n          this._activeSearchResult = this._resultSearchList[this._currentIndexSearchList];\r\n        } else if (event.code === 'Escape') {\r\n          this._searchValue = '';\r\n          this._openSearchList = false;\r\n          this._resultSearchList = [];\r\n        } else {\r\n          this._activeSearchResult = undefined;\r\n          this._resultSearchList = [];\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.notificationService && changes.notificationService.currentValue) {\r\n      this._notificationSubscription = this._notificationService\r\n        .executeNotificationService()\r\n        .subscribe((notificationsDict: any) => {\r\n          // just comment it should clean _allNotifications in every call\r\n          this._allNotifications = [];\r\n          const tmpKeys: string[] = Object.keys(notificationsDict);\r\n          const notificationKeys: string[] = tmpKeys.sort();\r\n\r\n          for (const notificationType of notificationKeys) {\r\n            this._allNotifications = this._allNotifications.concat(notificationsDict[notificationType]);\r\n            const rawNotifications: any[] = [];\r\n            for (const notification of notificationsDict[notificationType]) {\r\n              rawNotifications.push(notification.notificationData);\r\n            }\r\n\r\n            this._notificationService.notificationSubscription.next({\r\n              notifications: rawNotifications,\r\n              typeNotification: Number(notificationType),\r\n            });\r\n          }\r\n          this._unReadNotification = this._allNotifications.filter(\r\n            (notification: INotificationEntry) => !notification.viewed,\r\n          );\r\n        });\r\n    }\r\n\r\n    this._showIconNotification = this._notificationService !== null;\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    this._translationSuscriber.unsubscribe();\r\n  }\r\n\r\n  public setUserInfo(): void {\r\n    if (this.sessionService.userProfile && this.sessionService.userProfile !== undefined) {\r\n      this._userProfile = this.sessionService.userProfile;\r\n      const firstName: any =\r\n        this._userProfile.firstName === 'undefined' || this._userProfile.firstName.trim() === null\r\n          ? ''\r\n          : this._userProfile.firstName.substring(0, 1);\r\n      const lastName: any =\r\n        typeof this._userProfile.lastName === 'undefined' || this._userProfile.lastName.trim() === null\r\n          ? ''\r\n          : this._userProfile.lastName.substring(0, 1);\r\n      this._userInitials = firstName + lastName;\r\n    }\r\n  }\r\n\r\n  public showProfile(): void {\r\n    this._clickProfileIcon = true;\r\n    this._showUserProfile = !this._showUserProfile;\r\n  }\r\n\r\n  public setLanguages(): void {\r\n    this._translationSuscriber = this._translation.getLanguages().subscribe(\r\n      (languages: any) => {\r\n        // tslint:disable-next-line:no-console\r\n        console.debug('New languages:', languages);\r\n        this._languages = languages;\r\n      },\r\n      (error: any) => {\r\n        console.warn('Error at setting languages:', error);\r\n      },\r\n    );\r\n  }\r\n\r\n  public openCountrySupportContactModal(): void {\r\n    this.countrySupportContactModal.open();\r\n    this._showUserProfile = !this._showUserProfile;\r\n  }\r\n\r\n  public onClickSearch(): void {\r\n    this._openInput = true;\r\n    if (this.searchInput) {\r\n      this.renderer.invokeElementMethod(this.searchInput.nativeElement, 'focus', []);\r\n    }\r\n  }\r\n\r\n  public onClickCancelSearch(): void {\r\n    this._openInput = false;\r\n    this._searchValue = '';\r\n    this._openSearchList = false;\r\n  }\r\n\r\n  public gotoHome(): void {\r\n    window.location.href = '/';\r\n  }\r\n\r\n  public goToSettings(): void {\r\n    const path: string = this.customPathSettings && this.useInternalSettings ? this.customPathSettings : '/settings';\r\n    if (this.useInternalSettings) {\r\n      this._showUserProfile = false;\r\n      this.router.navigate([path]);\r\n    } else {\r\n      window.location.href = path;\r\n    }\r\n  }\r\n\r\n  public createCookie(name: string, value: string, days?: number): void {\r\n    let expires: any = '';\r\n    if (days) {\r\n      const date: Date = new Date();\r\n      date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\r\n      expires = date.toUTCString();\r\n    } else {\r\n      days = 0;\r\n    }\r\n    const domain: string = (window as any).SITE_DOMAIN || '';\r\n    const cookie = `${name}=${value};expires=${expires};domain=${domain || ''};path=/`;\r\n    document.cookie = cookie;\r\n  }\r\n\r\n  public isBlueGreen(): boolean {\r\n    return this.getCookie(this._blueGreenCookieName) === this._blueGreenCookieValue ? true : false;\r\n  }\r\n\r\n  public toggleAppNavigation(): void {\r\n    this._clickAppsIcon = true;\r\n    this.showAppNavigation = !this.showAppNavigation;\r\n  }\r\n\r\n  public clickAppNavigationOutside(event: any): void {\r\n    if (!this._clickAppsIcon) {\r\n      this.showAppNavigation = false;\r\n    }\r\n    this._clickAppsIcon = false;\r\n  }\r\n\r\n  public clickOutside(event: any): void {\r\n    if (!this._clickProfileIcon) {\r\n      this._showUserProfile = false;\r\n    }\r\n    this._clickProfileIcon = false;\r\n  }\r\n\r\n  public showNotifications(): void {\r\n    this._clickNotificationIcon = true;\r\n    if (this._allNotifications.length > 0) {\r\n      this._showNotifications = !this._showNotifications;\r\n    }\r\n  }\r\n\r\n  public clickNotificationOutSide(event: any): void {\r\n    if (!this._clickNotificationIcon) {\r\n      this._showNotifications = false;\r\n    }\r\n\r\n    this._clickNotificationIcon = false;\r\n  }\r\n\r\n  public logout(): void {\r\n    if (this._notificationSubscription) {\r\n      this._notificationSubscription.unsubscribe();\r\n    }\r\n    this.createCookie('up_session', '', -1);\r\n    this.sessionService.logout().subscribe((result: any) => {\r\n      if (!result.success) {\r\n        console.error('An error ocurred before logout:', result.message);\r\n      }\r\n      window.location.href = '/';\r\n    });\r\n  }\r\n\r\n  public goToProfile(): void {\r\n    if (!this.disabledProfile) {\r\n      window.location.href = '/profile';\r\n    }\r\n  }\r\n\r\n  public selectLang(language: IUserLanguage): void {\r\n    // fix for DCM021CX0118-4041\r\n    sessionStorage.setItem('language', language.languageISO);\r\n\r\n    this._translation.setLanguage(language.languageISO);\r\n    this.onLanguageChange.emit();\r\n    this._showUserProfile = false;\r\n    this.eventBroadcaster.broadcast(Broadcaster.DCM_LANGUAGE_CHANGE, language.languageISO);\r\n  }\r\n\r\n  public callNotificationAction(notification: INotificationEntry): void {\r\n    notification.viewed = true;\r\n    this._notificationService\r\n      .updateNotification([notification.notificationData], notification.typeNotification)\r\n      .subscribe();\r\n    if (this.closeNotificationsOnCLick) {\r\n      this._showNotifications = false;\r\n    }\r\n    this.notificationAction.emit(notification);\r\n  }\r\n  public onAllNotification(): void {\r\n    if (this.closeNotificationsOnCLick) {\r\n      this._showNotifications = false;\r\n    }\r\n    this.showAllNotifications.emit(this._allNotifications);\r\n  }\r\n\r\n  public getIconNotification(notification: INotificationEntry): string {\r\n    const result: any =\r\n      notification.notificationIcon === undefined ? 'icon-warning-red' : notification.notificationIcon;\r\n    return !notification.viewed ? result : 'icon-no-fill';\r\n  }\r\n\r\n  private getCookie(name: string): string {\r\n    const match: RegExpMatchArray = document.cookie.match(new RegExp(`(^| )${name}=([^;]+)`)) || [];\r\n    return match[2] ? match[2] : '';\r\n  }\r\n\r\n  private goHome(): void {\r\n    window.location.href = '/';\r\n  }\r\n\r\n  private getListResult(): ISearchHeaderResult[] {\r\n    return this._resultSearchList.length > 2 ? this._resultSearchList.slice(0, 2) : this._resultSearchList;\r\n  }\r\n\r\n  private onClickResultItem(item: ISearchHeaderResult): void {\r\n    this.onSelectItemSearchEvent.emit(item);\r\n    this._openSearchList = false;\r\n  }\r\n\r\n  private onClickViewAll(): void {\r\n    this.onViewAllResultEvent.emit(this._resultSearchList);\r\n    this._openSearchList = false;\r\n  }\r\n\r\n  private getMessageResult(noContainsData: boolean): string {\r\n    return noContainsData ? 'Data not found' : 'Searching Data...';\r\n  }\r\n\r\n  private compareNotificationFn(notif1: INotificationEntry, notif2: INotificationEntry): number {\r\n    if (notif1.notificationDate === notif2.notificationDate) {\r\n      return 0;\r\n    } else if (notif1.notificationDate > notif2.notificationDate) {\r\n      return 1;\r\n    } else {\r\n      return -1;\r\n    }\r\n  }\r\n\r\n  private getConfigCountry(): void {\r\n    this.countryConfigService.countryConfig.subscribe(\r\n      (configCountry: ICountryConfig) => {\r\n        if (configCountry !== null) {\r\n          this._countryConfig = configCountry;\r\n          if (this._countryConfig.email && Boolean(this._countryConfig.email)) {\r\n            const emailsArr: any = this._countryConfig.email.split(',');\r\n            this.emails = emailsArr;\r\n          }\r\n\r\n          if (this._countryConfig.phoneNumber && Boolean(this._countryConfig.phoneNumber)) {\r\n            const phonesArr: any = this._countryConfig.phoneNumber.split(',');\r\n            this.phones = phonesArr;\r\n          }\r\n\r\n          if (!Boolean(this._countryConfig.email) && !Boolean(this._countryConfig.phoneNumber)) {\r\n            this.showCountrySupportContact = false;\r\n          }\r\n        } else {\r\n          console.warn(`Unable to retrieve country information for ${sessionStorage.getItem('country')}`);\r\n        }\r\n      },\r\n      (error: any) => {\r\n        console.error(`Unable to retrieve country information for ${sessionStorage.getItem('country')}`, error);\r\n      },\r\n    );\r\n  }\r\n}\r\n","import { Directive, ElementRef, EventEmitter, HostListener, Output } from '@angular/core';\r\n\r\n// tslint:disable-next-line:directive-selector\r\n@Directive({ selector: '[clickOutside]' })\r\nexport class ClickOutsideDirective {\r\n  @Output()\r\n  public clickOutside: any = new EventEmitter();\r\n\r\n  constructor(private _elementRef: ElementRef) {}\r\n\r\n  @HostListener('document:click', ['$event.target'])\r\n  public onClick(targetElement: any): void {\r\n    const clickedInside: boolean = this._elementRef.nativeElement.contains(targetElement);\r\n    if (!clickedInside) {\r\n      this.clickOutside.emit();\r\n    }\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { CmxNavHeaderComponent } from './cmx-nav-header.component';\r\nimport { ClickOutsideDirective } from './click-outside.directive';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { CmxDialogModule } from '@cemex/cmx-dialog-v7';\r\nimport { CmxButtonModule } from '@cemex/cmx-button-v4';\r\n\r\n@NgModule({\r\n  declarations: [CmxNavHeaderComponent, ClickOutsideDirective],\r\n  exports: [CmxNavHeaderComponent],\r\n  imports: [FlexLayoutModule, FormsModule, ReactiveFormsModule, CommonModule, CmxDialogModule, CmxButtonModule],\r\n})\r\nexport class CmxNavHeaderModule {}\r\n","export const HEADER_NOTIFICATION_UPDATE = 'cmx-nav-header_notification-update';\r\nexport const HEADER_NOTIFICATION_PUSH = 'cmx-nav-header_notification-push';\r\n"]}