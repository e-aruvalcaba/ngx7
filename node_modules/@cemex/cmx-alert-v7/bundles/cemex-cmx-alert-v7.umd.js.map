{"version":3,"file":"cemex-cmx-alert-v7.umd.js.map","sources":["ng://@cemex/cmx-alert-v7/lib/models/alert.ts","ng://@cemex/cmx-alert-v7/lib/services/alert-ref.ts","ng://@cemex/cmx-alert-v7/lib/services/alert.service.ts","ng://@cemex/cmx-alert-v7/lib/components/alert.component.ts","ng://@cemex/cmx-alert-v7/lib/alert.module.ts"],"sourcesContent":["export class Alert {\n    alertMessage: string;\n    actionMessage: string;\n    duration: number;\n    type: AlertType;\n}\n\nexport enum AlertType {\n    Success,\n    Error,\n    Info,\n    Warning\n}\n","import { AlertType } from '../models/alert';\nimport { Subject } from 'rxjs';\nimport { Observable } from 'rxjs';\n\nexport class AlertRef {\n  private _onAction = new Subject<void>();\n  private _onClose = new Subject<void>();\n\n    constructor(public alertMessage: string,\n                public actionMessage: string,\n                public duration: number,\n                public alertType: AlertType\n                ) {\n    }\n\n    onAction() {\n      this._onAction.next();\n    }\n\n    onActionClicked() {\n      return this._onAction.asObservable();\n    }\n\n    onClose() {\n      this._onClose.next();\n    }\n\n    onCloseClicked() {\n      return this._onClose.asObservable();\n    }\n}\n","import { EventEmitter, Injectable } from '@angular/core';\nimport { AlertType } from '../models/alert';\nimport { AlertRef } from './alert-ref';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable()\nexport class AlertService {\n  alerts$: BehaviorSubject<AlertRef[]> = new BehaviorSubject([]);\n  alerts: AlertRef[] = [];\n\n  constructor() {\n  }\n\n  openSuccess(alertMessage: string, actionMessage: string, duration: number = 5000, alertType: AlertType = AlertType.Success) {\n    return this.open(alertMessage, actionMessage, duration, alertType);\n  }\n\n  openError(alertMessage: string, actionMessage: string, duration: number = 5000, alertType: AlertType = AlertType.Error) {\n    return this.open(alertMessage, actionMessage, duration, alertType);\n  }\n\n  openWarning(alertMessage: string, actionMessage: string, duration: number = 5000, alertType: AlertType = AlertType.Warning) {\n    return this.open(alertMessage, actionMessage, duration, alertType);\n  }\n\n  openInfo(alertMessage: string, actionMessage: string, duration: number = 5000, alertType: AlertType = AlertType.Info) {\n    return this.open(alertMessage, actionMessage, duration, alertType);\n  }\n\n  private open(alertMessage: string, actionMessage: string, duration: number, alertType: AlertType): AlertRef {\n    const alertRef = new AlertRef(alertMessage, actionMessage, duration, alertType);\n    this.alerts.push(alertRef);\n    this.alerts$.next(this.alerts);\n\n    if (alertRef.duration > 0) {\n      this._setTimeout(alertRef);\n    }\n\n    return alertRef;\n  }\n\n  private _setTimeout(alert: AlertRef) {\n    window.setTimeout(() => {\n      this.removeAlert(alert);\n    }, alert.duration);\n  }\n\n  removeAlert(alert: AlertRef) {\n    this.alerts = this.alerts.filter(x => x !== alert);\n    this.alerts$.next(this.alerts);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { AlertService } from '../services/alert.service';\nimport { AlertType } from '../models/alert';\nimport { AlertRef } from '../services/alert-ref';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { CmxFlugeeService } from '@cemex/cmx-flugee-v7';\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'cmx-alert',\n  templateUrl: 'alert.component.html',\n  styleUrls: ['alert.component.scss'],\n})\nexport class AlertComponent implements OnInit {\n  alerts$: BehaviorSubject<AlertRef[]>;\n  dirState: string;\n\n  constructor(private alertService: AlertService, private flugeeService: CmxFlugeeService) {\n    this.alerts$ = alertService.alerts$;\n  }\n\n  onLinkClick(alert: AlertRef) {\n    alert.onAction();\n  }\n\n  getCssClass(alert: AlertRef) {\n    return {\n      'alert--success': AlertType.Success === alert.alertType,\n      'alert--error': AlertType.Error === alert.alertType,\n      'alert--warning': AlertType.Warning === alert.alertType,\n      'alert--info': AlertType.Info === alert.alertType,\n    };\n  }\n\n  onClose(alert: AlertRef) {\n    this.alertService.removeAlert(alert);\n    alert.onClose();\n  }\n\n  ngOnInit() {\n    this.flugeeService.direction$.subscribe(data => {\n      this.dirState = data;\n    });\n  }\n}\n","import { ModuleWithProviders, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AlertComponent } from './components/alert.component';\n\n// SERVICES\nimport { AlertService } from './services/alert.service';\n\n@NgModule({\n    imports: [ CommonModule ],\n    declarations: [\n        AlertComponent,\n    ],\n    exports: [\n        AlertComponent,\n    ]\n})\nexport class AlertModule {\n\n    static forRoot(): ModuleWithProviders {\n        return {\n            ngModule: AlertModule,\n            providers: [\n                AlertService\n            ]\n        };\n    }\n}\n"],"names":["Subject","BehaviorSubject","Injectable","Component","CmxFlugeeService","NgModule","CommonModule"],"mappings":"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"}
