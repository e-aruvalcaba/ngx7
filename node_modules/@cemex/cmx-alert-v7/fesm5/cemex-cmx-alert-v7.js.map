{"version":3,"file":"cemex-cmx-alert-v7.js.map","sources":["ng://@cemex/cmx-alert-v7/lib/models/alert.ts","ng://@cemex/cmx-alert-v7/lib/services/alert-ref.ts","ng://@cemex/cmx-alert-v7/lib/services/alert.service.ts","ng://@cemex/cmx-alert-v7/lib/components/alert.component.ts","ng://@cemex/cmx-alert-v7/lib/alert.module.ts"],"sourcesContent":["export class Alert {\n    alertMessage: string;\n    actionMessage: string;\n    duration: number;\n    type: AlertType;\n}\n\nexport enum AlertType {\n    Success,\n    Error,\n    Info,\n    Warning\n}\n","import { AlertType } from '../models/alert';\nimport { Subject } from 'rxjs';\nimport { Observable } from 'rxjs';\n\nexport class AlertRef {\n  private _onAction = new Subject<void>();\n  private _onClose = new Subject<void>();\n\n    constructor(public alertMessage: string,\n                public actionMessage: string,\n                public duration: number,\n                public alertType: AlertType\n                ) {\n    }\n\n    onAction() {\n      this._onAction.next();\n    }\n\n    onActionClicked() {\n      return this._onAction.asObservable();\n    }\n\n    onClose() {\n      this._onClose.next();\n    }\n\n    onCloseClicked() {\n      return this._onClose.asObservable();\n    }\n}\n","import { EventEmitter, Injectable } from '@angular/core';\nimport { AlertType } from '../models/alert';\nimport { AlertRef } from './alert-ref';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable()\nexport class AlertService {\n  alerts$: BehaviorSubject<AlertRef[]> = new BehaviorSubject([]);\n  alerts: AlertRef[] = [];\n\n  constructor() {\n  }\n\n  openSuccess(alertMessage: string, actionMessage: string, duration: number = 5000, alertType: AlertType = AlertType.Success) {\n    return this.open(alertMessage, actionMessage, duration, alertType);\n  }\n\n  openError(alertMessage: string, actionMessage: string, duration: number = 5000, alertType: AlertType = AlertType.Error) {\n    return this.open(alertMessage, actionMessage, duration, alertType);\n  }\n\n  openWarning(alertMessage: string, actionMessage: string, duration: number = 5000, alertType: AlertType = AlertType.Warning) {\n    return this.open(alertMessage, actionMessage, duration, alertType);\n  }\n\n  openInfo(alertMessage: string, actionMessage: string, duration: number = 5000, alertType: AlertType = AlertType.Info) {\n    return this.open(alertMessage, actionMessage, duration, alertType);\n  }\n\n  private open(alertMessage: string, actionMessage: string, duration: number, alertType: AlertType): AlertRef {\n    const alertRef = new AlertRef(alertMessage, actionMessage, duration, alertType);\n    this.alerts.push(alertRef);\n    this.alerts$.next(this.alerts);\n\n    if (alertRef.duration > 0) {\n      this._setTimeout(alertRef);\n    }\n\n    return alertRef;\n  }\n\n  private _setTimeout(alert: AlertRef) {\n    window.setTimeout(() => {\n      this.removeAlert(alert);\n    }, alert.duration);\n  }\n\n  removeAlert(alert: AlertRef) {\n    this.alerts = this.alerts.filter(x => x !== alert);\n    this.alerts$.next(this.alerts);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { AlertService } from '../services/alert.service';\nimport { AlertType } from '../models/alert';\nimport { AlertRef } from '../services/alert-ref';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { CmxFlugeeService } from '@cemex/cmx-flugee-v7';\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'cmx-alert',\n  templateUrl: 'alert.component.html',\n  styleUrls: ['alert.component.scss'],\n})\nexport class AlertComponent implements OnInit {\n  alerts$: BehaviorSubject<AlertRef[]>;\n  dirState: string;\n\n  constructor(private alertService: AlertService, private flugeeService: CmxFlugeeService) {\n    this.alerts$ = alertService.alerts$;\n  }\n\n  onLinkClick(alert: AlertRef) {\n    alert.onAction();\n  }\n\n  getCssClass(alert: AlertRef) {\n    return {\n      'alert--success': AlertType.Success === alert.alertType,\n      'alert--error': AlertType.Error === alert.alertType,\n      'alert--warning': AlertType.Warning === alert.alertType,\n      'alert--info': AlertType.Info === alert.alertType,\n    };\n  }\n\n  onClose(alert: AlertRef) {\n    this.alertService.removeAlert(alert);\n    alert.onClose();\n  }\n\n  ngOnInit() {\n    this.flugeeService.direction$.subscribe(data => {\n      this.dirState = data;\n    });\n  }\n}\n","import { ModuleWithProviders, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AlertComponent } from './components/alert.component';\n\n// SERVICES\nimport { AlertService } from './services/alert.service';\n\n@NgModule({\n    imports: [ CommonModule ],\n    declarations: [\n        AlertComponent,\n    ],\n    exports: [\n        AlertComponent,\n    ]\n})\nexport class AlertModule {\n\n    static forRoot(): ModuleWithProviders {\n        return {\n            ngModule: AlertModule,\n            providers: [\n                AlertService\n            ]\n        };\n    }\n}\n"],"names":[],"mappings":"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"}
