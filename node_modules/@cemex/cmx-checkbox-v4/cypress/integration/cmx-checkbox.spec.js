describe('Angular Library Starter APP', function () {
    it('starts the application', function () {
      cy.clearCookies();
      cy.clearLocalStorage();
      cy.window().then((win) => {
        win.sessionStorage.clear();
      });
      cy.visit('http://localhost:8000/');
    });

    it('form attributes in HTML work as expected', function () {
      cy.get('#cmxCheckboxUnchecked > input[type="checkbox"]').should('not.be.checked');
      cy.get('#cmxCheckboxUncheckedRTL > input[type="checkbox"]').should('not.be.checked');
      cy.get('#cmxCheckboxChecked > input[type="checkbox"]').should('be.checked');
      cy.get('#cmxCheckboxCheckedRTL > input[type="checkbox"]').should('be.checked');
      cy.get('#cmxCheckboxDisabled > input[type="checkbox"]').should('be.disabled');
      cy.get('#cmxCheckboxDisabledRTL > input[type="checkbox"]').should('be.disabled');
      cy.get('#cmxCheckboxCheckedDisabled > input[type="checkbox"]').should('be.checked');
      cy.get('#cmxCheckboxCheckedDisabled > input[type="checkbox"]').should('be.disabled');
      cy.get('#cmxCheckboxCheckedDisabledRTL > input[type="checkbox"]').should('be.checked');
      cy.get('#cmxCheckboxCheckedDisabledRTL > input[type="checkbox"]').should('be.disabled');
      cy.get('#cmxCheckboxError > input[type="checkbox"]').should('not.be.checked');
      cy.get('#cmxCheckboxErrorRTL > input[type="checkbox"]').should('not.be.checked');
    });

    it('cmx-checkbox components are independent', function () {
      cy.get('#testFormLeft > input[type="checkbox"]').should('not.be.checked');
      cy.get('#testFormRight > input[type="checkbox"]').should('not.be.checked');

      cy.get('#testFormLeft > label').click({force: true});
      cy.get('#testFormLeft > input[type="checkbox"]').should('be.checked');
      cy.get('#testFormRight > input[type="checkbox"]').should('not.be.checked');
      cy.get('#testFormLeft > label').click({force: true});
      cy.get('#testFormLeft > input[type="checkbox"]').should('not.be.checked');
      cy.get('#testFormRight > input[type="checkbox"]').should('not.be.checked');

      cy.get('#testFormRight > label').click({force: true});
      cy.get('#testFormLeft > input[type="checkbox"]').should('not.be.checked');
      cy.get('#testFormRight > input[type="checkbox"]').should('be.checked');
      cy.get('#testFormLeft > label').click({force: true});
      cy.get('#testFormLeft > input[type="checkbox"]').should('be.checked');
      cy.get('#testFormRight > input[type="checkbox"]').should('be.checked');
      cy.get('#testFormRight > label').click({force: true});
      cy.get('#testFormLeft > input[type="checkbox"]').should('be.checked');
      cy.get('#testFormRight > input[type="checkbox"]').should('not.be.checked');
    });
    it('Checks and unchecks checkbox clicking the input', function(){
        cy.get('body > my-app > div > cmx-checkbox:nth-child(2) > input ').should('not.be.checked');
        cy.get('body > my-app > div > cmx-checkbox:nth-child(2) > label ').click({force:true});
        cy.get('body > my-app > div > cmx-checkbox:nth-child(2) > input ').should('be.checked');
        cy.get('body > my-app > div > cmx-checkbox:nth-child(2) > label ').click({force:true});
        cy.get('body > my-app > div > cmx-checkbox:nth-child(2) > input ').should('not.be.checked');
        cy.get('body > my-app > div > cmx-checkbox:nth-child(2) > label ').click({force:true});
        cy.get('body > my-app > div > cmx-checkbox:nth-child(2) > input ').should('be.checked');
        cy.get('body > my-app > div > cmx-checkbox:nth-child(2) > label ').click({force:true});
    });
    it('Checks and unchecks checkbox clicking the label', function(){
        cy.get('body > my-app > div > cmx-checkbox:nth-child(2) > label > span ').contains('Unchecked Checkbox');
        cy.get('body > my-app > div > cmx-checkbox:nth-child(2) > label > span ').click({force:true});
        cy.get('body > my-app > div > cmx-checkbox:nth-child(2) > label ').children().should('have.length', 1)
        cy.get('body > my-app > div > cmx-checkbox:nth-child(2) > label ').click({force:true});
        cy.get('body > my-app > div > cmx-checkbox:nth-child(2) > label > span ').contains('Unchecked Checkbox');
        cy.get('body > my-app > div > cmx-checkbox:nth-child(2) > label > span ').click({force:true});
        cy.get('body > my-app > div > cmx-checkbox:nth-child(2) > label ').children().should('have.length', 1)
        cy.get('body > my-app > div > cmx-checkbox:nth-child(2) > label ').click({force:true});
    });
  });
