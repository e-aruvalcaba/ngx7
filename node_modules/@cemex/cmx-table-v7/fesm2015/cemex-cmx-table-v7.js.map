{"version":3,"file":"cemex-cmx-table-v7.js.map","sources":["ng://@cemex/cmx-table-v7/lib/classes/table.class.ts","ng://@cemex/cmx-table-v7/lib/directives/cmx-row-template.directive.ts","ng://@cemex/cmx-table-v7/lib/directives/cmx-header-template.directive.ts","ng://@cemex/cmx-table-v7/lib/classes/filter.class.ts","ng://@cemex/cmx-table-v7/lib/services/watcher.service.ts","ng://@cemex/cmx-table-v7/lib/components/cmx-checkbox-filters/cmx-checkbox-filters.component.ts","ng://@cemex/cmx-table-v7/lib/components/cmx-datepicker-filter/cmx-datepicker-filter.component.ts","ng://@cemex/cmx-table-v7/lib/components/cxm-filter-sorter/cmx-filter-sorter.component.ts","ng://@cemex/cmx-table-v7/lib/components/cmx-header-cell/cmx-header-cell.component.ts","ng://@cemex/cmx-table-v7/lib/directives/cmx-row-placeholder.directive.ts","ng://@cemex/cmx-table-v7/lib/directives/cmx-header-placeholder.directive.ts","ng://@cemex/cmx-table-v7/lib/components/cmx-table/cmx-table.component.ts","ng://@cemex/cmx-table-v7/lib/components/cmx-pagination/cmx-pagination.component.ts","ng://@cemex/cmx-table-v7/lib/directives/cmx-table-item.directive.ts","ng://@cemex/cmx-table-v7/lib/directives/cmx-cell.directive.ts","ng://@cemex/cmx-table-v7/lib/cmx-table.module.ts","ng://@cemex/cmx-table-v7/lib/classes/column.class.ts"],"sourcesContent":["import { Column } from './column.class';\r\n\r\nexport class Table {\r\n    private customerCode: number;\r\n    private companyCode: number;\r\n    private columns: Column[];\r\n\r\n    constructor() {\r\n        this.columns = [];\r\n    }\r\n\r\n    public setColumns( columns: Column[] ): void {\r\n        this.columns = columns;\r\n    }\r\n\r\n    public addColumn( column: Column ): void {\r\n        this.columns.push( column );\r\n    }\r\n\r\n    public getColumn( key: string ): Column {\r\n        let answer;\r\n        this.columns.forEach( ( column: Column ) => {\r\n            if ( column.getKey() === key ) {\r\n                answer = column;\r\n            }\r\n        });\r\n        return answer;\r\n    }\r\n\r\n    public getColumns(): Column[] {\r\n        return this.columns;\r\n    }\r\n\r\n    public setCustomerCode( _customerCode: number ): void {\r\n        this.customerCode = _customerCode;\r\n    }\r\n\r\n    public setCompanyCode( _companyCode: number ): void {\r\n        this.companyCode = _companyCode;\r\n    }\r\n}\r\n","import { Directive, TemplateRef } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[cmxRowTemplate]',\r\n})\r\nexport class CmxRowTemplateDirective {\r\n    constructor( public template: TemplateRef<any> ) { }\r\n}\r\n","import { Directive, TemplateRef } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[cmxHeaderTemplate]',\r\n})\r\nexport class CmxHeaderTemplateDirective {\r\n    constructor( public template: TemplateRef<any> ) { }\r\n}\r\n","export class Filter {\r\n    public name: string;\r\n    public value: any;\r\n    public active: boolean;\r\n    public columnKey: any;\r\n    public visible = true;\r\n\r\n    constructor( _name: string, _value: any, _active: boolean, _columnKey: any ) {\r\n        this.name = _name;\r\n        this.value = _value;\r\n        this.active = _active;\r\n        this.columnKey = _columnKey;\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { Observable, BehaviorSubject } from 'rxjs';\r\n\r\nimport { Filter } from '../classes/filter.class';\r\n\r\nlet $tableId = 0;\r\n\r\ninterface WatchSubject {\r\n    id: number;\r\n    activeFilters: Filter[];\r\n    activeFiltersSubject: BehaviorSubject<Filter[]>;\r\n}\r\n\r\n@Injectable()\r\nexport class WatcherService {\r\n    private watchSubjects: WatchSubject[] = [];\r\n\r\n    constructor() { }\r\n\r\n    public clearActiveFilters(): void {\r\n        this.watchSubjects.forEach((sub) => {\r\n            sub.activeFiltersSubject.next([]);\r\n        });\r\n    }\r\n\r\n    public createSubject(): number {\r\n        $tableId++;\r\n        const $subject: WatchSubject = {\r\n            id: $tableId,\r\n            activeFilters: [],\r\n            activeFiltersSubject: new BehaviorSubject<Filter[]>([]),\r\n        };\r\n        this.watchSubjects.push($subject);\r\n        return $tableId;\r\n    }\r\n\r\n    public listenToActiveFilters($id: number): Observable<Filter[]> {\r\n        const $aux = this.watchSubjects.find(\r\n            ($element) => $element.id === $id\r\n        );\r\n        return $aux.activeFiltersSubject.asObservable();\r\n    }\r\n\r\n    public emitActiveFilters($id: number, $filtersValue: Filter[]): void {\r\n        const $aux = this.watchSubjects.find(\r\n            ($element) => $element.id === $id\r\n        );\r\n        $filtersValue.forEach(($filter) => {\r\n            const $foundIndex = $aux.activeFilters.findIndex(\r\n                ($element) => $element.name === $filter.name\r\n            );\r\n            if ($foundIndex === -1 && $filter.active === true) {\r\n                // new filter to push\r\n                $aux.activeFilters.push($filter);\r\n            } else if ($foundIndex > -1 && $filter.active === false) {\r\n                // filter was in the array but now has been deactivaded\r\n                $aux.activeFilters.splice($foundIndex, 1);\r\n            }\r\n        });\r\n        $aux.activeFiltersSubject.next($aux.activeFilters);\r\n    }\r\n}\r\n","import {\r\n    Component, Input, OnDestroy, AfterViewInit,\r\n    ViewChildren, QueryList, forwardRef, Host,\r\n} from '@angular/core';\r\n\r\nimport { Subscription, BehaviorSubject, Observable } from 'rxjs';\r\n\r\nimport { CmxCheckboxComponent } from '@cemex/cmx-checkbox-v4';\r\n\r\nimport { Filter } from '../../classes/filter.class';\r\nimport { WatcherService } from '../../services/watcher.service';\r\nimport { CmxTableComponent } from '../cmx-table/cmx-table.component';\r\n\r\n@Component({\r\n    selector: 'cmx-checkbox-filters',\r\n    templateUrl: './cmx-checkbox-filters.component.html',\r\n    styleUrls: ['./../../../../../../../../../scss/cmx-table/v1/cmx-checkbox-filters.component.scss']\r\n})\r\nexport class CmxCheckboxFiltersComponent implements AfterViewInit, OnDestroy {\r\n    @Input()\r\n    set filters($value: Filter[]) {\r\n        if ($value !== undefined && $value !== null) {\r\n            this._filters = $value;\r\n        }\r\n    }\r\n    get filters(): Filter[] {\r\n        return this._filters;\r\n    }\r\n    @Input() public showAllOption = false;\r\n    @Input() public allOptionName = '';\r\n    @Input() public searchPlaceholder = '';\r\n    @Input() public enableSearch = false;\r\n\r\n    @ViewChildren(forwardRef(() => CmxCheckboxComponent))\r\n    public checkboxes: QueryList<CmxCheckboxComponent>;\r\n    public searchTerm = '';\r\n\r\n    public allFilter: Filter = new Filter('All', null, false, null);\r\n    public _filters: Filter[];\r\n    public isRtl = false;\r\n\r\n    private activeFilters: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\r\n    private checkboxSubscriptions: Subscription[] = [];\r\n\r\n    constructor(private watcher: WatcherService, @Host() private parent: CmxTableComponent) {\r\n        this.isRtl = this.parent.rtl;\r\n    }\r\n\r\n    public ngAfterViewInit(): void {\r\n        this.listenToCheckboxes();\r\n    }\r\n\r\n    public ngOnDestroy(): void {\r\n        this.dropSubscriptions();\r\n    }\r\n\r\n    public listenToActiveFilters(): Observable<boolean> {\r\n        return this.activeFilters.asObservable();\r\n    }\r\n\r\n    /**\r\n     * @description Checks all filters when the 'All' checkbox is clicked.\r\n     * @param boolean $event: The event received by the change event of the checkbox.\r\n     */\r\n    public toggleAll($event: boolean): void {\r\n        if (typeof $event === 'boolean') {\r\n            this.allFilter.active = $event;\r\n            this._filters.forEach((filter) => {\r\n                if (filter.visible) {\r\n                    filter.active = $event;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @description Toggles the 'active' attribute of a filter to enable or disable.\r\n     * @param Filter filter: The Filter object to toggle.\r\n     * @param boolean $event: The event received by the change event of the checkbox.\r\n     */\r\n    public toggleFilter(filter: Filter, $event: boolean) {\r\n        if (typeof $event === 'boolean') {\r\n            filter.active = $event;\r\n            if (!this.showAllOption) {\r\n                return;\r\n            }\r\n            if (!$event) {\r\n                this.allFilter.active = false;\r\n            } else {\r\n                let $filtersOnFalse = 0;\r\n                this.filters.forEach(($filter) => {\r\n                    if ($filter.active === false) {\r\n                        $filtersOnFalse++;\r\n                    }\r\n                });\r\n                this.allFilter.active = ($filtersOnFalse === 0) ? true : false;\r\n                // let $hasAllFilterActive: boolean = false;\r\n                // $hasAllFilterActive = this._filters.every(function($filter) {\r\n                //     return $filter.active;\r\n                // });\r\n                // this.allFilter.active = $hasAllFilterActive;\r\n            }\r\n        }\r\n    }\r\n\r\n    public clearSearch(): void {\r\n        this.searchTerm = '';\r\n        this.filters.forEach(($filter) => {\r\n            $filter.visible = true;\r\n        });\r\n    }\r\n\r\n    public searchInFilter(term: string) {\r\n        if (term.length >= 4 || term === '') {\r\n            const aux = term.toLowerCase();\r\n            if (aux !== '') {\r\n                this.filters.filter((row) => {\r\n                    if (row.name && row.name.toLowerCase().includes(aux)) {\r\n                        row.visible = true;\r\n                    } else {\r\n                        row.visible = false;\r\n                    }\r\n                });\r\n            } else {\r\n                this.clearSearch();\r\n            }\r\n        }\r\n    }\r\n\r\n    private emitFilters(): void {\r\n        this.watcher.emitActiveFilters(this.parent.assignedId, this._filters);\r\n    }\r\n\r\n    private emitActiveCheckboxes(): void {\r\n        const activeFilters: any[] = [];\r\n        this._filters.forEach( ( filter ) => {\r\n            if (filter.active) {\r\n                activeFilters.push( filter );\r\n            }\r\n        });\r\n        if (activeFilters.length > 0) {\r\n            this.activeFilters.next(true);\r\n        } else {\r\n            this.activeFilters.next(false);\r\n        }\r\n    }\r\n\r\n    private listenToCheckboxes(): void {\r\n        this.checkboxes.forEach(($checkbox: CmxCheckboxComponent) => {\r\n            const $subscription = $checkbox.change.subscribe(($checked: any) => {\r\n                this.emitFilters();\r\n                this.emitActiveCheckboxes();\r\n            });\r\n            this.checkboxSubscriptions.push($subscription);\r\n        });\r\n    }\r\n\r\n    private dropSubscriptions(): void {\r\n        this.checkboxSubscriptions.forEach(($sub: Subscription) => $sub.unsubscribe());\r\n        this.checkboxSubscriptions = [];\r\n    }\r\n}\r\n","import { Component, Input, Host } from '@angular/core';\r\n\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\n\r\nimport { Filter } from '../../classes/filter.class';\r\nimport { WatcherService } from '../../services/watcher.service';\r\nimport { CmxTableComponent } from '../cmx-table/cmx-table.component';\r\n\r\n@Component({\r\n    selector: 'cmx-datepicker-filter',\r\n    templateUrl: './cmx-datepicker-filter.component.html',\r\n    styleUrls: ['./../../../../../../../../../scss/cmx-table/v1/cmx-datepicker-filter.component.scss']\r\n})\r\nexport class CmxDatepickerFilterComponent {\r\n    @Input() public filter: Filter;\r\n\r\n    public isRtl = false;\r\n    private activeFilter: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\r\n\r\n    constructor(private watcher: WatcherService, @Host() private parent: CmxTableComponent) {\r\n        this.isRtl = this.parent.rtl;\r\n    }\r\n\r\n    public listenToActiveFilter(): Observable<boolean> {\r\n        return this.activeFilter.asObservable();\r\n    }\r\n\r\n    public activateFilter($event: any): void {\r\n        this.filter.value = $event.value;\r\n        this.filter.active = true;\r\n        const $aux = [this.filter];\r\n        this.activeFilter.next(true);\r\n        this.watcher.emitActiveFilters(this.parent.assignedId, $aux);\r\n    }\r\n\r\n    public removeFilter(): void {\r\n        this.filter.active = false;\r\n        const $aux = [this.filter];\r\n        this.activeFilter.next(false);\r\n        this.watcher.emitActiveFilters(this.parent.assignedId, $aux);\r\n    }\r\n}\r\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\r\n\r\nexport type SorterCompareFn = (objectLeft: any, objectRight: any) => number;\r\nexport type SearchFilterFn = (\r\n    collection: any[],\r\n    searchValue: string,\r\n    specificProp: string\r\n) => any[];\r\n\r\n@Component({\r\n    selector: 'cmx-filter-sorter',\r\n    styleUrls: [\r\n        './../../../../../../../../../scss/cmx-table/v1/cmx-filter-sorter.component.scss',\r\n    ],\r\n    templateUrl: './cmx-filter-sorter.component.html',\r\n})\r\nexport class CmxFilterSorterComponent {\r\n    public _searchValue = '';\r\n    public _isAscending = false;\r\n    public _isDescending = false;\r\n\r\n    @Input()\r\n    get collection() {\r\n        return this._filteredCollection;\r\n    }\r\n    set collection(value: any[]) {\r\n        this._filteredCollection = value;\r\n        if (value && value !== undefined) {\r\n            this._originalCollection = value.slice(0, value.length);\r\n        }\r\n    }\r\n\r\n    set searchValue(value: any) {\r\n        this._searchValue = value;\r\n    }\r\n\r\n    @Input()\r\n    set sorterCustomFn(value: any) {\r\n        this._compareCustomFn = value;\r\n    }\r\n\r\n    @Input()\r\n    set searchFilterFn(value: SearchFilterFn) {\r\n        this._searchFilterFn = value;\r\n    }\r\n\r\n    @Input()\r\n    get rtl(): boolean {\r\n        return this._rtl;\r\n    }\r\n    set rtl($value: boolean) {\r\n        if ($value !== undefined && $value !== undefined) {\r\n            this._rtl = $value;\r\n        }\r\n    }\r\n\r\n    @Input() public specificProp: string = null;\r\n    @Input() public id: number;\r\n    @Input() public placeholder: string;\r\n    @Input() public keyTitle: string;\r\n    @Input() public keySubtitle: string;\r\n    @Input() public keyOrderAsc: string;\r\n    @Input() public keyOrderDesc: string;\r\n    @Input() public enableSearch = true;\r\n    @Output() public onSelectedFilterItem: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output() public isfiltered: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output() public inputSelected: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output() public checkboxSelected: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    private _filteredCollection: any[] = [];\r\n    private _originalCollection: any[];\r\n    private _compareCustomFn: any = null;\r\n    private _searchFilterFn: SearchFilterFn = null;\r\n    private _rtl = false;\r\n\r\n    constructor() { }\r\n\r\n    get dirRtl() {\r\n        return (this._rtl) ? 'rtl' : 'ltr';\r\n    }\r\n\r\n    public clickInside(event: any): void {\r\n        // event.stopPropagation();\r\n    }\r\n\r\n    public reset(): void {\r\n        this._searchValue = '';\r\n        this._isAscending = false;\r\n        this._isDescending = false;\r\n        this._filteredCollection = this._originalCollection.slice(\r\n            0, this._originalCollection.length\r\n        );\r\n        this.onSelectedFilterItem.emit(this._filteredCollection);\r\n        this.isfiltered.emit(false);\r\n    }\r\n\r\n    public ascendingItem($event: any): void {\r\n        this.checkboxSelected.emit({ order: 'asc', value: $event } );\r\n        this._isAscending = $event;\r\n        this._isDescending = false;\r\n        this.orderAZ();\r\n    }\r\n\r\n    public descendingItem($event: any): void {\r\n        this.checkboxSelected.emit({ order: 'des', value: $event } );\r\n        this._isAscending = false;\r\n        this._isDescending = $event;\r\n        this.orderAZ();\r\n    }\r\n\r\n    public onSearch(event: any): void {\r\n        const isAZ = this._isAscending || this._isDescending;\r\n        this._filteredCollection = this._searchFilterFn(\r\n            this._originalCollection, event.currentTarget.value, this.specificProp\r\n        );\r\n        if (isAZ) {\r\n            this.orderAZ();\r\n        } else {\r\n            this.onSelectedFilterItem.emit(this._filteredCollection);\r\n        }\r\n        this.isfiltered.emit(this._searchValue !== '');\r\n    }\r\n\r\n    public resetInput(): void {\r\n        const validate = this._isAscending || this._isDescending;\r\n        if ((this._searchValue === '' || !this._searchValue) && !validate) {\r\n            this.inputSelected.emit(this.id);\r\n        }\r\n    }\r\n\r\n    // tslint:disable-next-line:typedef\r\n    private orderAZ(): void {\r\n        if (!this._compareCustomFn) {\r\n            return;\r\n        }\r\n        const isAZ = this._isAscending || this._isDescending;\r\n        if (isAZ) {\r\n            this._filteredCollection = this.orderAscDesc();\r\n        } else {\r\n            this._filteredCollection = this._searchValue !== '' ? this._filteredCollection\r\n            .slice(0, this._originalCollection.length) :\r\n            this._originalCollection.slice(0, this._originalCollection.length);\r\n        }\r\n\r\n        this.onSelectedFilterItem.emit(this._filteredCollection);\r\n        this.isfiltered.emit(true);\r\n    }\r\n\r\n    private orderAscDesc(): any[] {\r\n        let sortCollection: any[];\r\n        if (this.specificProp) {\r\n            sortCollection = this._filteredCollection.sort(\r\n                this._compareCustomFn(this.specificProp)\r\n            );\r\n            return this._isAscending ? sortCollection : sortCollection.reverse();\r\n        } else {\r\n            sortCollection = this._filteredCollection.sort(this._compareCustomFn);\r\n            return this._isAscending ? sortCollection : sortCollection.reverse();\r\n        }\r\n    }\r\n}\r\n","import {\r\n    Component,\r\n    AfterContentInit,\r\n    OnDestroy,\r\n    HostBinding,\r\n    ContentChild,\r\n    Host,\r\n    Renderer2,\r\n    ViewChild,\r\n    ElementRef\r\n} from '@angular/core';\r\n\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { CmxCheckboxFiltersComponent } from '../cmx-checkbox-filters/cmx-checkbox-filters.component';\r\nimport { CmxDatepickerFilterComponent } from '../cmx-datepicker-filter/cmx-datepicker-filter.component';\r\nimport { CmxFilterSorterComponent } from '../cxm-filter-sorter/cmx-filter-sorter.component';\r\nimport { CmxTableComponent } from '../cmx-table/cmx-table.component';\r\n\r\n@Component({\r\n    selector: 'cmx-header-cell',\r\n    templateUrl: './cmx-header-cell.component.html',\r\n    styleUrls: [ './../../../../../../../../../scss/cmx-table/v1/cmx-header-cell.component.scss' ],\r\n})\r\nexport class CmxHeaderCellComponent implements AfterContentInit, OnDestroy {\r\n    @HostBinding( 'class.cmx-header-cell' ) public cmxHeaderCellClass = true;\r\n    @HostBinding( 'class.--has-filters' ) public hasFiltersClass = false;\r\n    @HostBinding( 'class.--active-filters' ) public activeFiltersClass = false;\r\n    // @HostBinding('attr.dir') private dirAttr: string = 'auto';\r\n    @ContentChild( CmxCheckboxFiltersComponent )\r\n    public checkboxFilters: CmxCheckboxFiltersComponent;\r\n    @ContentChild( CmxDatepickerFilterComponent )\r\n    public datepickerFilter: CmxDatepickerFilterComponent;\r\n    @ContentChild( CmxFilterSorterComponent )\r\n    public filterSorter: CmxFilterSorterComponent;\r\n    @ViewChild('filtersContainer')\r\n    public filtersContainer: ElementRef;\r\n\r\n    public showFilters = false;\r\n    private filtersListener: Subscription;\r\n\r\n    constructor(\r\n        @Host() private parent: CmxTableComponent,\r\n        private renderer: Renderer2,\r\n    ) { }\r\n\r\n    public ngAfterContentInit(): void {\r\n        if ( this.checkboxFilters ) {\r\n            this.hasFiltersClass = true;\r\n            this.filtersListener = this.checkboxFilters.listenToActiveFilters().subscribe(\r\n                ( $event ) => {\r\n                    this.activeFiltersClass = $event;\r\n                }\r\n            );\r\n        } else if ( this.datepickerFilter ) {\r\n            this.hasFiltersClass = true;\r\n            this.filtersListener = this.datepickerFilter.listenToActiveFilter().subscribe(\r\n                ( $event ) => {\r\n                    this.activeFiltersClass = $event;\r\n                }\r\n            );\r\n        } else if ( this.filterSorter ) {\r\n            this.hasFiltersClass = true;\r\n        }\r\n    }\r\n\r\n    public ngOnDestroy(): void {\r\n        if ( this.filtersListener ) {\r\n            this.filtersListener.unsubscribe();\r\n        }\r\n    }\r\n\r\n    public toggle(): void {\r\n        if ( this.checkboxFilters || this.datepickerFilter || this.filterSorter ) {\r\n            this.showFilters = !this.showFilters;\r\n            if (this.showFilters) {\r\n                setTimeout(() => this.isInsideViewport(), 100);\r\n            }\r\n        }\r\n    }\r\n\r\n    public closeFilters(): void {\r\n        this.showFilters = false;\r\n    }\r\n\r\n    private isInsideViewport(): void {\r\n        const sidePositioner: string = this.parent.rtl ? 'right' : 'left';\r\n        // clearing\r\n        this.renderer.setStyle(this.filtersContainer.nativeElement, sidePositioner, undefined);\r\n        this.renderer.setStyle(this.filtersContainer.nativeElement, 'top', undefined);\r\n        // calculations\r\n        const rect: ClientRect = this.filtersContainer.nativeElement.getBoundingClientRect();\r\n        const screenHeight: number = window.innerHeight;\r\n        const screenWidth: number = window.innerWidth;\r\n        const adjustment = 20;\r\n        if (this.parent.rtl) {\r\n            if (rect.left < 0) {\r\n                const pxValue: number = Math.abs(rect.left);\r\n                this.renderer.setStyle(\r\n                    this.filtersContainer.nativeElement, sidePositioner, (-1 * pxValue) + 'px',\r\n                );\r\n            }\r\n        } else {\r\n            if (rect.right > screenWidth) {\r\n                // move to the left\r\n                const pxValue: number = Math.abs(rect.right - screenWidth) + adjustment;\r\n                this.renderer.setStyle(\r\n                    this.filtersContainer.nativeElement, sidePositioner, (-1 * pxValue) + 'px',\r\n                );\r\n            }\r\n        }\r\n        if (rect.bottom > screenHeight) {\r\n            // move to the top\r\n            const pxValue: number = Math.abs(rect.bottom - screenHeight);\r\n            this.renderer.setStyle(\r\n                this.filtersContainer.nativeElement, 'top', (-1 * pxValue) + 'px',\r\n            );\r\n        }\r\n    }\r\n}\r\n","import { Directive, ViewContainerRef, HostBinding } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[rowPlaceholder]',\r\n})\r\nexport class RowPlaceholderDirective {\r\n    @HostBinding( 'class.cmx-row' ) public cmxRowClass = true;\r\n\r\n    constructor( public viewContainerReference: ViewContainerRef ) { }\r\n}\r\n","import { Directive, ViewContainerRef, HostBinding } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[headerPlaceholder]',\r\n})\r\nexport class HeaderPlaceholderDirective {\r\n    @HostBinding( 'class.cmx-header' ) public cmxHeaderClass = true;\r\n\r\n    constructor( public viewContainerReference: ViewContainerRef ) { }\r\n}\r\n","import {\r\n    Component,\r\n    OnDestroy,\r\n    AfterContentInit,\r\n    ViewChild,\r\n    Input,\r\n    ElementRef,\r\n    ContentChildren,\r\n    QueryList,\r\n    EmbeddedViewRef,\r\n    HostBinding\r\n} from '@angular/core';\r\n\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { Table } from '../../classes/table.class';\r\nimport { CmxRowTemplateDirective } from '../../directives/cmx-row-template.directive';\r\nimport { CmxHeaderTemplateDirective } from '../../directives/cmx-header-template.directive';\r\nimport { CmxHeaderCellComponent } from '../cmx-header-cell/cmx-header-cell.component';\r\nimport { RowPlaceholderDirective } from '../../directives/cmx-row-placeholder.directive';\r\nimport { HeaderPlaceholderDirective } from '../../directives/cmx-header-placeholder.directive';\r\nimport { Filter } from '../../classes/filter.class';\r\nimport { WatcherService } from '../../services/watcher.service';\r\n\r\nexport interface Page {\r\n    pageNumber: number;\r\n    minIndex: number;\r\n    maxIndex: number;\r\n}\r\n\r\n@Component({\r\n    selector: 'cmx-table',\r\n    templateUrl: './cmx-table.component.html',\r\n    styleUrls: [ './../../../../../../../../../scss/cmx-table/v1/cmx-table.component.scss' ],\r\n})\r\nexport class CmxTableComponent implements AfterContentInit, OnDestroy {\r\n    @Input()\r\n    get tableSource(): Table {\r\n        return this._table;\r\n    }\r\n    set tableSource($value: Table) {\r\n        if ($value !== undefined && $value !== null && $value instanceof Table ) {\r\n            this._table = $value;\r\n            this.renderHeader();\r\n        }\r\n    }\r\n    @Input()\r\n    get dataSource(): any[] {\r\n        return this._dataSource;\r\n    }\r\n    set dataSource($value: any[]) {\r\n        if ($value !== undefined && $value !== null) {\r\n            this._dataSource = $value;\r\n            this.viewportData = $value;\r\n            this.rowViewReferences = [];\r\n            this.initialize();\r\n        } else {\r\n            this._dataSource = [];\r\n        }\r\n    }\r\n\r\n    @Input()\r\n    set updateDataSource($value: any[]) {\r\n        if ($value !== undefined && $value !== null) {\r\n            this._dataSource = $value;\r\n            this.viewportData = $value;\r\n            this.rowViewReferences = [];\r\n            this.updateDataTable();\r\n        } else {\r\n            this._dataSource = [];\r\n        }\r\n    }\r\n\r\n    @Input()\r\n    get pageSize(): number {\r\n        return this._pageSize;\r\n    }\r\n    set pageSize($value: number) {\r\n        if ($value !== undefined && $value !== null) {\r\n            this._pageSize = $value;\r\n            this.calculateNumberOfPages();\r\n            this.setPageData();\r\n        }\r\n    }\r\n    @Input()\r\n    get rtl(): boolean {\r\n        return this._rtl;\r\n    }\r\n    set rtl($value: boolean) {\r\n        if ($value !== undefined && $value !== null) {\r\n            this._rtl = $value;\r\n        }\r\n    }\r\n\r\n    @HostBinding('class.cmx-table') public cmxTableClass = true;\r\n    @ContentChildren(CmxRowTemplateDirective)\r\n    public rowDefinitions: QueryList<CmxRowTemplateDirective>;\r\n    @ContentChildren(CmxHeaderTemplateDirective)\r\n    public headerDefinitions: QueryList<CmxHeaderTemplateDirective>;\r\n    @ContentChildren(CmxHeaderCellComponent, {descendants: true})\r\n    public headerCells: QueryList<CmxHeaderCellComponent>;\r\n    @ViewChild(RowPlaceholderDirective) public rowPlaceholder: RowPlaceholderDirective;\r\n    @ViewChild(HeaderPlaceholderDirective) public headerPlaceholder: HeaderPlaceholderDirective;\r\n    @ViewChild('cmxTableBody') public cmxTableBodyElement: ElementRef;\r\n\r\n    public assignedId: number;\r\n    public pages: Page[] = [];\r\n    public tableHasScroll = false;\r\n\r\n    private _dataSource: any[] = [];\r\n    private _table: Table;\r\n    private _pageSize = 30;\r\n    private _rtl = false;\r\n    public currentActivePage = 1;\r\n    private currentPageData: any[] = [];\r\n    private viewportData: any[] = [];\r\n    private activeFiltersCopy: Filter[] = [];\r\n    private activeFiltersSubscription: Subscription;\r\n    private rowViewReferences: Array<EmbeddedViewRef<any>> = [];\r\n\r\n    constructor(private watcher: WatcherService) { }\r\n\r\n    public ngAfterContentInit(): void {\r\n        this.renderHeader();\r\n        this.assignedId = this.watcher.createSubject();\r\n        this.activeFiltersSubscription = this.watcher.listenToActiveFilters(this.assignedId)\r\n        .subscribe(($event) => {\r\n            if ($event.length > 0) {\r\n                this.activeFiltersCopy = $event;\r\n                // there are filters to apply\r\n                this.viewportData = this.filterData( $event );\r\n            } else {\r\n                this.activeFiltersCopy = [];\r\n                // no filters to apply\r\n                this.viewportData = this._dataSource;\r\n            }\r\n            this.currentActivePage = 1;\r\n            this.calculateNumberOfPages();\r\n            this.setPageData();\r\n        });\r\n    }\r\n\r\n    public ngOnDestroy(): void {\r\n        this.rowPlaceholder.viewContainerReference.clear();\r\n        this.headerPlaceholder.viewContainerReference.clear();\r\n        this.activeFiltersSubscription.unsubscribe();\r\n    }\r\n\r\n    /**\r\n     * returns the items including filters applied in table\r\n     * Author: Andres Santos\r\n     */\r\n    public filteredItems(): any[] {\r\n        return this.viewportData;\r\n    }\r\n\r\n    /**\r\n     * returns the items including filters applied in current page\r\n     * Author: Andres Santos\r\n     */\r\n    public filteredItemsInPage(): any[] {\r\n        return this.currentPageData;\r\n    }\r\n\r\n    public clearActiveFilters(): void {\r\n        this.watcher.clearActiveFilters();\r\n    }\r\n\r\n    /**\r\n     * returns the current active filters\r\n     * Author: Antonio Vargas\r\n     */\r\n    public getActiveFiltersCopy(): Filter[] {\r\n        return this.activeFiltersCopy;\r\n    }\r\n\r\n    /**\r\n     * Triggers the filtering of data\r\n     */\r\n    public triggerFilter( $activeFilters: Filter[] ): void {\r\n        if ( $activeFilters.length > 0 ) {\r\n            // there are filters to apply\r\n            this.viewportData = this.filterData( $activeFilters );\r\n        } else {\r\n            // no filters to apply\r\n            this.viewportData = this._dataSource;\r\n        }\r\n        this.calculateNumberOfPages();\r\n        this.setPageData();\r\n    }\r\n\r\n    /**\r\n     * @description Resets the table visualization.\r\n     */\r\n    public reset(): void {\r\n        this.currentActivePage = 1;\r\n        this.rowViewReferences = [];\r\n        this.initialize();\r\n    }\r\n\r\n    public filterData( activeFilters: Filter[] ): any[] {\r\n        let result: any[] = this._dataSource;\r\n        const data: any[] = this._dataSource;\r\n        let aux: any[] = [];\r\n        const filtered: { [ index: string ]: any } = [];\r\n        activeFilters.forEach( ( $filter ) => {\r\n            filtered[ $filter.columnKey ] = [];\r\n        });\r\n        activeFilters.forEach( ( $filter, $index ) => {\r\n            aux = data.filter(\r\n                this._table.getColumn( $filter.columnKey ).getFilterFunction( $filter )\r\n            );\r\n            filtered[ $filter.columnKey ] = filtered[ $filter.columnKey ].concat( aux );\r\n        });\r\n        for ( const $key of Object.keys( filtered ) ) {\r\n            result = this.findIntersection( result, filtered[ $key ] );\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public sortData( columnId: string, ASC: boolean ): void {\r\n        this.viewportData = this.viewportData.sort(\r\n            this._table.getColumn( columnId ).getSortFunction( ASC )\r\n        );\r\n        this.calculateNumberOfPages();\r\n        this.setPageData();\r\n    }\r\n\r\n   /**\r\n    * @description Apply the current active filters in the table\r\n    */\r\n    public applyCurrentFilters(): void {\r\n        if (this.activeFiltersCopy.length > 0) {\r\n            this.viewportData = this.filterData(this.activeFiltersCopy);\r\n        } else {\r\n            this.viewportData = this._dataSource;\r\n        }\r\n        this.calculateNumberOfPages();\r\n        this.setPageData();\r\n    }\r\n\r\n    /**\r\n     * @description Overwrite the active filters with new ones to apply\r\n     * @param  $filters: array<Filter>\r\n     */\r\n    public applyNewFilters($filters: Filter[]): void {\r\n        if ($filters && $filters.length > 0) {\r\n            this.viewportData = this.filterData($filters);\r\n        } else {\r\n            this.viewportData = this._dataSource;\r\n        }\r\n        this.calculateNumberOfPages();\r\n        this.setPageData();\r\n    }\r\n\r\n    public setCurrentPage($currentPage: number): void {\r\n        this.currentActivePage = $currentPage;\r\n        this.setPageData();\r\n    }\r\n\r\n    private initialize(): void {\r\n        this.rowPlaceholder.viewContainerReference.clear();\r\n        this.headerPlaceholder.viewContainerReference.clear();\r\n        this.renderHeader();\r\n        this.calculateNumberOfPages();\r\n        this.setPageData();\r\n    }\r\n\r\n    private updateDataTable(): void {\r\n        this.rowPlaceholder.viewContainerReference.clear();\r\n        this.calculateNumberOfPages();\r\n        this.setPageData();\r\n    }\r\n\r\n    private checkIfTableHasScroll(): void {\r\n        if ( this.cmxTableBodyElement &&\r\n        this.cmxTableBodyElement.nativeElement.offsetHeight <\r\n        this.cmxTableBodyElement.nativeElement.scrollHeight ) {\r\n            this.tableHasScroll = true;\r\n        } else {\r\n            this.tableHasScroll = false;\r\n        }\r\n    }\r\n\r\n    // =============================================================================================\r\n    // views' rendering\r\n    // =============================================================================================\r\n\r\n    private renderHeader(): void {\r\n        this.headerPlaceholder.viewContainerReference.clear();\r\n        if ( this.headerDefinitions ) {\r\n            this.headerDefinitions.forEach( ( headerDef ) => {\r\n                const context = { $implicit: this._table };\r\n                this.headerPlaceholder.viewContainerReference.createEmbeddedView(\r\n                    headerDef.template,\r\n                    context\r\n                );\r\n            });\r\n        }\r\n    }\r\n\r\n    private renderRows(): void {\r\n        if ( this.rowDefinitions ) {\r\n            if ( this.rowViewReferences && this.rowViewReferences.length > 0 ) {\r\n                // the views already exist\r\n                this.updateRowsContext();\r\n            } else {\r\n                // first rendering of the rows\r\n                this.rowDefinitions.forEach( ( rowDef ) => {\r\n                    this.currentPageData.forEach( ( rowData, $index ) => {\r\n                        const context = { $implicit: rowData };\r\n                        const ref = this.rowPlaceholder.viewContainerReference.createEmbeddedView(\r\n                            rowDef.template,\r\n                            context\r\n                        );\r\n                        this.rowViewReferences.push( ref );\r\n                    });\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    private updateRowsContext(): void {\r\n        if ( this.rowDefinitions ) {\r\n            this.rowDefinitions.forEach( ( rowDef ) => {\r\n                this.rowViewReferences.forEach( ( viewRef, $index ) => {\r\n                    if ( $index > ( this.currentPageData.length - 1 ) ) {\r\n                        // the current page has less data to show than the set page size\r\n                        if ( viewRef !== undefined ) {\r\n                            viewRef.destroy();\r\n                        }\r\n                        this.rowViewReferences.splice( $index, 1, undefined );\r\n                    } else {\r\n                        // the view reference is used on the current page\r\n                        const context = { $implicit: this.currentPageData[ $index ] };\r\n                        if ( viewRef === undefined ) {\r\n                            // the view reference was destroyed, a new replacement\r\n                            const ref = this.rowPlaceholder.viewContainerReference\r\n                            .createEmbeddedView(\r\n                                rowDef.template,\r\n                                context,\r\n                                $index\r\n                            );\r\n                            this.rowViewReferences[ $index ] = ref;\r\n                        } else {\r\n                            // no new view reference is required, update the context data\r\n                            viewRef.context.$implicit = context.$implicit;\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    // =============================================================================================\r\n    // filters\r\n    // =============================================================================================\r\n\r\n    private findIntersection( arrayOne: any[], arrayTwo: any[] ): any[] {\r\n        const intersection: any[] = [];\r\n        let $i = 0;\r\n        let $j = 0;\r\n        while ( $i < arrayOne.length ) {\r\n            $j = 0;\r\n            while ( $j < arrayTwo.length ) {\r\n                if ( arrayOne[ $i ] === arrayTwo[ $j ] ) {\r\n                    intersection.push( arrayOne[ $i ] );\r\n                }\r\n                $j++;\r\n            }\r\n            $i++;\r\n        }\r\n        return intersection;\r\n    }\r\n\r\n    // =============================================================================================\r\n    // pagination\r\n    // =============================================================================================\r\n\r\n    /**\r\n     * @description Calculates the number of pages given the array of data and\r\n     * determines the index of the data source for each page.\r\n     */\r\n    private calculateNumberOfPages(): void {\r\n        const numberOfPages: number = Math.ceil( this.viewportData.length / this._pageSize );\r\n        this.pages = [];\r\n        let i = 1;\r\n        do {\r\n            const min = ( ( i - 1 ) * this._pageSize );\r\n            const max = min + this._pageSize - 1;\r\n            this.pages.push({\r\n                pageNumber: i,\r\n                minIndex: min,\r\n                maxIndex: max\r\n            } as Page);\r\n            i++;\r\n        } while ( i <= numberOfPages );\r\n    }\r\n\r\n    private setPageData(): void {\r\n        const $page = this.pages.find((page) => page.pageNumber === this.currentActivePage);\r\n        this.currentPageData = [];\r\n        if ($page !== undefined && $page !== null) {\r\n            for (let $i = $page.minIndex; $i <= $page.maxIndex; $i++ ) {\r\n                if (this.viewportData[$i]) {\r\n                    this.currentPageData.push(this.viewportData[$i]);\r\n                }\r\n            }\r\n        } else {\r\n            this.currentActivePage = 1;\r\n            for (let $i = this.pages[0].minIndex; $i <= this.pages[0].maxIndex; $i++ ) {\r\n                if (this.viewportData[$i]) {\r\n                    this.currentPageData.push(this.viewportData[$i]);\r\n                }\r\n            }\r\n        }\r\n        this.renderRows();\r\n        this.checkIfTableHasScroll();\r\n    }\r\n}\r\n","import { Component, Input, Output, EventEmitter, Host } from '@angular/core';\r\n\r\nimport { CmxTableComponent } from '../cmx-table/cmx-table.component';\r\n\r\n@Component({\r\n    selector: 'cmx-pagination',\r\n    templateUrl: './cmx-pagination.component.html',\r\n    styleUrls: [ './../../../../../../../../../scss/cmx-table/v1/cmx-pagination.component.scss' ],\r\n})\r\nexport class CmxPaginationComponent {\r\n    @Input()\r\n    set pages($value: number) {\r\n        if ($value !== undefined && $value !== null) {\r\n            this._pages = $value;\r\n            this.organizePages();\r\n        }\r\n    }\r\n    get pages(): number {\r\n        return this._pages;\r\n    }\r\n\r\n    @Input()\r\n    set currentPage($value: number) {\r\n        if ($value !== undefined && $value != null) {\r\n            this._currentPage = $value;\r\n            if (this._currentPage < this.range) {\r\n                this.state = 1;\r\n            } else if (this._currentPage >= this.range &&\r\n            this._currentPage <= (this.pages - this.range)) {\r\n                this.state = 2;\r\n            } else if (this._currentPage > (this.pages - this.range)) {\r\n                this.state = 3;\r\n            }\r\n        }\r\n    }\r\n    get currentPage(): number {\r\n        return this._currentPage;\r\n    }\r\n\r\n    @Output() public pageChanged: EventEmitter<number> = new EventEmitter<number>();\r\n\r\n    public beginning: number[] = [];\r\n    public end: number[] = [];\r\n    public state = 1;\r\n    public isRtl = false;\r\n    private _pages: number;\r\n    private _currentPage = 1;\r\n    private range = 5;\r\n\r\n    constructor(@Host() private parent: CmxTableComponent) {\r\n        // strange shit that a delay is needed to set the value from the parent\r\n        setTimeout(() => {\r\n            this.isRtl = this.parent.rtl;\r\n        }, 100);\r\n    }\r\n\r\n    /**\r\n     * @description Goes one page down from the current one.\r\n     */\r\n    public previousPage(): void {\r\n        const $calc: number = this.currentPage - 1;\r\n        if ($calc > 0) {\r\n            this.setPage($calc);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @description Goes one page up from the current one.\r\n     */\r\n    public nextPage(): void {\r\n        const $calc: number = this.currentPage + 1;\r\n        if ($calc <= this.pages) {\r\n            this.setPage($calc);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @description Check if the last page shortcut is shown\r\n     * whether the first page is present or not.\r\n     * @returns boolean\r\n     */\r\n    public showFirstPageShortcut(): boolean {\r\n        let $show = true;\r\n        this.end.forEach(($page) => {\r\n            if ($page === 1) {\r\n                $show = false;\r\n            }\r\n        });\r\n        return $show && (this.state !== 1);\r\n    }\r\n\r\n    /**\r\n     * @description Check if the last page shortcut is shown\r\n     * whether the last page is present or not.\r\n     * @returns boolean\r\n     */\r\n    public showLastPageShortcut(): boolean {\r\n        let $show = true;\r\n        this.beginning.forEach(($page) => {\r\n            if ($page === this.pages) {\r\n                $show = false;\r\n            }\r\n        });\r\n        return $show && (this.state !== 3);\r\n    }\r\n\r\n    /**\r\n     * @description Sets the current page from the user's click.\r\n     * @param number $page The number of the page clicked.\r\n     */\r\n    public setPage($page: number): void {\r\n        this.currentPage = $page;\r\n        if (this.currentPage < this.range) {\r\n            this.state = 1;\r\n        } else if (this.currentPage >= this.range &&\r\n        this.currentPage <= (this.pages - this.range)) {\r\n            this.state = 2;\r\n        } else if (this.currentPage > (this.pages - this.range)) {\r\n            this.state = 3;\r\n        }\r\n        this.pageChanged.emit(this.currentPage);\r\n    }\r\n\r\n    private organizePages(): void {\r\n        this.state = 1;\r\n        this.currentPage = 1;\r\n        this.beginning = [];\r\n        this.end = [];\r\n        let $i = 1;\r\n        while ($i <= this.range && $i <= this.pages) {\r\n            this.beginning.push($i);\r\n            $i++;\r\n        }\r\n        $i = (this.pages - this.range);\r\n        if ($i === 0) {\r\n            $i++;\r\n        }\r\n        while ($i <= this.pages) {\r\n            this.end.push($i);\r\n            $i++;\r\n        }\r\n    }\r\n}\r\n","import { Directive, HostBinding } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: 'cmx-table-item, [cmx-table-item]',\r\n})\r\nexport class CmxTableItemDirective {\r\n    @HostBinding( 'class.cmx-table-item' ) public cmxTableItemClass = true;\r\n\r\n    constructor() { }\r\n}\r\n","import { Directive, HostBinding } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: 'cmx-cell, [cmx-cell]',\r\n})\r\nexport class CmxCellDirective {\r\n    @HostBinding( 'class.cmx-cell' ) public cmxCellClass = true;\r\n\r\n    constructor() { }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\n\r\nimport { CmxCheckboxModule } from '@cemex/cmx-checkbox-v4';\r\nimport { CmxDatepickerModule } from '@cemex/cmx-datepicker-v4';\r\n\r\nimport { CmxTableComponent } from './components/cmx-table/cmx-table.component';\r\nimport { CmxPaginationComponent } from './components/cmx-pagination/cmx-pagination.component';\r\nimport { CmxDatepickerFilterComponent } from './components/cmx-datepicker-filter/cmx-datepicker-filter.component';\r\nimport { CmxHeaderCellComponent } from './components/cmx-header-cell/cmx-header-cell.component';\r\nimport { CmxFilterSorterComponent } from './components/cxm-filter-sorter/cmx-filter-sorter.component';\r\nimport { CmxCheckboxFiltersComponent } from './components/cmx-checkbox-filters/cmx-checkbox-filters.component';\r\nimport { CmxTableItemDirective } from './directives/cmx-table-item.directive';\r\nimport { CmxCellDirective } from './directives/cmx-cell.directive';\r\nimport { HeaderPlaceholderDirective } from './directives/cmx-header-placeholder.directive';\r\nimport { RowPlaceholderDirective } from './directives/cmx-row-placeholder.directive';\r\nimport { CmxHeaderTemplateDirective } from './directives/cmx-header-template.directive';\r\nimport { CmxRowTemplateDirective } from './directives/cmx-row-template.directive';\r\nimport { WatcherService } from './services/watcher.service';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    FlexLayoutModule,\r\n    CmxCheckboxModule,\r\n    CmxDatepickerModule,\r\n],\r\ndeclarations: [\r\n    CmxTableComponent,\r\n    CmxCheckboxFiltersComponent,\r\n    CmxRowTemplateDirective,\r\n    CmxHeaderTemplateDirective,\r\n    RowPlaceholderDirective,\r\n    HeaderPlaceholderDirective,\r\n    CmxHeaderCellComponent,\r\n    CmxFilterSorterComponent,\r\n    CmxCellDirective,\r\n    CmxTableItemDirective,\r\n    CmxDatepickerFilterComponent,\r\n    CmxPaginationComponent,\r\n],\r\nexports: [\r\n    CmxTableComponent,\r\n    CmxCheckboxFiltersComponent,\r\n    CmxRowTemplateDirective,\r\n    CmxHeaderTemplateDirective,\r\n    CmxFilterSorterComponent,\r\n    RowPlaceholderDirective,\r\n    HeaderPlaceholderDirective,\r\n    CmxHeaderCellComponent,\r\n    CmxCellDirective,\r\n    CmxTableItemDirective,\r\n    CmxDatepickerFilterComponent,\r\n    CmxPaginationComponent,\r\n],\r\nproviders: [\r\n    WatcherService,\r\n]\r\n})\r\nexport class CmxTableModule { }\r\n","import { Filter } from './filter.class';\r\n\r\nexport class Column {\r\n    public active: boolean;\r\n    public on: boolean;\r\n    public hide: boolean;\r\n\r\n    private name: string;\r\n    private columnKey: string;\r\n    private filters: Filter[];\r\n    private dateFilter: Filter;\r\n    private nameValueKey: string;\r\n    private filterValueKey: string;\r\n\r\n    constructor(\r\n    _name: string, _columnKey: string, _active: boolean, _on: boolean,\r\n    _nameValueKey?: string, _filterValueKey?: string, _hide?: boolean ) {\r\n        this.name = _name;\r\n        this.columnKey = _columnKey;\r\n        this.active = _active;\r\n        this.on = _on;\r\n        this.filters = [];\r\n        this.nameValueKey = _nameValueKey;\r\n        this.filterValueKey = _filterValueKey;\r\n        this.hide = _hide;\r\n    }\r\n\r\n    public addDateFilter(): void {\r\n        if ( this.nameValueKey ) {\r\n            const dates = {\r\n                min: new Date(),\r\n                max: new Date()\r\n            };\r\n            const aux = new Filter( this.nameValueKey, dates, false, this.columnKey );\r\n            this.dateFilter = aux;\r\n        }\r\n    }\r\n\r\n    public addFilter( item: any, isDate?: boolean ): void {\r\n        if ( this.nameValueKey && this.filterValueKey ) {\r\n            const filter = this.filters.find(\r\n                ( $element ) => $element.value === item[ this.filterValueKey ]\r\n            );\r\n            if ( filter === undefined ) {\r\n                const aux = new Filter(\r\n                    item[ this.nameValueKey ], item[ this.filterValueKey ], false, this.columnKey\r\n                );\r\n                this.filters.push( aux );\r\n            }\r\n        }\r\n    }\r\n\r\n    public getName(): string {\r\n        return this.name;\r\n    }\r\n\r\n    public getKey(): string {\r\n        return this.columnKey;\r\n    }\r\n\r\n    public getFilterNameKey(): string {\r\n        return this.nameValueKey;\r\n    }\r\n\r\n    public getFilterValueKey(): string {\r\n        return this.filterValueKey;\r\n    }\r\n\r\n    public getFilters(): Filter[] {\r\n        return this.filters;\r\n    }\r\n\r\n    public setFilters( $filters: Filter[] ): void {\r\n        this.filters = $filters;\r\n    }\r\n\r\n    public getDateFilter(): Filter {\r\n        return this.dateFilter;\r\n    }\r\n\r\n    public getFilterFunction( filter: Filter ): any {\r\n        if ( this.filters.length > 0 ) {\r\n            const aux: Filter = this.filters[ 0 ].value;\r\n            if ( typeof aux === 'number' && isFinite( aux ) ) {\r\n                return this.numericFilterFunction( filter );\r\n            } else {\r\n                return this.commonFilterFunction( filter );\r\n            }\r\n            // array value && typeof value === 'object' && value.constructor === Array\r\n            // object value && typeof value === 'object' && value.constructor === Object\r\n        }\r\n        if ( this.dateFilter ) {\r\n            return this.dateFilterFunction( filter );\r\n        }\r\n        return undefined;\r\n    }\r\n\r\n    public commonFilterFunction( filter: Filter ) {\r\n        return ( item: any ) => {\r\n            return item[ this.filterValueKey ] === filter.value;\r\n        };\r\n    }\r\n\r\n    public dateFilterFunction( filter: Filter ) {\r\n        return ( item: any ) => {\r\n            if ( typeof filter.value.min === 'string' ) {\r\n                filter.value.min = this.getDateObject( filter.value.min );\r\n            }\r\n            if ( typeof filter.value.max === 'string' ) {\r\n                filter.value.max = this.getDateObject( filter.value.max );\r\n            }\r\n            const min = filter.value.min.getTime();\r\n            const max = filter.value.max.getTime();\r\n            return ( item[ this.filterValueKey ] !== undefined &&\r\n            min <= item[ this.filterValueKey ].getTime() &&\r\n            item[ this.filterValueKey ].getTime() <= max );\r\n        };\r\n    }\r\n\r\n    public numericFilterFunction( filter: Filter ) {\r\n        return ( item: any ) => {\r\n            return item[ this.filterValueKey ] === filter.value;\r\n            // return filter.value.min <= item[ this.filterValueKey ] &&\r\n            // item[ this.filterValueKey ] <= filter.value.max;\r\n        };\r\n    }\r\n\r\n    public clearFilters(): void {\r\n        this.filters = [];\r\n    }\r\n\r\n    public getSortFunction( ASC: boolean ): any {\r\n        if ( this.filters.length > 0 ) {\r\n            const aux = this.filters[ 0 ].value;\r\n            if ( typeof aux === 'string' || aux instanceof String ) {\r\n                return this.stringSortFunction( ASC );\r\n            }\r\n            if ( typeof aux === 'number' && isFinite( aux ) ) {\r\n                return this.numericSortFunction( ASC );\r\n            }\r\n            if ( typeof aux === 'boolean' ) {\r\n                return this.booleanSortFunction( ASC );\r\n            }\r\n            // array value && typeof value === 'object' && value.constructor === Array\r\n            // object value && typeof value === 'object' && value.constructor === Object\r\n        }\r\n        if ( this.dateFilter ) {\r\n            return this.dateSortFunction( ASC );\r\n        }\r\n        return undefined;\r\n    }\r\n\r\n    private stringSortFunction( ASC: boolean ) {\r\n        return ( a: any, b: any ) => {\r\n            if ( a[ this.filterValueKey ] === undefined ) {\r\n                return 1;\r\n            }\r\n            const order = ( ASC ) ? 1 : -1;\r\n            return order * a[ this.filterValueKey ].localeCompare( b[ this.filterValueKey ] );\r\n        };\r\n    }\r\n\r\n    private numericSortFunction( ASC: boolean ) {\r\n        return ( a: any, b: any ) => {\r\n            if ( a[ this.filterValueKey ] === undefined ) {\r\n                const order = ( ASC ) ? 1 : -1;\r\n                return order;\r\n            }\r\n            if ( b[ this.filterValueKey ] === undefined ) {\r\n                const order = ( ASC ) ? -1 : 1;\r\n                return order;\r\n            }\r\n            if ( a[ this.filterValueKey ] < b[ this.filterValueKey ] ) {\r\n                const order = ( ASC ) ? -1 : 1;\r\n                return order;\r\n            }\r\n            if ( a[ this.filterValueKey ] > b[ this.filterValueKey ] ) {\r\n                const order = ( ASC ) ? 1 : -1;\r\n                return order;\r\n            }\r\n            return 0;\r\n        };\r\n    }\r\n\r\n    private booleanSortFunction( ASC: boolean ) {\r\n        return ( a: any, b: any ) => {\r\n            if ( a[ this.filterValueKey ] === undefined ) {\r\n                return 1;\r\n            }\r\n            if ( a[ this.filterValueKey ] === true && b[ this.filterValueKey ] === false ) {\r\n                const order = ( ASC ) ? -1 : 1;\r\n                return order;\r\n            }\r\n            if ( a[ this.filterValueKey ] === false && b[ this.filterValueKey ] === true ) {\r\n                const order = ( ASC ) ? 1 : -1;\r\n                return order;\r\n            }\r\n            return 0;\r\n        };\r\n    }\r\n\r\n    private dateSortFunction( ASC: boolean ) {\r\n        return ( a: any, b: any ) => {\r\n            if ( a[ this.filterValueKey ] === undefined ) {\r\n                const order = ( ASC ) ? 1 : -1;\r\n                return order;\r\n            }\r\n            if ( b[ this.filterValueKey ] === undefined ) {\r\n                const order = ( ASC ) ? -1 : 1;\r\n                return order;\r\n            }\r\n            if ( a[ this.filterValueKey ].getTime() < b[ this.filterValueKey ].getTime() ) {\r\n                const order = ( ASC ) ? -1 : 1;\r\n                return order;\r\n            }\r\n            if ( a[ this.filterValueKey ].getTime() > b[ this.filterValueKey ].getTime() ) {\r\n                const order = ( ASC ) ? 1 : -1;\r\n                return order;\r\n            }\r\n            return 0;\r\n        };\r\n    }\r\n\r\n    private getDateObject( date: string ): Date {\r\n        const auxDate = date.replace( /-g/, '/' );\r\n        const bits: any = auxDate.split( /\\D/ );\r\n        const month = parseInt( bits[1], 10 ) - 1;\r\n        return new Date( bits[0], month, bits[2], bits[3], bits[4], bits[5] );\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}
